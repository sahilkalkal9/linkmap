/*! For license information please see main.f214ee19.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var B,F=Object.assign;function M(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function V(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case A:return"Portal";case E:return"Profiler";case I:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),Ae(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function _e(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(_e(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Be=!1,Fe=null,Me=!1,Ue=null,je={onError:function(e){Be=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Be=!1,Fe=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,At,xt,It,Et,St=!1,Tt=[],Ct=null,_t=null,Nt=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function jt(){St=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==_t&&Mt(_t)&&(_t=null),null!==Nt&&Mt(Nt)&&(Nt=null),Dt.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==_t&&Vt(_t,e),null!==Nt&&Vt(Nt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Qt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Bt(Ct,e,t,n,r,i),!0;case"dragenter":return _t=Bt(_t,e,t,n,r,i),!0;case"mouseover":return Nt=Bt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Bt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Bt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&qr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=yi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),gn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),wn=an(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Sn=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Bn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Kn=null;function Wn(e){Mr(e,0)}function Yn(e){if(K(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Kn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,be(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Qr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),_r=Er("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Be){if(!Be)throw Error(a(198));var l=Fe;Be=!1,Fe=null,Me||(Me=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=be(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Sr:case Tr:case Cr:s=gn;break;case _r:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(qn(u))if(Xn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?wi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(g=Qr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Vn(n))&&(k.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Mr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var Ai=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=Ai[xi],Ai[xi]=null,xi--)}function Si(e,t){xi++,Ai[xi]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),_i=Ii(!1),Ni=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(_i),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(_i,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return F({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Si(Ci,e),Si(_i,_i.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(_i),Ei(Ci),Si(Ci,e)):Ei(_i),Si(_i,n)}var Mi=null,Ui=!1,ji=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!ji&&null!==Mi){ji=!0;var e=0,t=kt;try{var n=Mi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke($e,zi),i}finally{kt=t,ji=!1}}return null}var Hi=[],qi=0,Gi=null,Qi=0,Ki=[],Wi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){Hi[qi++]=Qi,Hi[qi++]=Gi,Gi=e,Qi=t}function $i(e,t,n){Ki[Wi++]=Ji,Ki[Wi++]=Xi,Ki[Wi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=Hi[--qi],Hi[qi]=null,Qi=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Ki[--Wi],Ki[Wi]=null,Xi=Ki[--Wi],Ki[Wi]=null,Ji=Ki[--Wi],Ki[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ka=null,wa=null;function ba(){wa=ka=ya=null}function Aa(e){var t=ga.current;Ei(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,wa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_s)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Bc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case A:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Bc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=h(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return ia&&Zi(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Bc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Qa(r,a,o),s.return=r,r=s)}return u(r);case A:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Si($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,wo=0,bo=0;function Ao(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,wo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Co(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Bo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Bo(t)&&Fo(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=_a(e,1);null!==t&&rc(t,e,1,-1)}function Mo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Vo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Qo(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:Ea,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Mo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:Xo,useReducer:_o,useRef:jo,useState:function(){return _o(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[_o(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Qo,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Qs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=w.ReactCurrentOwner,wu=!1;function bu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function Au(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||wu?(ia&&n&&ea(t),t.flags|=1,bu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Rs),Rs|=r;return bu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||wu?(ia&&r&&ea(t),t.flags|=1,bu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Bi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),Ha(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Di(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Na?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Di(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):bu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,bu(e,t,n,r),t.child}var Pu,Ru,Ou,Lu,Bu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Bc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Bu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Bc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Bu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),rc(r,e,i,-1))}return mc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Wi++]=Ji,Ki[Wi++]=Xi,Ki[Wi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Bc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Bu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Hu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(_i),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":Q(r),$(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":Q(e),$(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Ru(e,t),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return Aa(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Qu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Qu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Hs&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(_i),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Xu=!1,Zu="function"===typeof WeakSet?WeakSet:Set,$u=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),ys(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),ys(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),ys(e);break;case 13:ms(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){As(h);continue}}null!==p?(p.return=d,$u=p):As(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),ys(e),4&r&&vs(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){$u=e,ws(e,t,n)}function ws(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Ju;var c=Xu;if(Ju=o,(Xu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,$u=s):xs(i);for(;null!==a;)$u=a,ws(a,t,n),a=a.sibling;$u=i,Ju=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):bs(e)}}function bs(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ma(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ma(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function As(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function xs(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var Is,Es=Math.ceil,Ss=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Cs=w.ReactCurrentBatchConfig,_s=0,Ns=null,Ds=null,Ps=0,Rs=0,Os=Ii(0),Ls=0,Bs=null,Fs=0,Ms=0,Us=0,js=null,Vs=null,zs=0,Hs=1/0,qs=null,Gs=!1,Qs=null,Ks=null,Ws=!1,Ys=null,Js=0,Xs=0,Zs=null,$s=-1,ec=0;function tc(){return 0!==(6&_s)?Xe():-1!==$s?$s:$s=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&_s)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));gt(e,n,r),0!==(2&_s)&&e===Ns||(e===Ns&&(0===(2&_s)&&(Ms|=n),4===Ls&&sc(e,Ps)),ic(e,r),1===n&&0===_s&&0===(1&t.mode)&&(Hs=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ps:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&_s)&&zi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($s=-1,ec=0,0!==(6&_s))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_s;_s|=2;var o=vc();for(Ns===e&&Ps===t||(qs=null,Hs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}ba(),Ss.current=o,_s=i,null!==Ds?t=0:(Ns=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Bs,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Bs,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ac(e,Vs,qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Vs,qs),t);break}Ac(e,Vs,qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Vs,qs),r);break}Ac(e,Vs,qs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vs,Vs=n,null!==t&&uc(t)),e}function uc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sc(e,t){for(t&=~Us,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&_s))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Bs,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Vs,qs),ic(e,Xe()),null}function lc(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Hs=Xe()+500,Ui&&zi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&_s)&&xc();var t=_s;_s|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(_s=t))&&zi()}}function hc(){Rs=Os.current,Ei(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(_i),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:Aa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Ds=e=Oc(e.current,null),Ps=Rs=t,Ls=0,Bs=null,Us=Ms=Fs=0,Vs=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ds;try{if(ba(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,wo=0,Ts.current=null,null===n||null===n.return){Ls=1,Bs=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var g=gu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),yu(g,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,pu(0,c,t));break e;case 1:s=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Ms)||sc(Ns,Ps)}function gc(e,t){var n=_s;_s|=2;var r=vc();for(Ns===e&&Ps===t||(qs=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(ba(),_s=n,Ss.current=r,null!==Ds)throw Error(a(261));return Ns=null,Ps=0,Ls}function yc(){for(;null!==Ds;)wc(Ds)}function kc(){for(;null!==Ds&&!Ye();)wc(Ds)}function wc(e){var t=Is(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,Ts.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Rs)))return void(Ds=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Ls=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ls&&(Ls=5)}function Ac(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ys);if(0!==(6&_s))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ds=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=_s;_s|=4,Ts.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(b){Ec(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ns,ns=!1}(e,n),gs(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Je(),_s=s,kt=u,Cs.transition=o}else e.current=n;if(Ws&&(Ws=!1,Ys=e,Js=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Qs,Qs=null,e;0!==(1&Js)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==Ys){var e=wt(Js),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Js=0,0!==(6&_s))throw Error(a(331));var i=_s;for(_s|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(os(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$u=y;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var w=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,$u=w;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(A){Ec(s,s.return,A)}if(s===u){$u=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,$u=b;break e}$u=s.return}}if(_s=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>Xe()-zs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=_a(e,t))&&(gt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Bc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case _:return(e=Pc(13,n,t,i)).elementType=_,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Bi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Si(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Gu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=Au(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}bu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),bu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):bu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bu(e,t,t.pendingProps,n),t.child;case 8:case 12:return bu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ga,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!_i.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}bu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,bu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Bi(t)):e=!1,Ia(t,n),Ha(t,r,i),Ga(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return Hu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&_s)&&(Hs=Xe()+500,zi()))}break;case 13:fc((function(){var t=_a(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},At=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=_a(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,_e=fc;var tl={usingClientEntryPoint:!1,Events:[ki,wi,bi,Se,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=k.prototype=new y;w.constructor=k,v(w,g.prototype),w.isPureReactComponent=!0;var b=Array.isArray,A=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),_(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=_(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=_(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)A.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,R(A);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function A(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,S=-1,T=5,C=-1;function _(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,x=function(){P.postMessage(null)}}else x=function(){g(N,0)};function R(e){E=e,I||(I=!0,x())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(S),S=-1):m=!0,O(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(A))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".bd24154c.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="linkmap:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklinkmap=self.webpackChunklinkmap||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return H},SDK_VERSION:function(){return ut},_DEFAULT_ENTRY_NAME:function(){return We},_addComponent:function(){return Ze},_addOrOverwriteComponent:function(){return $e},_apps:function(){return Je},_clearComponents:function(){return rt},_components:function(){return Xe},_getProvider:function(){return tt},_registerComponent:function(){return et},_removeServiceInstance:function(){return nt},deleteApp:function(){return ft},getApp:function(){return ct},getApps:function(){return lt},initializeApp:function(){return st},onLog:function(){return dt},registerVersion:function(){return ht},setLogLevel:function(){return pt}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}n.p;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){var t=b();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function x(e,t,n){return x=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},x.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return x(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},I(e)}var E=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(E(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new T;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},T=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return v(n)}(I(Error)),C=function(e){return function(e){var t=E(e);return S.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_=function(e){try{return S.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function N(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=N(e[n],t[n]));return e}var D=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},P=function(){try{return D()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&_(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},R=function(e){var t,n;return null===(n=null===(t=P())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},O=function(){var e;return null===(e=P())||void 0===e?void 0:e.config},L=function(e){var t;return null===(t=P())||void 0===t?void 0:t["_".concat(e)]},B=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){var e,t=null===(e=P())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function U(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function V(){var e=F();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function z(){try{return"object"===typeof indexedDB}catch(e){return!1}}var H=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),q.prototype.create),a}return v(n)}(I(Error)),q=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(G,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new H(n,a,t)}}]),e}();var G=/\{\$([^}]+)}/g;function Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Y(u)&&Y(s)){if(!W(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Y(e){return null!==e&&"object"===typeof e}function J(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function X(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Z(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=m(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function te(){}function ne(e){return e&&e._delegate?e._delegate:e}function re(){re=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),u=new D(r||[]);return i(o,"_invoke",{value:T(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function y(){}function k(){}function w(){}var b={};c(b,o,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,o)&&(b=x);var I=w.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=h(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=C(u,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?m:p,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return k.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:k,configurable:!0}),k.displayName=c(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(I),c(I,s,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function ie(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ae(e){return function(e){if(Array.isArray(e))return o(e)}(e)||ie(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){oe(a,r,i,o,u,"next",e)}function u(e){oe(a,r,i,o,u,"throw",e)}o(void 0)}))}}var se=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ce="[DEFAULT]",le=function(e){function t(e,n){d(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new B;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(s){}var t,n=m(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){return(e=e||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ae(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ae(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=m(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ce?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return this.component?this.component.multipleInstances?e:ce:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var fe,he,de=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new le(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(he||(he={}));var ve={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},me=he.INFO,ge=(h(fe={},he.DEBUG,"log"),h(fe,he.VERBOSE,"log"),h(fe,he.INFO,"info"),h(fe,he.WARN,"warn"),h(fe,he.ERROR,"error"),fe),ye=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ke=function(){function e(t){d(this,e),this.name=t,this._logLevel=me,this._logHandler=ye,this._userLogHandler=null,pe.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in he))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ve[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,he.DEBUG].concat(t)),this._logHandler.apply(this,[this,he.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,he.VERBOSE].concat(t)),this._logHandler.apply(this,[this,he.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,he.INFO].concat(t)),this._logHandler.apply(this,[this,he.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,he.WARN].concat(t)),this._logHandler.apply(this,[this,he.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,he.ERROR].concat(t)),this._logHandler.apply(this,[this,he.ERROR].concat(t))}}]),e}();function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae,xe,Ie=function(e,t){return t.some((function(t){return e instanceof t}))};var Ee=new WeakMap,Se=new WeakMap,Te=new WeakMap,Ce=new WeakMap,_e=new WeakMap;var Ne={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Se.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Te.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Re(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function De(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Oe(this),n),Re(Ee.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Re(e.apply(Oe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Oe(this),t].concat(r));return Te.set(a,t.sort?t.sort():[t]),Re(a)}}function Pe(e){return"function"===typeof e?De(e):(e instanceof IDBTransaction&&function(e){if(!Se.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Se.set(e,t)}}(e),Ie(e,Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ne):e)}function Re(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Re(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ee.set(t,e)})).catch((function(){})),_e.set(t,e),t}(e);if(Ce.has(e))return Ce.get(e);var t=Pe(e);return t!==e&&(Ce.set(e,t),_e.set(t,e)),t}var Oe=function(e){return _e.get(e)};var Le,Be,Fe,Me,Ue,je=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],ze=new Map;function He(e,t){var n;if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ze.get(t))return ze.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=Ve.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||je.includes(r))){var o=function(e){return(n=n||ue(re().mark((function e(t){var n,o,u,s,c,l,f=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return i&&(u=u.index(c.shift())),e.next=6,Promise.all([(n=u)[r].apply(n,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)};return ze.set(t,o),o}}}Ne=function(e){return be(be({},e),{},{get:function(t,n,r){return He(t,n)||e.get(t,n,r)},has:function(t,n){return!!He(t,n)||e.has(t,n)}})}(Ne);var qe=function(){function e(t){d(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ge="@firebase/app",Qe="0.9.18",Ke=new ke("@firebase/app"),We="[DEFAULT]",Ye=(h(Le={},Ge,"fire-core"),h(Le,"@firebase/app-compat","fire-core-compat"),h(Le,"@firebase/analytics","fire-analytics"),h(Le,"@firebase/analytics-compat","fire-analytics-compat"),h(Le,"@firebase/app-check","fire-app-check"),h(Le,"@firebase/app-check-compat","fire-app-check-compat"),h(Le,"@firebase/auth","fire-auth"),h(Le,"@firebase/auth-compat","fire-auth-compat"),h(Le,"@firebase/database","fire-rtdb"),h(Le,"@firebase/database-compat","fire-rtdb-compat"),h(Le,"@firebase/functions","fire-fn"),h(Le,"@firebase/functions-compat","fire-fn-compat"),h(Le,"@firebase/installations","fire-iid"),h(Le,"@firebase/installations-compat","fire-iid-compat"),h(Le,"@firebase/messaging","fire-fcm"),h(Le,"@firebase/messaging-compat","fire-fcm-compat"),h(Le,"@firebase/performance","fire-perf"),h(Le,"@firebase/performance-compat","fire-perf-compat"),h(Le,"@firebase/remote-config","fire-rc"),h(Le,"@firebase/remote-config-compat","fire-rc-compat"),h(Le,"@firebase/storage","fire-gcs"),h(Le,"@firebase/storage-compat","fire-gcs-compat"),h(Le,"@firebase/firestore","fire-fst"),h(Le,"@firebase/firestore-compat","fire-fst-compat"),h(Le,"fire-js","fire-js"),h(Le,"firebase","fire-js-all"),Le),Je=new Map,Xe=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(n){Ke.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $e(e,t){e.container.addOrOverwriteComponent(t)}function et(e){var t=e.name;if(Xe.has(t))return Ke.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xe.set(t,e);var n,r=m(Je.values());try{for(r.s();!(n=r.n()).done;){Ze(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function tt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We;tt(e,t).clearInstance(n)}function rt(){Xe.clear()}var it=(h(Be={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),h(Be,"bad-app-name","Illegal App name: '{$appName}"),h(Be,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(Be,"app-deleted","Firebase App named '{$appName}' already deleted"),h(Be,"no-options","Need to provide options, when not being deployed to hosting via source."),h(Be,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(Be,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(Be,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),h(Be,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),h(Be,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),h(Be,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Be),at=new q("app","Firebase",it),ot=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new se("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}]),e}(),ut="10.3.1";function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:We,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw at.create("bad-app-name",{appName:String(i)});if(n||(n=O()),!n)throw at.create("no-options");var a=Je.get(i);if(a){if(W(n,a.options)&&W(r,a.config))return a;throw at.create("duplicate-app",{appName:i})}var o,u=new de(i),s=m(Xe.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ot(n,r,u);return Je.set(i,l),l}function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=Je.get(e);if(!t&&e===We&&O())return st();if(!t)throw at.create("no-app",{appName:e});return t}function lt(){return Array.from(Je.values())}function ft(e){return(Fe=Fe||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Je.has(n)){e.next=6;break}return Je.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t,n){var r,i=null!==(r=Ye[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ke.warn(u.join(" "))}et(new se("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function dt(e,t){if(null!==e&&"function"!==typeof e)throw at.create("invalid-log-argument");!function(e,t){var n,r=m(pe);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ve[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:he[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function pt(e){var t;t=e,pe.forEach((function(e){e.setLogLevel(t)}))}var vt="firebase-heartbeat-database",mt=1,gt="firebase-heartbeat-store",yt=null;function kt(){return yt||(yt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Re(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Re(u.result),e.oldVersion,e.newVersion,Re(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(vt,mt,{upgrade:function(e,t){if(0===t)e.createObjectStore(gt)}}).catch((function(e){throw at.create("idb-open",{originalErrorMessage:e.message})}))),yt}function wt(e){return(Me=Me||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kt();case 3:return n=e.sent,e.next=6,n.transaction(gt).objectStore(gt).get(At(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof H?Ke.warn(e.t0.message):(i=at.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ke.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function bt(e,t){return(Ue=Ue||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kt();case 3:return r=e.sent,i=r.transaction(gt,"readwrite"),a=i.objectStore(gt),e.next=8,a.put(n,At(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof H?Ke.warn(e.t0.message):(o=at.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ke.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function At(e){return"".concat(e.name,"!").concat(e.options.appId)}var xt=function(e,t){function n(e){var t=this;d(this,n),this.container=e,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ct(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return v(n,[{key:"triggerHeartbeat",value:function(){return(e=e||ue(re().mark((function e(){var t,n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=It(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getHeartbeatsHeader",value:function(){return(t=t||ue(re().mark((function e(){var t,n,r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=It(),n=Et(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=C(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}();function It(){return(new Date).toISOString().substring(0,10)}function Et(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=m(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),_t(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),_t(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var St,Tt,Ct=function(e,t,n,r){function i(e){d(this,i),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(i,[{key:"runIndexedDBEnvironmentCheck",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"read",value:function(){return(t=t||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,wt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"overwrite",value:function(e){return(n=n||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",bt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"add",value:function(e){return(r=r||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",bt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ae(r.heartbeats),ae(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function _t(e){return C(JSON.stringify({version:2,heartbeats:e})).length}St="",et(new se("platform-logger",(function(e){return new qe(e)}),"PRIVATE")),et(new se("heartbeat",(function(e){return new xt(e)}),"PRIVATE")),ht(Ge,Qe,St),ht(Ge,Qe,"esm2017"),ht("fire-js","");var Nt=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Ze(t,new se("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ft(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ze(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$e(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Dt=(h(Tt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Tt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tt),Pt=new q("app-compat","Firebase",Dt);var Rt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=st(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Q(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ht,setLogLevel:pt,onLog:dt,apps:null,SDK_VERSION:ut,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(et(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Pt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&N(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Q(n,e=e||We))throw Pt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Nt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){N(n,e)},createSubscribe:$,ErrorFactory:q,deepExtend:N}),n}(),Ot=new ke("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ot.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&Ot.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Bt=Rt;!function(e){ht("@firebase/app-compat","0.2.18",e)}();function Ft(){return Ft="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ft.apply(this,arguments)}Bt.registerVersion("firebase","10.3.1","app-compat");var Mt,Ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jt={},Vt=Vt||{},zt=Ut||self;function Ht(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gt="closure_uid_"+(1e9*Math.random()>>>0),Qt=0;function Kt(e,t,n){return e.call.apply(e.bind,arguments)}function Wt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Yt(e,t,n){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kt:Wt).apply(null,arguments)}function Jt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Zt(){this.s=this.s,this.o=this.o}Zt.prototype.s=!1,Zt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Gt)&&e[Gt]||(e[Gt]=++Qt))},Zt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $t=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function en(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function tn(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ht(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function nn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var rn=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zt.addEventListener("test",(function(){}),t),zt.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function an(e){return/^[\s\xa0]*$/.test(e)}function on(){var e=zt.navigator;return e&&(e=e.userAgent)?e:""}function un(e){return-1!=on().indexOf(e)}function sn(e){return sn[" "](e),e}sn[" "]=function(){};var cn,ln,fn=un("Opera"),hn=un("Trident")||un("MSIE"),dn=un("Edge"),pn=dn||hn,vn=un("Gecko")&&!(-1!=on().toLowerCase().indexOf("webkit")&&!un("Edge"))&&!(un("Trident")||un("MSIE"))&&!un("Edge"),mn=-1!=on().toLowerCase().indexOf("webkit")&&!un("Edge");function gn(){var e=zt.document;return e?e.documentMode:void 0}e:{var yn="",kn=function(){var e=on();return vn?/rv:([^\);]+)(\)|;)/.exec(e):dn?/Edge\/([\d\.]+)/.exec(e):hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):mn?/WebKit\/(\S+)/.exec(e):fn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(kn&&(yn=kn?kn[1]:""),hn){var wn=gn();if(null!=wn&&wn>parseFloat(yn)){cn=String(wn);break e}}cn=yn}if(zt.document&&hn){var bn=gn();ln=bn||(parseInt(cn,10)||void 0)}else ln=void 0;var An=ln;function xn(e,t){if(nn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vn){e:{try{sn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:In[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xn.$.h.call(this)}}Xt(xn,nn);var In={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var En="closure_listenable_"+(1e6*Math.random()|0),Sn=0;function Tn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sn,this.fa=this.ia=!1}function Cn(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _n(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Nn(e){var t={};for(var n in e)t[n]=e[n];return t}var Dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Dn.length;a++)n=Dn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rn(e){this.src=e,this.g={},this.h=0}function On(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$t(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Cn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ln(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Rn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ln(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Tn(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Bn="closure_lm_"+(1e6*Math.random()|0),Fn={};function Mn(e,t,n,r,i){if(r&&r.once)return jn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mn(e,t[a],n,r,i);return null}return n=Kn(n),e&&e[En]?e.O(t,n,qt(r)?!!r.capture:!!r,i):Un(e,t,n,!1,r,i)}function Un(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=qt(i)?!!i.capture:!!i,u=Gn(e);if(u||(e[Bn]=u=new Rn(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jn(e,t[a],n,r,i);return null}return n=Kn(n),e&&e[En]?e.P(t,n,qt(r)?!!r.capture:!!r,i):Un(e,t,n,!0,r,i)}function Vn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vn(e,t[a],n,r,i);else r=qt(r)?!!r.capture:!!r,n=Kn(n),e&&e[En]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ln(a=e.g[t],n,r,i))&&(Cn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Gn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ln(t,n,r,i)),(n=-1<e?t[e]:null)&&zn(n))}function zn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[En])On(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gn(t))?(On(n,e),0==n.h&&(n.src=null,t[Bn]=null)):Cn(e)}}}function Hn(e){return e in Fn?Fn[e]:Fn[e]="on"+e}function qn(e,t){if(e.fa)e=!0;else{t=new xn(t,this);var n=e.listener,r=e.la||e.src;e.ia&&zn(e),e=n.call(r,t)}return e}function Gn(e){return(e=e[Bn])instanceof Rn?e:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(e){return"function"===typeof e?e:(e[Qn]||(e[Qn]=function(t){return e.handleEvent(t)}),e[Qn])}function Wn(){Zt.call(this),this.i=new Rn(this),this.S=this,this.J=null}function Yn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new nn(t,e);else if(t instanceof nn)t.target=t.target||e;else{var i=t;Pn(t=new nn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Jn(o,r,!0,t)&&i}if(i=Jn(o=t.g=e,r,!0,t)&&i,i=Jn(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Jn(o=t.g=n[a],r,!1,t)&&i}function Jn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&On(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Xt(Wn,Zt),Wn.prototype[En]=!0,Wn.prototype.removeEventListener=function(e,t,n,r){Vn(this,e,t,n,r)},Wn.prototype.N=function(){if(Wn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cn(n[r]);delete t.g[e],t.h--}}this.J=null},Wn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xn=zt.JSON.stringify,Zn=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return v(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function $n(){var e=ur,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var er=function(){function e(){d(this,e),this.h=this.g=null}return v(e,[{key:"add",value:function(e,t){var n=tr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tr=new Zn((function(){return new nr}),(function(e){return e.reset()})),nr=function(){function e(){d(this,e),this.next=this.g=this.h=null}return v(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rr(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ir(e){zt.setTimeout((function(){throw e}),0)}var ar,or=!1,ur=new er,sr=function(){var e=zt.Promise.resolve(void 0);ar=function(){e.then(cr)}},cr=function(){for(var e;e=$n();){try{e.h.call(e.g)}catch(n){ir(n)}var t=tr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}or=!1};function lr(e,t){Wn.call(this),this.h=e||1,this.g=t||zt,this.j=Yt(this.qb,this),this.l=Date.now()}function fr(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function hr(e,t,n){if("function"===typeof e)n&&(e=Yt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Yt(e.handleEvent,e)}return 2147483647<Number(t)?-1:zt.setTimeout(e,t||0)}function dr(e){e.g=hr((function(){e.g=null,e.i&&(e.i=!1,dr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xt(lr,Wn),(Mt=lr.prototype).ga=!1,Mt.T=null,Mt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yn(this,"tick"),this.ga&&(fr(this),this.start()))}},Mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.N=function(){lr.$.N.call(this),fr(this),delete this.g};var pr=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return v(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:dr(this)}},{key:"N",value:function(){Ft(w(n.prototype),"N",this).call(this),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Zt);function vr(e){Zt.call(this),this.h=e,this.g={}}Xt(vr,Zt);var mr=[];function gr(e,t,n,r){Array.isArray(n)||(n&&(mr[0]=n.toString()),n=mr);for(var i=0;i<n.length;i++){var a=Mn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function yr(e){_n(e.g,(function(e,t){this.g.hasOwnProperty(t)&&zn(e)}),e),e.g={}}function kr(){this.g=!0}function wr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xn(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}vr.prototype.N=function(){vr.$.N.call(this),yr(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kr.prototype.Ea=function(){this.g=!1},kr.prototype.info=function(){};var br={},Ar=null;function xr(){return Ar=Ar||new Wn}function Ir(e){nn.call(this,br.Ta,e)}function Er(e){var t=xr();Yn(t,new Ir(t))}function Sr(e,t){nn.call(this,br.STAT_EVENT,e),this.stat=t}function Tr(e){var t=xr();Yn(t,new Sr(t,e))}function Cr(e,t){nn.call(this,br.Ua,e),this.size=t}function _r(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zt.setTimeout((function(){e()}),t)}br.Ta="serverreachability",Xt(Ir,nn),br.STAT_EVENT="statevent",Xt(Sr,nn),br.Ua="timingevent",Xt(Cr,nn);var Nr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pr(){}function Rr(e){return e.h||(e.h=e.i())}function Or(){}Pr.prototype.h=null;var Lr,Br={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fr(){nn.call(this,"d")}function Mr(){nn.call(this,"c")}function Ur(){}function jr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new vr(this),this.P=zr,e=pn?125:void 0,this.V=new lr(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}Xt(Fr,nn),Xt(Mr,nn),Xt(Ur,Pr),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},Lr=new Ur;var zr=45e3,Hr={},qr={};function Gr(e,t,n){e.L=1,e.v=li(ai(t)),e.s=n,e.S=!0,Qr(e,null)}function Qr(e,t){e.G=Date.now(),Jr(e),e.A=ai(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),xi(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Vr,e.g=Ia(e.l,n?t:null,!e.s),0<e.O&&(e.M=new pr(Yt(e.Pa,e,e.g),e.O)),gr(e.U,e.g,"readystatechange",e.nb),t=e.I?Nn(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Er(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Kr(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Wr(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Yr(e,n))==qr){4==t&&(e.o=4,Tr(14),i=!1),wr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Hr){e.o=4,Tr(15),wr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wr(e.j,e.m,r,null),ti(e,r)}Kr(e)&&r!=qr&&r!=Hr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ma(t),t.M=!0,Tr(11))):(wr(e.j,e.m,n,"[Invalid Chunked Response]"),ei(e),$r(e))}function Yr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qr:(n=Number(t.substring(n,r)),isNaN(n)?Hr:(r+=1)+n>t.length?qr:(t=t.slice(r,r+n),e.C=r+n,t))}function Jr(e){e.Y=Date.now()+e.P,Xr(e,e.P)}function Xr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_r(Yt(e.lb,e),t)}function Zr(e){e.B&&(zt.clearTimeout(e.B),e.B=null)}function $r(e){0==e.l.H||e.J||ka(e.l,e)}function ei(e){Zr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,fr(e.V),yr(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ti(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ni(n.i,e)))if(!e.K&&Ni(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ya(n),sa(n)}va(n),Tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_r(Yt(n.ib,n),6e3));if(1>=_i(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else ba(n,11)}else if((e.K||n.g==e)&&ya(n),!an(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Di(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,ci(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=xa(r,r.J?r.pa:null,r.Y),d.K){Pi(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Zr(p),Jr(p)),r.g=d}else pa(r);0<n.j.length&&la(n)}else"stop"!=a[0]&&"close"!=a[0]||ba(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ba(n,7):ua(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Er()}catch(a){}}function ni(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ht(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ht(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ht(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Mt=jr.prototype).setTimeout=function(e){this.P=e},Mt.nb=function(e){e=e.target;var t=this.M;t&&3==ta(e)?t.l():this.Pa(e)},Mt.Pa=function(e){try{if(e==this.g)e:{var t=ta(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||pn||this.g&&(this.h.h||this.g.ja()||na(this.g)))){this.J||4!=t||7==n||Er(),Zr(this);var r=this.g.da();this.ca=r;t:if(Kr(this)){var i=na(this.g);e="";var a=i.length,o=4==ta(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ei(this),$r(this);var u="";break t}this.h.i=new zt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Tr(12),ei(this),$r(this);break e}wr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,r)}this.S?(Wr(this,t,u),pn&&this.i&&3==t&&(gr(this.U,this.V,"tick",this.mb),this.V.start())):(wr(this.j,this.m,u,null),ti(this,u)),4==t&&ei(this),this.i&&!this.J&&(4==t?ka(this.l,this):(this.i=!1,Jr(this)))}else(function(e){var t={};e=(e.g&&2<=ta(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!an(e[n])){var r=rr(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),ei(this),$r(this)}}}catch(t){}},Mt.mb=function(){if(this.g){var e=ta(this.g),t=this.g.ja();this.C<t.length&&(Zr(this),Wr(this,e,t),this.i&&4!=e&&Jr(this))}},Mt.cancel=function(){this.J=!0,ei(this)},Mt.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Er(),Tr(17)),ei(this),this.o=2,$r(this)):Xr(this,this.Y-e)};var ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ii(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ii){this.h=e.h,oi(this,e.j),this.s=e.s,this.g=e.g,ui(this,e.m),this.l=e.l;var t=e.i,n=new ki;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),si(this,n),this.o=e.o}else e&&(t=String(e).match(ri))?(this.h=!1,oi(this,t[1]||"",!0),this.s=fi(t[2]||""),this.g=fi(t[3]||"",!0),ui(this,t[4]),this.l=fi(t[5]||"",!0),si(this,t[6]||"",!0),this.o=fi(t[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}function ai(e){return new ii(e)}function oi(e,t,n){e.j=n?fi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ui(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function si(e,t,n){t instanceof ki?(e.i=t,function(e,t){t&&!e.j&&(wi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bi(this,t),xi(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hi(t,gi)),e.i=new ki(t,e.h))}function ci(e,t,n){e.i.set(t,n)}function li(e){return ci(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,di),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function di(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ii.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hi(t,pi,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hi(t,pi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hi(n,"/"==n.charAt(0)?mi:vi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hi(n,yi)),e.join("")};var pi=/[#\/\?@]/g,vi=/[#\?:]/g,mi=/[#\?]/g,gi=/[#\?@]/g,yi=/#/g;function ki(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wi(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bi(e,t){wi(e),t=Ii(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ai(e,t){return wi(e),t=Ii(e,t),e.g.has(t)}function xi(e,t,n){bi(e,t),0<n.length&&(e.i=null,e.g.set(Ii(e,t),en(n)),e.h+=n.length)}function Ii(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Mt=ki.prototype).add=function(e,t){wi(this),this.i=null,e=Ii(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Mt.forEach=function(e,t){wi(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Mt.ta=function(){wi(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Mt.Z=function(e){wi(this);var t=[];if("string"===typeof e)Ai(this,e)&&(t=t.concat(this.g.get(Ii(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Mt.set=function(e,t){return wi(this),this.i=null,Ai(this,e=Ii(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Mt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ei=v((function e(t,n){d(this,e),this.g=t,this.map=n}));function Si(e){this.l=e||Ti,zt.PerformanceNavigationTiming?e=0<(e=zt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ti=10;function Ci(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _i(e){return e.h?1:e.g?e.g.size:0}function Ni(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Di(e,t){e.g?e.g.add(t):e.h=t}function Pi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ri(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=m(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return en(e.i)}Si.prototype.cancel=function(){if(this.i=Ri(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=m(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Oi,Li=function(){function e(){d(this,e)}return v(e,[{key:"stringify",value:function(e){return zt.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return zt.JSON.parse(e,void 0)}}]),e}();function Bi(){this.g=new Li}function Fi(e,t,n){var r=n||"";try{ni(e,(function(e,n){var i=e;qt(e)&&(i=Xn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ui(e){this.l=e.fc||null,this.j=e.ob||!1}function ji(e,t){Wn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xt(Ui,Pr),Ui.prototype.g=function(){return new ji(this.l,this.j)},Ui.prototype.i=(Oi={},function(){return Oi}),Xt(ji,Wn);var Vi=0;function zi(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Hi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qi(e)}function qi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Mt=ji.prototype).open=function(e,t){if(this.readyState!=Vi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qi(this)},Mt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hi(this)),this.readyState=Vi},Mt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zi(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Mt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hi(this):qi(this),3==this.readyState&&zi(this)}},Mt.Za=function(e){this.g&&(this.response=this.responseText=e,Hi(this))},Mt.Ya=function(e){this.g&&(this.response=e,Hi(this))},Mt.ka=function(){this.g&&Hi(this)},Mt.setRequestHeader=function(e,t){this.v.append(e,t)},Mt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gi=zt.JSON.parse;function Qi(e){Wn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ki,this.L=this.M=!1}Xt(Qi,Wn);var Ki="",Wi=/^https?$/i,Yi=["POST","PUT"];function Ji(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xi(e),$i(e)}function Xi(e){e.F||(e.F=!0,Yn(e,"complete"),Yn(e,"error"))}function Zi(e){if(e.h&&"undefined"!=typeof Vt&&(!e.C[1]||4!=ta(e)||2!=e.da()))if(e.v&&4==ta(e))hr(e.La,0,e);else if(Yn(e,"readystatechange"),4==ta(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(ri)[1]||null;!a&&zt.self&&zt.self.location&&(a=zt.self.location.protocol.slice(0,-1)),i=!Wi.test(a?a.toLowerCase():"")}t=i}if(t)Yn(e,"complete"),Yn(e,"success");else{e.m=6;try{var o=2<ta(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Xi(e)}}finally{$i(e)}}}function $i(e,t){if(e.g){ea(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Yn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ea(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zt.clearTimeout(e.A),e.A=null)}function ta(e){return e.g?e.g.readyState:0}function na(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ki:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch($o){return null}}function ra(e){var t="";return _n(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ia(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ra(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ci(e,t,n))}function aa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function oa(e){this.Ga=0,this.j=[],this.l=new kr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=aa("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=aa("baseRetryDelayMs",5e3,e),this.hb=aa("retryDelaySeedMs",1e4,e),this.eb=aa("forwardChannelMaxRetries",2,e),this.xa=aa("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Si(e&&e.concurrentRequestLimit),this.Ja=new Bi,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ua(e){if(ca(e),3==e.H){var t=e.W++,n=ai(e.I);if(ci(n,"SID",e.K),ci(n,"RID",t),ci(n,"TYPE","terminate"),ha(e,n),(t=new jr(e,e.l,t)).L=2,t.v=li(ai(n)),n=!1,zt.navigator&&zt.navigator.sendBeacon)try{n=zt.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&zt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ia(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Jr(t)}Aa(e)}function sa(e){e.g&&(ma(e),e.g.cancel(),e.g=null)}function ca(e){sa(e),e.u&&(zt.clearTimeout(e.u),e.u=null),ya(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zt.clearTimeout(e.m),e.m=null)}function la(e){if(!Ci(e.i)&&!e.m){e.m=!0;var t=e.Na;ar||sr(),or||(ar(),or=!0),ur.add(t,e),e.C=0}}function fa(e,t){var n;n=t?t.m:e.W++;var r=ai(e.I);ci(r,"SID",e.K),ci(r,"RID",n),ci(r,"AID",e.V),ha(e,r),e.o&&e.s&&ia(r,e.o,e.s),n=new jr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=da(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Di(e.i,n),Gr(n,r,t)}function ha(e,t){e.na&&_n(e.na,(function(e,n){ci(t,n,e)})),e.h&&ni({},(function(e,n){ci(t,n,e)}))}function da(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Yt(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Fi(l,o,"req"+c+"_")}catch(ms){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function pa(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ar||sr(),or||(ar(),or=!0),ur.add(t,e),e.A=0}}function va(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=_r(Yt(e.Ma,e),wa(e,e.A)),e.A++,!0)}function ma(e){null!=e.B&&(zt.clearTimeout(e.B),e.B=null)}function ga(e){e.g=new jr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ai(e.wa);ci(t,"RID","rpc"),ci(t,"SID",e.K),ci(t,"AID",e.V),ci(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ci(t,"TO",e.qa),ci(t,"TYPE","xmlhttp"),ha(e,t),e.o&&e.s&&ia(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=li(ai(t)),n.s=null,n.S=!0,Qr(n,e)}function ya(e){null!=e.v&&(zt.clearTimeout(e.v),e.v=null)}function ka(e,t){var n=null;if(e.g==t){ya(e),ma(e),e.g=null;var r=2}else{if(!Ni(e.i,t))return;n=t.F,Pi(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Yn(r=xr(),new Cr(r,n)),la(e)}else pa(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(_i(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=_r(Yt(e.Na,e,t),wa(e,e.C)),e.C++,!0))}(e,t)||2==r&&va(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ba(e,5);break;case 4:ba(e,10);break;case 3:ba(e,6);break;default:ba(e,2)}}function wa(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ba(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Yt(e.pb,e);n||(n=new ii("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||oi(n,"https"),li(n)),function(e,t){var n=new kr;if(zt.Image){var r=new Image;r.onload=Jt(Mi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jt(Mi,n,r,"TestLoadImage: error",!1,t),r.onabort=Jt(Mi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jt(Mi,n,r,"TestLoadImage: timeout",!1,t),zt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tr(2);e.H=0,e.h&&e.h.za(t),Aa(e),ca(e)}function Aa(e){if(e.H=0,e.ma=[],e.h){var t=Ri(e.i);0==t.length&&0==e.j.length||(tn(e.ma,t),tn(e.ma,e.j),e.i.i.length=0,en(e.j),e.j.length=0),e.h.ya()}}function xa(e,t,n){var r=n instanceof ii?ai(n):new ii(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ui(r,r.m);else{var i=zt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ii(null);r&&oi(a,r),t&&(a.g=t),i&&ui(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ci(r,n,t),ci(r,"VER",e.ra),ha(e,r),r}function Ia(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Qi(new Ui({ob:!0})):new Qi(e.va)).Oa(e.J),t}function Ea(){}function Sa(){if(hn&&!(10<=Number(An)))throw Error("Environmental error: no available transport.")}function Ta(e,t){Wn.call(this),this.g=new oa(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!an(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!an(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Na(this)}function Ca(e){Fr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _a(){Mr.call(this),this.status=1}function Na(e){this.g=e}function Da(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pa(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ra(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Mt=Qi.prototype).Oa=function(e){this.M=e},Mt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lr.g(),this.C=this.u?Rr(this.u):Rr(Lr),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Ji(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=m(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=zt.FormData&&e instanceof zt.FormData,!(0<=$t(Yi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=m(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ea(this),0<this.B&&((this.L=function(e){return hn&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=hr(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Ji(this,u)}},Mt.ua=function(){"undefined"!=typeof Vt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},Mt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yn(this,"complete"),Yn(this,"abort"),$i(this))},Mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$i(this,!0)),Qi.$.N.call(this)},Mt.La=function(){this.s||(this.G||this.v||this.l?Zi(this):this.kb())},Mt.kb=function(){Zi(this)},Mt.isActive=function(){return!!this.g},Mt.da=function(){try{return 2<ta(this)?this.g.status:-1}catch(Oi){return-1}},Mt.ja=function(){try{return this.g?this.g.responseText:""}catch(Oi){return""}},Mt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gi(t)}},Mt.Ia=function(){return this.m},Mt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Mt=oa.prototype).ra=8,Mt.H=1,Mt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new jr(this,this.l,e),n=this.s;if(this.U&&(n?Pn(n=Nn(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=da(this,t,r),ci(i=ai(this.I),"RID",e),ci(i,"CVER",22),this.F&&ci(i,"X-HTTP-Session-Id",this.F),ha(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ra(n)))+"&"+r:this.o&&ia(i,this.o,n)),Di(this.i,t),this.bb&&ci(i,"TYPE","init"),this.P?(ci(i,"$req",r),ci(i,"SID","null"),t.aa=!0,Gr(t,i,null)):Gr(t,i,r),this.H=2}}else 3==this.H&&(e?fa(this,e):0==this.j.length||Ci(this.i)||fa(this))},Mt.Ma=function(){if(this.u=null,ga(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_r(Yt(this.jb,this),e)}},Mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),sa(this),ga(this))},Mt.ib=function(){null!=this.v&&(this.v=null,sa(this),va(this),Tr(19))},Mt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},Mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Mt=Ea.prototype).Ba=function(){},Mt.Aa=function(){},Mt.za=function(){},Mt.ya=function(){},Mt.isActive=function(){return!0},Mt.Va=function(){},Sa.prototype.g=function(e,t){return new Ta(e,t)},Xt(Ta,Wn),Ta.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Tr(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xa(e,null,e.Y),la(e)},Ta.prototype.close=function(){ua(this.g)},Ta.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xn(e),e=n);t.j.push(new Ei(t.fb++,e)),3==t.H&&la(t)},Ta.prototype.N=function(){this.g.h=null,delete this.j,ua(this.g),delete this.g,Ta.$.N.call(this)},Xt(Ca,Fr),Xt(_a,Mr),Xt(Na,Ea),Na.prototype.Ba=function(){Yn(this.g,"a")},Na.prototype.Aa=function(e){Yn(this.g,new Ca(e))},Na.prototype.za=function(e){Yn(this.g,new _a)},Na.prototype.ya=function(){Yn(this.g,"b")},Xt(Da,(function(){this.blockSize=-1})),Da.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Da.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Pa(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Pa(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Pa(this,r),i=0;break}}this.h=i,this.i+=t},Da.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Oa={};function La(e){return-128<=e&&128>e?function(e,t){var n=Oa;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ra([0|e],0>e?-1:0)})):new Ra([0|e],0>e?-1:0)}function Ba(e){if(isNaN(e)||!isFinite(e))return Ma;if(0>e)return Ha(Ba(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Fa;return new Ra(t,0)}var Fa=4294967296,Ma=La(0),Ua=La(1),ja=La(16777216);function Va(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function za(e){return-1==e.h}function Ha(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ra(n,~e.h).add(Ua)}function qa(e,t){return e.add(Ha(t))}function Ga(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qa(e,t){this.g=e,this.h=t}function Ka(e,t){if(Va(t))throw Error("division by zero");if(Va(e))return new Qa(Ma,Ma);if(za(e))return t=Ka(Ha(e),t),new Qa(Ha(t.g),Ha(t.h));if(za(t))return t=Ka(e,Ha(t)),new Qa(Ha(t.g),t.h);if(30<e.g.length){if(za(e)||za(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ua,r=t;0>=r.X(e);)n=Wa(n),r=Wa(r);var i=Ya(n,1),a=Ya(r,1);for(r=Ya(r,2),n=Ya(n,2);!Va(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Ya(r,1),n=Ya(n,1)}return t=qa(e,i.R(t)),new Qa(i,t)}for(i=Ma;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ba(n)).R(t);za(o)||0<o.X(e);)o=(a=Ba(n-=r)).R(t);Va(a)&&(a=Ua),i=i.add(a),e=qa(e,o)}return new Qa(i,e)}function Wa(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ra(n,e.h)}function Ya(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ra(i,e.h)}(Mt=Ra.prototype).ea=function(){if(za(this))return-Ha(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Fa+r)*t,t*=Fa}return e},Mt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Va(this))return"0";if(za(this))return"-"+Ha(this).toString(e);for(var t=Ba(Math.pow(e,6)),n=this,r="";;){var i=Ka(n,t).g,a=((0<(n=qa(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Va(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Mt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Mt.X=function(e){return za(e=qa(this,e))?-1:Va(e)?0:1},Mt.abs=function(){return za(this)?Ha(this):this},Mt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ra(n,-2147483648&n[n.length-1]?-1:0)},Mt.R=function(e){if(Va(this)||Va(e))return Ma;if(za(this))return za(e)?Ha(this).R(Ha(e)):Ha(Ha(this).R(e));if(za(e))return Ha(this.R(Ha(e)));if(0>this.X(ja)&&0>e.X(ja))return Ba(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Ga(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Ga(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Ga(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Ga(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ra(n,0)},Mt.gb=function(e){return Ka(this,e).h},Mt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ra(n,this.h&e.h)},Mt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ra(n,this.h|e.h)},Mt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ra(n,this.h^e.h)},Sa.prototype.createWebChannel=Sa.prototype.g,Ta.prototype.send=Ta.prototype.u,Ta.prototype.open=Ta.prototype.m,Ta.prototype.close=Ta.prototype.close,Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Dr.COMPLETE="complete",Or.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",Wn.prototype.listen=Wn.prototype.O,Qi.prototype.listenOnce=Qi.prototype.P,Qi.prototype.getLastError=Qi.prototype.Sa,Qi.prototype.getLastErrorCode=Qi.prototype.Ia,Qi.prototype.getStatus=Qi.prototype.da,Qi.prototype.getResponseJson=Qi.prototype.Wa,Qi.prototype.getResponseText=Qi.prototype.ja,Qi.prototype.send=Qi.prototype.ha,Qi.prototype.setWithCredentials=Qi.prototype.Oa,Da.prototype.digest=Da.prototype.l,Da.prototype.reset=Da.prototype.reset,Da.prototype.update=Da.prototype.j,Ra.prototype.add=Ra.prototype.add,Ra.prototype.multiply=Ra.prototype.R,Ra.prototype.modulo=Ra.prototype.gb,Ra.prototype.compare=Ra.prototype.X,Ra.prototype.toNumber=Ra.prototype.ea,Ra.prototype.toString=Ra.prototype.toString,Ra.prototype.getBits=Ra.prototype.D,Ra.fromNumber=Ba,Ra.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ha(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ba(Math.pow(n,8)),i=Ma,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Ba(Math.pow(n,o)),i=i.R(o).add(Ba(u))):i=(i=i.R(r)).add(Ba(u))}return i};var Ja,Xa,Za,$a,eo,to,no,ro,io,ao,oo,uo,so,co,lo,fo,ho,po,vo,mo,go,yo,ko,wo,bo,Ao,xo,Io,Eo,So,To,Co,_o,No,Do,Po,Ro,Oo,Lo,Bo,Fo,Mo,Uo,jo=jt.createWebChannelTransport=function(){return new Sa},Vo=jt.getStatEventTarget=function(){return xr()},zo=jt.ErrorCode=Nr,Ho=jt.EventType=Dr,qo=jt.Event=br,Go=jt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qo=(jt.FetchXmlHttpFactory=Ui,jt.WebChannel=Or),Ko=jt.XhrIo=Qi,Wo=jt.Md5=Da,Yo=jt.Integer=Ra,Jo="@firebase/firestore",Xo=function(){function e(t){d(this,e),this.uid=t}return v(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Xo.UNAUTHENTICATED=new Xo(null),Xo.GOOGLE_CREDENTIALS=new Xo("google-credentials-uid"),Xo.FIRST_PARTY=new Xo("first-party-uid"),Xo.MOCK_USER=new Xo("mock-user");var Zo="10.3.1",$o=new ke("@firebase/firestore");function eu(){return $o.logLevel}function tu(e){if($o.logLevel<=he.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(iu);$o.debug.apply($o,["Firestore (".concat(Zo,"): ").concat(e)].concat(ae(i)))}}function nu(e){if($o.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(iu);$o.error.apply($o,["Firestore (".concat(Zo,"): ").concat(e)].concat(ae(i)))}}function ru(e){if($o.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(iu);$o.warn.apply($o,["Firestore (".concat(Zo,"): ").concat(e)].concat(ae(i)))}}function iu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Zo,") INTERNAL ASSERTION FAILED: ")+e;throw nu(t),new Error(t)}function ou(e,t){e||au()}function uu(e,t){return e}var su={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},cu=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return v(n)}(H),lu=v((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),fu=v((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),hu=function(){function e(){d(this,e)}return v(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Xo.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),du=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return v(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),pu=function(){function e(t){d(this,e),this.t=t,this.currentUser=Xo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new lu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new lu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){tu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(tu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new lu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(tu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ou("string"==typeof n.accessToken),new fu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ou(null===e||"string"==typeof e),new Xo(e)}}]),e}(),vu=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Xo.FIRST_PARTY,this.I=new Map}return v(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),mu=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return v(e,[{key:"getToken",value:function(){return Promise.resolve(new vu(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Xo.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),gu=v((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),yu=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return v(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&tu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,tu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){tu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):tu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ou("string"==typeof t.token),e.R=t.token,new gu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ku(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var wu=function(){function e(){d(this,e)}return v(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=ku(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function bu(e,t){return e<t?-1:e>t?1:0}function Au(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xu(e){return e+"\0"}var Iu=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new cu(su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new cu(su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new cu(su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cu(su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return v(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?bu(this.nanoseconds,e.nanoseconds):bu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Eu=function(){function e(t){d(this,e),this.timestamp=t}return v(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Iu(0,0))}},{key:"max",value:function(){return new e(new Iu(253402300799,999999999))}}]),e}(),Su=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&au(),void 0===r?r=t.length-n:r>t.length-n&&au(),this.segments=t,this.offset=n,this.len=r}return v(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Tu=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new cu(su.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ae(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Su),Cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_u=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Cu.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new cu(su.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new cu(su.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new cu(su.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new cu(su.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Su),Nu=function(){function e(t){d(this,e),this.path=t}return v(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Tu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Tu.fromString(t))}},{key:"fromName",value:function(t){return new e(Tu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Tu.emptyPath())}},{key:"comparator",value:function(e,t){return Tu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Tu(t.slice()))}}]),e}(),Du=v((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Pu(e){return e.fields.find((function(e){return 2===e.kind}))}function Ru(e){return e.fields.filter((function(e){return 2!==e.kind}))}Du.UNKNOWN_ID=-1;var Ou=v((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Lu=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return v(e,null,[{key:"empty",value:function(){return new e(0,Mu.min())}}]),e}();function Bu(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Eu.fromTimestamp(1e9===r?new Iu(n+1,0):new Iu(n,r));return new Mu(i,Nu.empty(),t)}function Fu(e){return new Mu(e.readTime,e.key,-1)}var Mu=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return v(e,null,[{key:"min",value:function(){return new e(Eu.min(),Nu.empty(),-1)}},{key:"max",value:function(){return new e(Eu.max(),Nu.empty(),-1)}}]),e}();function Uu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Nu.comparator(e.documentKey,t.documentKey))?n:bu(e.largestBatchId,t.largestBatchId)}var ju="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vu=function(){function e(){d(this,e),this.onCommittedListeners=[]}return v(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function zu(e){return(Ja=Ja||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===su.FAILED_PRECONDITION&&t.message===ju){e.next=2;break}throw t;case 2:tu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return v(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&au(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=m(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),qu=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new lu,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Ku(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Zu(e.target.error);r.m.reject(new Ku(t,n))}}return v(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(tu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Yu(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ku(n,t)}}}]),e}(),Gu=function(e,t){function n(e,t,r){d(this,n),this.name=e,this.version=t,this.S=r,12.2===n.D(F())&&nu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return v(n,[{key:"N",value:function(t){return(e=e||ue(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return tu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ku(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new cu(su.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new cu(su.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ku(t,n))},i.onupgradeneeded=function(e){tu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){tu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(e,n,r,i){return(t=t||ue(re().mark((function e(t,n,r,i){var a,o,u,s,c=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=re().mark((function e(){var n,u,s,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=qu.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Hu.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,tu("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return tu("SimpleDb","Removing database:",e),Ju(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!z())return!1;if(n.v())return!0;var e=F(),t=n.D(e),r=0<t&&t<10,i=n.F(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),n}(),Qu=function(){function e(t){d(this,e),this.q=t,this.K=!1,this.$=null}return v(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Ju(this.q.delete())}}]),e}(),Ku=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,su.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return v(n)}(cu);function Wu(e){return"IndexedDbTransactionError"===e.name}var Yu=function(){function e(t){d(this,e),this.store=t}return v(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(tu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(tu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ju(n)}},{key:"add",value:function(e){return tu("SimpleDb","ADD",this.store.name,e,e),Ju(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ju(this.store.get(e)).next((function(n){return void 0===n&&(n=null),tu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return tu("SimpleDb","DELETE",this.store.name,e),Ju(this.store.delete(e))}},{key:"count",value:function(){return tu("SimpleDb","COUNT",this.store.name),Ju(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Hu((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Hu((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){tu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Hu((function(n,r){t.onerror=function(e){var t=Zu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Hu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Qu(i),o=t(i.primaryKey,i.value,a);if(o instanceof Hu){var u=o.catch((function(e){return a.done(),Hu.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Hu.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ju(e){return new Hu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Zu(e.target.error);n(t)}}))}var Xu=!1;function Zu(e){var t=Gu.D(F());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new cu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Xu||(Xu=!0,setTimeout((function(){throw r}),0)),r}}return e}var $u=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return v(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;tu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=tu,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Wu(e.t4)){e.next=17;break}tu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,zu(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),es=function(e){function t(e,n){d(this,t),this.localStore=e,this.persistence=n}return v(t,[{key:"ne",value:function(){return(e=e||ue(re().mark((function e(){var t,n=this,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Hu.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return tu("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return tu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Fu(t);Uu(r,n)>0&&(n=r)})),new Mu(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),t}(),ts=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return v(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function ns(e){return null==e}function rs(e){return 0===e&&1/e==-1/0}function is(e){return"number"==typeof e&&Number.isInteger(e)&&!rs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function as(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=us(t)),t=os(e.get(n),t);return us(t)}function os(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function us(e){return e+"\x01\x01"}function ss(e){var t=e.length;if(ou(t>=2),2===t)return ou("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Tu.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&au(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:au()}a=o+2}return new Tu(r)}ts.ae=-1;var cs=["userId","batchId"];function ls(e,t){return[e,as(t)]}function fs(e,t,n){return[e,as(t),n]}var hs={},ds=["prefixPath","collectionGroup","readTime","documentId"],ps=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],ms=["canonicalId","targetId"],gs=["targetId","path"],ys=["path","targetId"],ks=["collectionId","parent"],ws=["indexId","uid"],bs=["uid","sequenceNumber"],As=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xs=["indexId","uid","orderedDocumentKey"],Is=["userId","collectionPath","documentId"],Es=["userId","collectionPath","largestBatchId"],Ss=["userId","collectionGroup","largestBatchId"],Ts=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Cs=[].concat(ae(Ts),["documentOverlays"]),_s=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ns=_s,Ds=[].concat(Ns,["indexConfiguration","indexState","indexEntries"]),Ps=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return v(n)}(Vu);function Rs(e,t){var n=uu(e);return Gu.O(n.ue,t)}function Os(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ls(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Fs=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Us.EMPTY}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Us.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Us.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ms(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ms(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ms(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ms(this.root,e,this.comparator,!0)}}]),e}(),Ms=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return v(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Us=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw au();if(this.right.isRed())throw au();var e=this.left.check();if(e!==this.right.check())throw au();return e+(this.isRed()?0:1)}}]),e}();Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new(function(){function e(){d(this,e),this.size=0}return v(e,[{key:"key",get:function(){throw au()}},{key:"value",get:function(){throw au()}},{key:"color",get:function(){throw au()}},{key:"left",get:function(){throw au()}},{key:"right",get:function(){throw au()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Us(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var js=function(){function e(t){d(this,e),this.comparator=t,this.data=new Fs(this.comparator)}return v(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Vs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Vs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Vs=function(){function e(t){d(this,e),this.iter=t}return v(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zs(e){return e.hasNext()?e.getNext():void 0}var Hs=function(){function e(t){d(this,e),this.fields=t,t.sort(_u.comparator)}return v(e,[{key:"unionWith",value:function(t){var n,r=new js(_u.comparator),i=m(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=m(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=m(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Au(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),qs=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return v(n)}(I(Error));var Gs=function(e){function t(e){d(this,t),this.binaryString=e}return v(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return bu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new qs("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Gs.EMPTY_BYTE_STRING=new Gs("");var Qs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(e){if(ou(!!e),"string"==typeof e){var t=0,n=Qs.exec(e);if(ou(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ws(e.seconds),nanos:Ws(e.nanos)}}function Ws(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ys(e){return"string"==typeof e?Gs.fromBase64String(e):Gs.fromUint8Array(e)}function Js(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xs(e){var t=e.mapValue.fields.__previous_value__;return Js(t)?Xs(t):t}function Zs(e){var t=Ks(e.mapValue.fields.__local_write_time__.timestampValue);return new Iu(t.seconds,t.nanos)}var $s=v((function e(t,n,r,i,a,o,u,s,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),ec=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return v(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nc={nullValue:"NULL_VALUE"};function rc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Js(e)?4:gc(e)?9007199254740991:10:au()}function ic(e,t){if(e===t)return!0;var n=rc(e);if(n!==rc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zs(e).isEqual(Zs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ks(e.timestampValue),r=Ks(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ys(e.bytesValue).isEqual(Ys(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ws(e.geoPointValue.latitude)===Ws(t.geoPointValue.latitude)&&Ws(e.geoPointValue.longitude)===Ws(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ws(e.integerValue)===Ws(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ws(e.doubleValue),r=Ws(t.doubleValue);return n===r?rs(n)===rs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Au(e.arrayValue.values||[],t.arrayValue.values||[],ic);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Os(n)!==Os(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ic(n[i],r[i])))return!1;return!0}(e,t);default:return au()}}function ac(e,t){return void 0!==(e.values||[]).find((function(e){return ic(e,t)}))}function oc(e,t){if(e===t)return 0;var n=rc(e),r=rc(t);if(n!==r)return bu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ws(e.integerValue||e.doubleValue),r=Ws(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return uc(e.timestampValue,t.timestampValue);case 4:return uc(Zs(e),Zs(t));case 5:return bu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ys(e),r=Ys(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=bu(n[i],r[i]);if(0!==a)return a}return bu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=bu(Ws(e.latitude),Ws(t.latitude));return 0!==n?n:bu(Ws(e.longitude),Ws(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=oc(n[i],r[i]);if(a)return a}return bu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tc.mapValue&&t===tc.mapValue)return 0;if(e===tc.mapValue)return 1;if(t===tc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=bu(r[o],a[o]);if(0!==u)return u;var s=oc(n[r[o]],i[a[o]]);if(0!==s)return s}return bu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw au()}}function uc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return bu(e,t);var n=Ks(e),r=Ks(t),i=bu(n.seconds,r.seconds);return 0!==i?i:bu(n.nanos,r.nanos)}function sc(e){return cc(e)}function cc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ks(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ys(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Nu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=m(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=cc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=m(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(cc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):au()}function lc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fc(e){return!!e&&"integerValue"in e}function hc(e){return!!e&&"arrayValue"in e}function dc(e){return!!e&&"nullValue"in e}function pc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vc(e){return!!e&&"mapValue"in e}function mc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ls(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=mc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=mc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function gc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function yc(e){return"nullValue"in e?nc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?lc(ec.empty(),Nu.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:au()}function kc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?lc(ec.empty(),Nu.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tc:au()}function wc(e,t){var n=oc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function bc(e,t){var n=oc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ac=function(){function e(t){d(this,e),this.value=t}return v(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!vc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}},{key:"setAll",value:function(e){var t=this,n=_u.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=mc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ic(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];vc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ls(t,(function(t,n){return e[t]=n}));var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(mc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xc(e){var t=[];return Ls(e.fields,(function(e,n){var r=new _u([e]);if(vc(n)){var i=xc(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=m(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Hs(t)}var Ic=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return v(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Eu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ac.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ac.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Eu.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Eu.min(),Eu.min(),Eu.min(),Ac.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Eu.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Eu.min(),Eu.min(),Ac.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Eu.min(),Eu.min(),Ac.empty(),2)}}]),e}(),Ec=v((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function Sc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Nu.comparator(Nu.fromName(o.referenceValue),n.key):oc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Tc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ic(e.position[n],t.position[n]))return!1;return!0}var Cc=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function _c(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Nc=v((function e(){d(this,e)})),Dc=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oc(t,this.value)):null!==t&&rc(this.value)===rc(t)&&this.matchesComparison(oc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return au()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Vc(e,t,r):"array-contains"===t?new Gc(e,r):"in"===t?new Qc(e,r):"not-in"===t?new Kc(e,r):"array-contains-any"===t?new Wc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new zc(e,n):new Hc(e,n)}}]),n}(Nc),Pc=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return v(n,[{key:"matches",value:function(e){return Rc(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=m(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Nc);function Rc(e){return"and"===e.op}function Oc(e){return"or"===e.op}function Lc(e){return Bc(e)&&Rc(e)}function Bc(e){var t,n=m(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Pc)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Fc(e){if(e instanceof Dc)return e.field.canonicalString()+e.op.toString()+sc(e.value);if(Lc(e))return e.filters.map((function(e){return Fc(e)})).join(",");var t=e.filters.map((function(e){return Fc(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Mc(e,t){return e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.field.isEqual(t.field)&&ic(e.value,t.value)}(e,t):e instanceof Pc?function(e,t){return t instanceof Pc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Mc(n,t.filters[r])}),!0)}(e,t):void au()}function Uc(e,t){var n=e.filters.concat(t);return Pc.create(n,e.op)}function jc(e){return e instanceof Dc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(sc(e.value))}(e):e instanceof Pc?function(e){return e.op.toString()+" {"+e.getFilters().map(jc).join(" ,")+"}"}(e):"Filter"}var Vc=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Nu.fromName(i.referenceValue),a}return v(n,[{key:"matches",value:function(e){var t=Nu.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Dc),zc=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=qc("in",r),i}return v(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Dc),Hc=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=qc("not-in",r),i}return v(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Dc);function qc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Nu.fromName(e.referenceValue)}))}var Gc=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return hc(t)&&ac(t.arrayValue,this.value)}}]),n}(Dc),Qc=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return v(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ac(this.value.arrayValue,t)}}]),n}(Dc),Kc=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return v(n,[{key:"matches",value:function(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ac(this.value.arrayValue,t)}}]),n}(Dc),Wc=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return v(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ac(t.value.arrayValue,e)}))}}]),n}(Dc),Yc=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function Jc(e){return new Yc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Xc(e){var t=uu(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Fc(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ns(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return sc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return sc(e)})).join(",")),t.he=n}return t.he}function Zc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_c(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Mc(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tc(e.startAt,t.startAt)&&Tc(e.endAt,t.endAt)}function $c(e){return Nu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function el(e,t){return e.filters.filter((function(e){return e instanceof Dc&&e.field.isEqual(t)}))}function tl(e,t,n){var r,i=nc,a=!0,o=m(el(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=nc,c=!0;switch(u.op){case"<":case"<=":s=yc(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=nc}wc({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];wc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function nl(e,t,n){var r,i=tc,a=!0,o=m(el(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=tc,c=!0;switch(u.op){case">=":case">":s=kc(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=tc}bc({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];bc({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var rl=v((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function il(e,t,n,r,i,a,o,u){return new rl(e,t,n,r,i,a,o,u)}function al(e){return new rl(e)}function ol(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ul(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sl(e){var t,n=m(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function cl(e){return null!==e.collectionGroup}function ll(e){var t=uu(e);if(null===t.Pe){t.Pe=[];var n=sl(t),r=ul(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Cc(n)),t.Pe.push(new Cc(_u.keyField(),"asc"));else{var i,a=!1,o=m(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Cc(_u.keyField(),s))}}}return t.Pe}function fl(e){var t=uu(e);return t.Ie||(t.Ie=hl(t,ll(e))),t.Ie}function hl(e,t){if("F"===e.limitType)return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Cc(e.field,t)}));var n=e.endAt?new Ec(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ec(e.startAt.position,e.startAt.inclusive):null;return Jc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function dl(e,t){t.getFirstInequalityField(),sl(e);var n=e.filters.concat([t]);return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function pl(e,t,n){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vl(e,t){return Zc(fl(e),fl(t))&&e.limitType===t.limitType}function ml(e){return"".concat(Xc(fl(e)),"|lt:").concat(e.limitType)}function gl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return jc(e)})).join(", "),"]")),ns(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return sc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return sc(e)})).join(",")),"Target(".concat(t,")")}(fl(e)),"; limitType=").concat(e.limitType,")")}function yl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Nu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=m(ll(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=m(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Sc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ll(e),t))&&!(e.endAt&&!function(e,t,n){var r=Sc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ll(e),t))}(e,t)}function kl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wl(e){return function(t,n){var r,i=!1,a=m(ll(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=bl(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function bl(e,t,n){var r=e.field.isKeyField()?Nu.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?oc(r,i):au()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return au()}}var Al=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return v(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ls(this.inner,(function(t,n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Bs(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xl=new Fs(Nu.comparator);function Il(){return xl}var El=new Fs(Nu.comparator);function Sl(){for(var e=El,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Tl(e){var t=El;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Cl(){return Nl()}function _l(){return Nl()}function Nl(){return new Al((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Dl=new Fs(Nu.comparator),Pl=new js(Nu.comparator);function Rl(){for(var e=Pl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ol=new js(bu);function Ll(){return Ol}function Bl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rs(t)?"-0":t}}function Fl(e){return{integerValue:""+e}}function Ml(e,t){return is(t)?Fl(t):Bl(e,t)}var Ul=v((function e(){d(this,e),this._=void 0}));function jl(e,t,n){return e instanceof Hl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Js(t)&&(t=Xs(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ql?Gl(e,t):e instanceof Ql?Kl(e,t):function(e,t){var n=zl(e,t),r=Yl(n)+Yl(e.Te);return fc(n)&&fc(e.Te)?Fl(r):Bl(e.serializer,r)}(e,t)}function Vl(e,t,n){return e instanceof ql?Gl(e,t):e instanceof Ql?Kl(e,t):n}function zl(e,t){return e instanceof Wl?function(e){return fc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Hl=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(Ul),ql=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Ul);function Gl(e,t){var n,r=Jl(t),i=m(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ic(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ql=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return v(n)}(Ul);function Kl(e,t){var n,r=Jl(t),i=m(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ic(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wl=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return v(n)}(Ul);function Yl(e){return Ws(e.integerValue||e.doubleValue)}function Jl(e){return hc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xl=v((function e(t,n){d(this,e),this.field=t,this.transform=n}));var Zl=v((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),$l=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return v(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ef(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var tf=v((function e(){d(this,e)}));function nf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vf(e.key,$l.none()):new sf(e.key,e.data,$l.none());var n,r=e.data,i=Ac.empty(),a=new js(_u.comparator),o=m(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new cf(e.key,i,new Hs(a.toArray()),$l.none())}function rf(e,t,n){e instanceof sf?function(e,t,n){var r=e.value.clone(),i=ff(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cf?function(e,t,n){if(ef(e.precondition,t)){var r=ff(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function af(e,t,n,r){return e instanceof sf?function(e,t,n,r){if(!ef(e.precondition,t))return n;var i=e.value.clone(),a=hf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cf?function(e,t,n,r){if(!ef(e.precondition,t))return n;var i=hf(e.fieldTransforms,r,t),a=t.data;return a.setAll(lf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ef(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function of(e,t){var n,r=null,i=m(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zl(a.transform,o||null);null!=u&&(null===r&&(r=Ac.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function uf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Au(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ql&&t instanceof ql||e instanceof Ql&&t instanceof Ql?Au(e.elements,t.elements,ic):e instanceof Wl&&t instanceof Wl?ic(e.Te,t.Te):e instanceof Hl&&t instanceof Hl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var sf=function(e){k(n,e);var t=A(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tf),cf=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return v(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(tf);function lf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ff(e,t,n){var r=new Map;ou(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Vl(o,u,n[i]))}return r}function hf(e,t,n){var r,i=new Map,a=m(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,jl(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var df,pf,vf=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tf),mf=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return v(n,[{key:"getFieldMask",value:function(){return null}}]),n}(tf),gf=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return v(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=m(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=af(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=m(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=af(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=_l();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=nf(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Eu.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Rl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(function(e,t){return uf(e,t)}))&&Au(this.baseMutations,e.baseMutations,(function(e,t){return uf(e,t)}))}}]),e}(),yf=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return v(e,null,[{key:"from",value:function(t,n,r){ou(t.mutations.length===r.length);for(var i=Dl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kf=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return v(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),wf=v((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function bf(e){switch(e){default:return au();case su.CANCELLED:case su.UNKNOWN:case su.DEADLINE_EXCEEDED:case su.RESOURCE_EXHAUSTED:case su.INTERNAL:case su.UNAVAILABLE:case su.UNAUTHENTICATED:return!1;case su.INVALID_ARGUMENT:case su.NOT_FOUND:case su.ALREADY_EXISTS:case su.PERMISSION_DENIED:case su.FAILED_PRECONDITION:case su.ABORTED:case su.OUT_OF_RANGE:case su.UNIMPLEMENTED:case su.DATA_LOSS:return!0}}function Af(e){if(void 0===e)return nu("GRPC error has no .code"),su.UNKNOWN;switch(e){case df.OK:return su.OK;case df.CANCELLED:return su.CANCELLED;case df.UNKNOWN:return su.UNKNOWN;case df.DEADLINE_EXCEEDED:return su.DEADLINE_EXCEEDED;case df.RESOURCE_EXHAUSTED:return su.RESOURCE_EXHAUSTED;case df.INTERNAL:return su.INTERNAL;case df.UNAVAILABLE:return su.UNAVAILABLE;case df.UNAUTHENTICATED:return su.UNAUTHENTICATED;case df.INVALID_ARGUMENT:return su.INVALID_ARGUMENT;case df.NOT_FOUND:return su.NOT_FOUND;case df.ALREADY_EXISTS:return su.ALREADY_EXISTS;case df.PERMISSION_DENIED:return su.PERMISSION_DENIED;case df.FAILED_PRECONDITION:return su.FAILED_PRECONDITION;case df.ABORTED:return su.ABORTED;case df.OUT_OF_RANGE:return su.OUT_OF_RANGE;case df.UNIMPLEMENTED:return su.UNIMPLEMENTED;case df.DATA_LOSS:return su.DATA_LOSS;default:return au()}}(pf=df||(df={}))[pf.OK=0]="OK",pf[pf.CANCELLED=1]="CANCELLED",pf[pf.UNKNOWN=2]="UNKNOWN",pf[pf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pf[pf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pf[pf.NOT_FOUND=5]="NOT_FOUND",pf[pf.ALREADY_EXISTS=6]="ALREADY_EXISTS",pf[pf.PERMISSION_DENIED=7]="PERMISSION_DENIED",pf[pf.UNAUTHENTICATED=16]="UNAUTHENTICATED",pf[pf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pf[pf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pf[pf.ABORTED=10]="ABORTED",pf[pf.OUT_OF_RANGE=11]="OUT_OF_RANGE",pf[pf.UNIMPLEMENTED=12]="UNIMPLEMENTED",pf[pf.INTERNAL=13]="INTERNAL",pf[pf.UNAVAILABLE=14]="UNAVAILABLE",pf[pf.DATA_LOSS=15]="DATA_LOSS";var xf=null;function If(){return new TextEncoder}var Ef=new Yo([4294967295,4294967295],0);function Sf(e){var t=If().encode(e),n=new Wo;return n.update(t),new Uint8Array(n.digest())}function Tf(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,a],0)]}var Cf=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _f("Invalid padding: ".concat(n));if(r<0)throw new _f("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new _f("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new _f("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Yo.fromNumber(this.Ae)}return v(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Yo.fromNumber(n)));return 1===r.compare(Ef)&&(r=new Yo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=c(Tf(Sf(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=c(Tf(Sf(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),_f=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return v(n)}(I(Error)),Nf=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return v(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Df.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Eu.min(),i,new Fs(bu),Il(),Rl())}}]),e}(),Df=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return v(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Rl(),Rl(),Rl())}}]),e}(),Pf=v((function e(t,n,r,i){d(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),Rf=v((function e(t,n){d(this,e),this.targetId=t,this.ye=n})),Of=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Lf=function(){function e(){d(this,e),this.we=0,this.Se=Mf(),this.be=Gs.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return v(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=Rl(),t=Rl(),n=Rl();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:au()}})),new Df(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=Mf()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),Bf=function(){function e(t){d(this,e),this.Qe=t,this.Ke=new Map,this.$e=Il(),this.Ue=Ff(),this.We=new Fs(bu)}return v(e,[{key:"Ge",value:function(e){var t,n=m(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=m(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:au()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if($c(i))if(0===n){var a=new Nu(i.path);this.je(t,a,Ic.newNoDocument(a,Eu.min()))}else ou(1===n);else{var o=this.tt(t);if(o!==n){var u=this.nt(e),s=u?this.rt(u,e,o):1;if(0!==s){this.Ze(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==xf||xf.it(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),u,s))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=Ys(o).toUint8Array()}catch(e){if(e instanceof qs)return ru("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Cf(n,s,l)}catch(e){return ru(e instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&$c(a.target)){var o=new Nu(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,Ic.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=Rl();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new Nf(e,n,this.We,this.$e,r);return this.$e=Il(),this.Ue=Ff(),this.We=new Fs(bu),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new Lf,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new js(bu),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||tu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new Lf),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ff(){return new Fs(Nu.comparator)}function Mf(){return new Fs(Nu.comparator)}var Uf={asc:"ASCENDING",desc:"DESCENDING"},jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vf={and:"AND",or:"OR"},zf=v((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function Hf(e,t){return e.useProto3Json||ns(t)?t:{value:t}}function qf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qf(e,t){return qf(e,t.toTimestamp())}function Kf(e){return ou(!!e),Eu.fromTimestamp(function(e){var t=Ks(e);return new Iu(t.seconds,t.nanos)}(e))}function Wf(e,t){return function(e){return new Tu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Yf(e){var t=Tu.fromString(e);return ou(yh(t)),t}function Jf(e,t){return Wf(e.databaseId,t.path)}function Xf(e,t){var n=Yf(t);if(n.get(1)!==e.databaseId.projectId)throw new cu(su.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new cu(su.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nu(th(n))}function Zf(e,t){return Wf(e.databaseId,t)}function $f(e){var t=Yf(e);return 4===t.length?Tu.emptyPath():th(t)}function eh(e){return new Tu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function th(e){return ou(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nh(e,t,n){return{name:Jf(e,t),fields:n.value.mapValue.fields}}function rh(e,t,n){var r=Xf(e,t.name),i=Kf(t.updateTime),a=t.createTime?Kf(t.createTime):Eu.min(),o=new Ac({mapValue:{fields:t.fields}}),u=Ic.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function ih(e,t){return"found"in t?function(e,t){ou(!!t.found),t.found.name,t.found.updateTime;var n=Xf(e,t.found.name),r=Kf(t.found.updateTime),i=t.found.createTime?Kf(t.found.createTime):Eu.min(),a=new Ac({mapValue:{fields:t.found.fields}});return Ic.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ou(!!t.missing),ou(!!t.readTime);var n=Xf(e,t.missing),r=Kf(t.readTime);return Ic.newNoDocument(n,r)}(e,t):au()}function ah(e,t){var n;if(t instanceof sf)n={update:nh(e,t.key,t.value)};else if(t instanceof vf)n={delete:Jf(e,t.key)};else if(t instanceof cf)n={update:nh(e,t.key,t.data),updateMask:gh(t.fieldMask)};else{if(!(t instanceof mf))return au();n={verify:Jf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Hl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ql)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ql)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wl)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw au()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:au()}(e,t.precondition)),n}function oh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?$l.updateTime(Kf(e.updateTime)):void 0!==e.exists?$l.exists(e.exists):$l.none()}(t.currentDocument):$l.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ou("REQUEST_TIME"===t.setToServerValue),n=new Hl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ql(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ql(i)}else"increment"in t?n=new Wl(e,t.increment):au();var a=_u.fromServerFormat(t.fieldPath);return new Xl(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Xf(e,t.update.name),a=new Ac({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hs(t.map((function(e){return _u.fromServerFormat(e)})))}(t.updateMask);return new cf(i,a,o,n,r)}return new sf(i,a,n,r)}if(t.delete){var u=Xf(e,t.delete);return new vf(u,n)}if(t.verify){var s=Xf(e,t.verify);return new mf(s,n)}return au()}function uh(e,t){return{documents:[Zf(e,t.path)]}}function sh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return mh(Pc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ph(e.field),direction:fh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Hf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ch(e){var t=$f(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ou(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=lh(e);return t instanceof Pc&&Lc(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Cc(vh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return ns(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ec(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ec(n,t)}(n.endAt)),il(t,i,u,o,s,"F",c,l)}function lh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=vh(e.unaryFilter.field);return Dc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=vh(e.unaryFilter.field);return Dc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vh(e.unaryFilter.field);return Dc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=vh(e.unaryFilter.field);return Dc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return au()}}(e):void 0!==e.fieldFilter?function(e){return Dc.create(vh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return au()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Pc.create(e.compositeFilter.filters.map((function(e){return lh(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return au()}}(e.compositeFilter.op))}(e):au()}function fh(e){return Uf[e]}function hh(e){return jf[e]}function dh(e){return Vf[e]}function ph(e){return{fieldPath:e.canonicalString()}}function vh(e){return _u.fromServerFormat(e.fieldPath)}function mh(e){return e instanceof Dc?function(e){if("=="===e.op){if(pc(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NAN"}};if(dc(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pc(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NAN"}};if(dc(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(e.field),op:hh(e.op),value:e.value}}}(e):e instanceof Pc?function(e){var t=e.getFilters().map((function(e){return mh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:dh(e.op),filters:t}}}(e):au()}function gh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var kh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Eu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Eu.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gs.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return v(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),wh=v((function e(t){d(this,e),this.ht=t}));function bh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ah(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Jf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qf(e,t.version.toTimestamp()),createTime:qf(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xh(t.version)};else{if(!t.isUnknownDocument())return au();r.unknownDocument={path:n.path.toArray(),version:xh(t.version)}}return r}function Ah(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ih(e){var t=new Iu(e.seconds,e.nanoseconds);return Eu.fromTimestamp(t)}function Eh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return oh(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return oh(e.ht,t)})),u=Iu.fromMillis(t.localWriteTimeMs);return new gf(t.batchId,u,n,o)}function Sh(e){var t,n=Ih(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Ih(e.lastLimboFreeSnapshotVersion):Eu.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return ou(1===e.documents.length),fl(al($f(e.documents[0])))}(e.query):function(e){return fl(ch(e))}(e.query),new kh(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Gs.fromBase64String(e.resumeToken))}function Th(e,t){var n,r=xh(t.snapshotVersion),i=xh(t.lastLimboFreeSnapshotVersion);n=$c(t.target)?uh(e.ht,t.target):sh(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xc(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ch(e){var t=ch({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pl(t,t.limit,"L"):t}function _h(e,t){return new kf(t.largestBatchId,oh(e.ht,t.overlayMutation))}function Nh(e,t){var n=t.path.lastSegment();return[e,as(t.path.popLast()),n]}function Dh(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xh(r.readTime),documentKey:as(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ph=function(){function e(){d(this,e)}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Rh(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Ih(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Rh(e).put(function(e){return{bundleId:e.id,createTime:xh(Kf(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Oh(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Ch(e.bundledQuery),readTime:Ih(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Oh(e).put(function(e){return{name:e.name,readTime:xh(Kf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Rh(e){return Rs(e,"bundles")}function Oh(e){return Rs(e,"namedQueries")}var Lh=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return v(e,[{key:"getOverlay",value:function(e,t){var n=this;return Bh(e).get(Nh(this.userId,t)).next((function(e){return e?_h(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cl();return Hu.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new kf(t,a);i.push(r.It(e,o))})),Hu.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(as(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Bh(e).J("collectionPathOverlayIndex",i))})),Hu.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Cl(),a=as(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bh(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=_h(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Cl(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bh(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=_h(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return Bh(e).put(function(e,t,n){var r=c(Nh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ah(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Bh(e){return Rs(e,"documentOverlays")}var Fh=function(){function e(){d(this,e)}return v(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Ws(e.integerValue));else if("doubleValue"in e){var n=Ws(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),rs(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Ys(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?gc(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):au()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Nu.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function Mh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Uh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Mh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Fh.Ct=new Fh;var jh=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return v(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=Uh(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=Uh(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Vh=function(){function e(t){d(this,e),this.jt=t}return v(e,[{key:"yt",value:function(e){this.jt.vt(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"Et",value:function(){this.jt.$t()}}]),e}(),zh=function(){function e(t){d(this,e),this.jt=t}return v(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"Et",value:function(){this.jt.Wt()}}]),e}(),Hh=function(){function e(){d(this,e),this.jt=new jh,this.Ht=new Vh(this.jt),this.Jt=new zh(this.jt)}return v(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),qh=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return v(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Gh(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Qh(e.arrayValue,t.arrayValue))?n:0!==(n=Qh(e.directionalValue,t.directionalValue))?n:Nu.comparator(e.documentKey,t.documentKey)}function Qh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Kh=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=m(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return v(e,[{key:"nn",value:function(e){ou(e.collectionGroup===this.collectionId);var t=Pu(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=Ru(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],u))return!1}return!0}},{key:"_n",value:function(){var e,t=new js(_u.comparator),n=[],r=m(this.en);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Ou(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Ou(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=m(this.Xt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new Ou(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new Du(Du.UNKNOWN_ID,this.collectionId,n,Lu.empty())}},{key:"rn",value:function(e){var t,n=m(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Wh(e){var t,n;if(ou(e instanceof Dc||e instanceof Pc),e instanceof Dc){if(e instanceof Qc){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Dc.create(e.field,"==",t)})))||[];return Pc.create(r,"or")}return e}var i=e.filters.map((function(e){return Wh(e)}));return Pc.create(i,e.op)}function Yh(e){if(0===e.getFilters().length)return[];var t=$h(Wh(e));return ou(Zh(t)),Jh(t)||Xh(t)?[t]:t.getFilters()}function Jh(e){return e instanceof Dc}function Xh(e){return e instanceof Pc&&Lc(e)}function Zh(e){return Jh(e)||Xh(e)||function(e){if(e instanceof Pc&&Oc(e)){var t,n=m(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Jh(r)&&!Xh(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function $h(e){if(ou(e instanceof Dc||e instanceof Pc),e instanceof Dc)return e;if(1===e.filters.length)return $h(e.filters[0]);var t=e.filters.map((function(e){return $h(e)})),n=Pc.create(t,e.op);return Zh(n=nd(n))?n:(ou(n instanceof Pc),ou(Rc(n)),ou(n.filters.length>1),n.filters.reduce((function(e,t){return ed(e,t)})))}function ed(e,t){var n;return ou(e instanceof Dc||e instanceof Pc),ou(t instanceof Dc||t instanceof Pc),n=e instanceof Dc?t instanceof Dc?function(e,t){return Pc.create([e,t],"and")}(e,t):td(e,t):t instanceof Dc?td(t,e):function(e,t){if(ou(e.filters.length>0&&t.filters.length>0),Rc(e)&&Rc(t))return Uc(e,t.getFilters());var n=Oc(e)?e:t,r=Oc(e)?t:e,i=n.filters.map((function(e){return ed(e,r)}));return Pc.create(i,"or")}(e,t),nd(n)}function td(e,t){if(Rc(t))return Uc(t,e.getFilters());var n=t.filters.map((function(t){return ed(e,t)}));return Pc.create(n,"or")}function nd(e){if(ou(e instanceof Dc||e instanceof Pc),e instanceof Dc)return e;var t=e.getFilters();if(1===t.length)return nd(t[0]);if(Bc(e))return e;var n=t.map((function(e){return nd(e)})),r=[];return n.forEach((function(t){t instanceof Dc?r.push(t):t instanceof Pc&&(t.op===e.op?r.push.apply(r,ae(t.filters)):r.push(t))})),1===r.length?r[0]:Pc.create(r,e.op)}var rd=function(){function e(){d(this,e),this.an=new id}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),Hu.resolve()}},{key:"getCollectionParents",value:function(e,t){return Hu.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Hu.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Hu.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Hu.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Hu.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Hu.resolve(null)}},{key:"getIndexType",value:function(e,t){return Hu.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Hu.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Hu.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Hu.resolve(Mu.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Hu.resolve(Mu.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Hu.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Hu.resolve()}}]),e}(),id=function(){function e(){d(this,e),this.index={}}return v(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new js(Tu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new js(Tu.comparator)).toArray()}}]),e}(),ad=new Uint8Array(0),od=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.un=new id,this.cn=new Al((function(e){return Xc(e)}),(function(e,t){return Zc(e,t)})),this.uid=t.uid||""}return v(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.un.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.un.add(t)}));var a={collectionId:r,parent:as(i)};return ud(e).put(a)}return Hu.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xu(t),""],!1,!0);return ud(e).G(r).next((function(e){var r,i=m(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ss(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=cd(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ld(e);return a.next((function(e){o.put(Dh(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=cd(e),r=ld(e),i=sd(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=cd(e),n=sd(e),r=ld(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Hu.forEach(this.ln(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Kh(t);return n.addFieldIndex(e,i._n())}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=sd(e),i=!0,a=new Map;return Hu.forEach(this.ln(t),(function(t){return n.hn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Rl(),o=[];return Hu.forEach(a,(function(i,a){tu("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Xc(t)));var u=function(e,t){var n=Pu(t);if(void 0===n)return null;var r,i=m(el(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=m(Ru(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=m(el(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=m(Ru(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?tl(e,o.fieldPath,e.startAt):nl(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ec(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=m(Ru(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?nl(e,o.fieldPath,e.endAt):tl(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ec(r,i)}(a,i),f=n.Pn(i,a,c),h=n.Pn(i,a,l),d=n.In(i,a,s),p=n.dn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Hu.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Nu.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Hu.resolve(null)}))}},{key:"ln",value:function(e){var t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:Yh(Pc.create(e.filters,"and")).map((function(t){return Jc(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.cn.set(e,t),t)}},{key:"dn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[h/c]):ad,f=u.En(e,s,n[h%c],r),d=u.An(e,s,i[h%c],a),p=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,ae(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new qh(e,Nu.empty(),t,n);return r?i:i.Zt()}},{key:"An",value:function(e,t,n,r){var i=new qh(e,Nu.empty(),t,n);return r?i.Zt():i}},{key:"hn",value:function(e,t){var n=new Kh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=m(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.ln(t);return Hu.forEach(i,(function(t){return n.hn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new js(_u.comparator),r=!1,i=m(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=m(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=m(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"Rn",value:function(e,t){var n,r=new Hh,i=m(Ru(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Yt(a.kind);Fh.Ct.dt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new Hh;return Fh.Ct.dt(e,t.Yt(0)),t.zt()}},{key:"Vn",value:function(e,t){var n=new Hh;return Fh.Ct.dt(lc(this.databaseId,t),n.Yt(function(e){var t=Ru(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"In",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Hh);var i,a=0,o=m(Ru(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=m(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.mn(t,s.fieldPath)&&hc(c))r=this.fn(r,s,c);else{var h=f.Yt(s.kind);Fh.Ct.dt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.gn(r)}},{key:"Pn",value:function(e,t,n){return this.In(e,t,n.position)}},{key:"gn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"fn",value:function(e,t,n){var r,i=ae(e),a=[],o=m(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=m(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Hh;f.seed(l.zt()),Fh.Ct.dt(s,f.Yt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"mn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Dc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=cd(e),i=ld(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Hu.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Lu(t.sequenceNumber,new Mu(Ih(t.readTime),new Nu(ss(t.documentKey)),t.largestBatchId)):Lu.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Ou(_u.fromServerFormat(n),r)}));return new Du(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:bu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=cd(e),a=ld(e);return this.pn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Hu.forEach(t,(function(t){return a.put(Dh(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Hu.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Hu.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Hu.forEach(a,(function(r){return n.yn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Hu.resolve():n.Sn(e,i,r,t,a)}))}))}))}))}},{key:"bn",value:function(e,t,n,r){return sd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Dn",value:function(e,t,n,r){return sd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(n,t.key),t.key.path.toArray()])}},{key:"yn",value:function(e,t,n){var r=sd(e),i=new js(Gh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Vn(n,t)])},(function(e,r){i=i.add(new qh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new js(Gh),r=this.Rn(t,e);if(null==r)return n;var i=Pu(t);if(null!=i){var a=e.data.field(i.fieldPath);if(hc(a)){var o,u=m(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new qh(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new qh(t.indexId,e.key,ad,r));return n}},{key:"Sn",value:function(e,t,n,r,i){var a=this;tu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=zs(a),s=zs(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=zs(o)):l?(i(u),u=zs(a)):(u=zs(a),s=zs(o))}}(r,i,Gh,(function(r){o.push(a.bn(e,t,n,r))}),(function(r){o.push(a.Dn(e,t,n,r))})),Hu.waitFor(o)}},{key:"pn",value:function(e){var t=1;return ld(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Gh(e,t)})).filter((function(e,t,n){return!t||0!==Gh(e,n[t-1])}));var r=[];r.push(e);var i,a=m(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Gh(o,e),s=Gh(o,t);if(0===u)r[0]=e.Zt();else if(u>0&&s<0)r.push(o),r.push(o.Zt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Cn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ad,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ad,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Cn",value:function(e,t){return Gh(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(fd)}},{key:"getMinOffset",value:function(e,t){var n=this;return Hu.mapArray(this.ln(t),(function(t){return n.hn(e,t).next((function(e){return e||au()}))})).next(fd)}}]),e}();function ud(e){return Rs(e,"collectionParents")}function sd(e){return Rs(e,"indexEntries")}function cd(e){return Rs(e,"indexConfiguration")}function ld(e){return Rs(e,"indexState")}function fd(e){ou(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Uu(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mu(t.readTime,t.documentKey,n)}var hd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dd=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return v(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function pd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ou(1===u)})));var c,l=[],f=m(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=fs(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Hu.waitFor(a).next((function(){return l}))}function vd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw au();t=e.noDocument}return JSON.stringify(t).length}dd.DEFAULT_COLLECTION_PERCENTILE=10,dd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dd.DEFAULT=new dd(41943040,dd.DEFAULT_COLLECTION_PERCENTILE,dd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dd.DISABLED=new dd(-1,0,0);var md=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return v(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yd(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=kd(e),o=yd(e);return o.add({}).next((function(u){ou("number"==typeof u);var s,c=new gf(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ah(e.ht,t)})),i=n.mutations.map((function(t){return ah(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new js((function(e,t){return bu(e.canonicalString(),t.canonicalString())})),d=m(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=fs(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,hs))}}catch(g){d.e(g)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[u]=c.keys()})),Hu.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return yd(e).get(t).next((function(e){return e?(ou(e.userId===n.userId),Eh(n.serializer,e)):null}))}},{key:"Fn",value:function(e,t){var n=this;return this.vn[t]?Hu.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return yd(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ou(t.batchId>=r),a=Eh(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yd(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return Eh(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ls(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return kd(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=ss(l);if(s===n.userId&&t.path.isEqual(h))return yd(e).get(f).next((function(e){if(!e)throw au();ou(e.userId===n.userId),a.push(Eh(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new js(bu),i=[];return t.forEach((function(t){var a=ls(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=kd(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=ss(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Hu.waitFor(i).next((function(){return n.Mn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ls(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new js(bu);return kd(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=ss(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Mn(e,u)}))}},{key:"Mn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yd(e).get(t).next((function(e){if(null===e)throw au();ou(e.userId===n.userId),r.push(Eh(n.serializer,e))})))})),Hu.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return pd(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.xn(t.batchId)})),Hu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"xn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Hu.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return kd(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ss(e[1]);i.push(a)}else r.done()})).next((function(){ou(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return gd(e,this.userId,t)}},{key:"On",value:function(e){var t=this;return wd(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return ou(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function gd(e,t,n){var r=ls(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return kd(e).Z({range:a,Y:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function yd(e){return Rs(e,"mutations")}function kd(e){return Rs(e,"documentMutations")}function wd(e){return Rs(e,"mutationQueues")}var bd=function(){function e(t){d(this,e),this.Nn=t}return v(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}(),Ad=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return v(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.kn(e).next((function(n){var r=new bd(n.highestTargetId);return n.highestTargetId=r.next(),t.qn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.kn(e).next((function(e){return Eu.fromTimestamp(new Iu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.kn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.kn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.qn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Qn(e,t).next((function(){return n.kn(e).next((function(r){return r.targetCount+=1,n.Kn(t,r),n.qn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return xd(e).delete(t.targetId)})).next((function(){return n.kn(e)})).next((function(t){return ou(t.targetCount>0),t.targetCount-=1,n.qn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return xd(e).Z((function(o,u){var s=Sh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Hu.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return xd(e).Z((function(e,n){var r=Sh(n);t(r)}))}},{key:"kn",value:function(e){return Id(e).get("targetGlobalKey").next((function(e){return ou(null!==e),e}))}},{key:"qn",value:function(e,t){return Id(e).put("targetGlobalKey",t)}},{key:"Qn",value:function(e,t){return xd(e).put(Th(this.serializer,t))}},{key:"Kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.kn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Xc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xd(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Sh(n);Zc(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ed(e);return t.forEach((function(t){var o=as(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Hu.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ed(e);return Hu.forEach(t,(function(t){var a=as(t.path);return Hu.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ed(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ed(e),i=Rl();return r.Z({range:n,Y:!0},(function(e,t,n){var r=ss(e[1]),a=new Nu(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=as(t.path),r=IDBKeyRange.bound([n],[xu(n)],!1,!0),i=0;return Ed(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return xd(e).get(t).next((function(e){return e?Sh(e):null}))}}]),e}();function xd(e){return Rs(e,"targets")}function Id(e){return Rs(e,"targetGlobal")}function Ed(e){return Rs(e,"targetDocuments")}function Sd(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=bu(r,o);return 0===s?bu(i,u):s}var Td=function(){function e(t){d(this,e),this.$n=t,this.buffer=new js(Sd),this.Un=0}return v(e,[{key:"Wn",value:function(){return++this.Un}},{key:"Gn",value:function(e){var t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Cd=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.zn=null}return v(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}},{key:"stop",value:function(){this.zn&&(this.zn.cancel(),this.zn=null)}},{key:"started",get:function(){return null!==this.zn}},{key:"jn",value:function(e){var t=this;tu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.zn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Wu(e.t0)){e.next=12;break}tu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,zu(e.t0);case 14:return e.next=16,t.jn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),_d=function(){function e(t,n){d(this,e),this.Hn=t,this.params=n}return v(e,[{key:"calculateTargetCount",value:function(e,t){return this.Hn.Jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Hu.resolve(ts.ae);var r=new Td(t);return this.Hn.forEachTarget(e,(function(e){return r.Gn(e.sequenceNumber)})).next((function(){return n.Hn.Yn(e,(function(e){return r.Gn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Hn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Hn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(tu("LruGarbageCollector","Garbage collection skipped; disabled"),Hu.resolve(hd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(tu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),hd):n.Zn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Hn.getCacheSize(e)}},{key:"Zn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(tu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),eu()<=he.DEBUG&&tu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Hu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Nd(e,t){return new _d(e,t)}var Dd=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=Nd(this,n)}return v(e,[{key:"Jn",value:function(e){var t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Xn",value:function(e){var t=0;return this.Yn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Yn",value:function(e,t){return this.er(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Pd(e,n)}},{key:"removeReference",value:function(e,t,n){return Pd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Pd(e,t)}},{key:"tr",value:function(e,t){return function(e,t){var n=!1;return wd(e).X((function(r){return gd(e,r,t).next((function(e){return e&&(n=!0),Hu.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.er(e,(function(o,u){if(u<=t){var s=n.tr(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Eu.min()),Ed(e).delete(function(e){return[0,as(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Hu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Pd(e,t)}},{key:"er",value:function(e,t){var n,r=Ed(e),i=ts.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ts.ae&&t(new Nu(ss(n)),i),i=s,n=u):i=ts.ae})).next((function(){i!==ts.ae&&t(new Nu(ss(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Pd(e,t){return Ed(e).put(function(e,t){return{targetId:0,path:as(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Rd=function(){function e(){d(this,e),this.changes=new Al((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return v(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ic.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Hu.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Od=function(){function e(t){d(this,e),this.serializer=t}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Md(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Md(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ah(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.nr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ic.newInvalidDocument(t);return Md(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(t))},(function(e,i){r=n.rr(t,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r={size:0,document:Ic.newInvalidDocument(t)};return Md(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(t))},(function(e,i){r={document:n.rr(t,i),size:vd(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Il();return this.sr(e,t,(function(e,t){var i=n.rr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"_r",value:function(e,t){var n=this,r=Il(),i=new Fs(Nu.comparator);return this.sr(e,t,(function(e,t){var a=n.rr(e,t);r=r.insert(e,a),i=i.insert(e,vd(t))})).next((function(){return{documents:r,ar:i}}))}},{key:"sr",value:function(e,t,n){if(t.isEmpty())return Hu.resolve();var r=new js(Vd);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ud(r.first()),Ud(r.last())),a=r.getIterator(),o=a.getNext();return Md(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Nu.fromSegments([].concat(ae(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Vd(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(Ud(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),Ah(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Md(e).G(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Il(),u=m(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=a.rr(Nu.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(yl(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Il(),o=jd(t,n),u=jd(t,Mu.max());return Md(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.rr(Nu.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Bd(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Fd(e).get("remoteDocumentGlobalKey").next((function(e){return ou(!!e),e}))}},{key:"nr",value:function(e,t){return Fd(e).put("remoteDocumentGlobalKey",t)}},{key:"rr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=rh(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Nu.fromSegments(t.noDocument.path),i=Ih(t.noDocument.readTime);n=Ic.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return au();var a=Nu.fromSegments(t.unknownDocument.path),o=Ih(t.unknownDocument.version);n=Ic.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Iu(e[0],e[1]);return Eu.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Eu.min()))return n}return Ic.newInvalidDocument(e)}}]),e}();function Ld(e){return new Od(e)}var Bd=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ur=e,i.trackRemovals=r,i.cr=new Al((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new js((function(e,t){return bu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.cr.get(a);if(n.push(t.ur.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=bh(t.ur.serializer,o);i=i.add(a.path.popLast());var c=vd(s);r+=c-u.size,n.push(t.ur.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=bh(t.ur.serializer,o.convertToNoDocument(Eu.min()));n.push(t.ur.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ur.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ur.updateMetadata(e,r)),Hu.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ur.ir(e,t).next((function(e){return n.cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ur._r(e,t).next((function(e){var t=e.documents;return e.ar.forEach((function(e,r){n.cr.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Rd);function Fd(e){return Rs(e,"remoteDocumentGlobal")}function Md(e){return Rs(e,"remoteDocumentsV14")}function Ud(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jd(e,t){var n=t.documentKey.path.toArray();return[e,Ah(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Vd(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=bu(n[a],r[a]))return i;return(i=bu(n.length,r.length))||((i=bu(n[n.length-2],r[r.length-2]))||bu(n[n.length-1],r[r.length-1]))}var zd=v((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Hd=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return v(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&af(r.mutation,e,Hs.empty(),Iu.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Rl()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rl(),i=Cl();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Sl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Cl();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Rl())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Il(),a=Nl(),o=Nl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof cf)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),af(o.mutation,t,o.mutation.getFieldMask(),Iu.now())):a.set(t.key,Hs.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new zd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Nl(),i=new Fs((function(e,t){return e-t})),a=Rl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=m(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Hs.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Rl()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=_l();c.forEach((function(e){if(!a.has(e)){var n=nf(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Hu.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Nu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Hu.resolve(Cl()),u=-1,s=a;return o.next((function(t){return Hu.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Hu.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Rl())})).next((function(e){return{batchId:u,changes:Tl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Nu(t)).next((function(e){var t=Sl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Sl();return this.indexManager.getCollectionParents(e,a).next((function(u){return Hu.forEach(u,(function(u){var s=function(e,t){return new rl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ic.newInvalidDocument(r)))}));var n=Sl();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&af(a.mutation,r,Hs.empty(),Iu.now()),yl(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),qd=function(){function e(t){d(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return v(e,[{key:"getBundleMetadata",value:function(e,t){return Hu.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Kf(e.createTime)}}(t)),Hu.resolve()}},{key:"getNamedQuery",value:function(e,t){return Hu.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:Ch(e.bundledQuery),readTime:Kf(e.readTime)}}(t)),Hu.resolve()}}]),e}(),Gd=function(){function e(){d(this,e),this.overlays=new Fs(Nu.comparator),this.Pr=new Map}return v(e,[{key:"getOverlay",value:function(e,t){return Hu.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Cl();return Hu.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),Hu.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),Hu.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Cl(),i=t.length+1,a=new Nu(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Hu.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Fs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Cl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Cl(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Hu.resolve(s)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kf(t,n));var a=this.Pr.get(t);void 0===a&&(a=Rl(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),Qd=function(){function e(){d(this,e),this.Ir=new js(Kd.dr),this.Tr=new js(Kd.Er)}return v(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Kd(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new Kd(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new Nu(new Tu([])),r=new Kd(n,e),i=new Kd(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new Nu(new Tu([])),n=new Kd(t,e),r=new Kd(t,e+1),i=Rl();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Kd(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Kd=function(){function e(t,n){d(this,e),this.key=t,this.yr=n}return v(e,null,[{key:"dr",value:function(e,t){return Nu.comparator(e.key,t.key)||bu(e.yr,t.yr)}},{key:"Er",value:function(e,t){return bu(e.yr,t.yr)||Nu.comparator(e.key,t.key)}}]),e}(),Wd=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new js(Kd.dr)}return v(e,[{key:"checkEmpty",value:function(e){return Hu.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new gf(i,t,n,r);this.mutationQueue.push(a);var o,u=m(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Sr=this.Sr.add(new Kd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Hu.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Hu.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return Hu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Hu.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return Hu.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Kd(t,0),i=new Kd(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),Hu.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new js(bu);return t.forEach((function(e){var t=new Kd(e,0),i=new Kd(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),Hu.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Nu.isDocumentKey(i)||(i=i.child(""));var a=new Kd(new Nu(i),0),o=new js(bu);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),Hu.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ou(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return Hu.forEach(t.mutations,(function(i){var a=new Kd(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Kd(t,0),r=this.Sr.firstAfterOrEqual(n);return Hu.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Hu.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Yd=function(){function e(t){d(this,e),this.Fr=t,this.docs=new Fs(Nu.comparator),this.size=0}return v(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Hu.resolve(n?n.document.mutableCopy():Ic.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Il();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ic.newInvalidDocument(e))})),Hu.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Il(),a=t.path,o=new Nu(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Uu(Fu(l),n)<=0||(r.has(l.key)||yl(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Hu.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){au()}},{key:"Mr",value:function(e,t){return Hu.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Jd(this)}},{key:"getSize",value:function(e){return Hu.resolve(this.size)}}]),e}(),Jd=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).ur=e,r}return v(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),Hu.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(Rd),Xd=function(){function e(t){d(this,e),this.persistence=t,this.Or=new Al((function(e){return Xc(e)}),Zc),this.lastRemoteSnapshotVersion=Eu.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Qd,this.targetCount=0,this.Lr=bd.Bn()}return v(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),Hu.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Hu.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Hu.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),Hu.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),Hu.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new bd(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,Hu.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),Hu.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Hu.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Hu.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Hu.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return Hu.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),Hu.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Hu.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),Hu.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return Hu.resolve(n)}},{key:"containsKey",value:function(e,t){return Hu.resolve(this.Br.containsKey(t))}}]),e}(),Zd=function(){function e(t,n){var r=this;d(this,e),this.kr={},this.overlays={},this.qr=new ts(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new Xd(this),this.indexManager=new rd,this.remoteDocumentCache=function(e){return new Yd(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new wh(n),this.Ur=new qd(this.serializer)}return v(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Gd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new Wd(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;tu("MemoryPersistence","Starting transaction:",e);var i=new $d(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return Hu.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$d=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return v(n)}(Vu),ep=function(){function e(t){d(this,e),this.persistence=t,this.jr=new Qd,this.Hr=null}return v(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw au()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),Hu.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),Hu.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),Hu.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hu.forEach(this.Yr,(function(r){var i=Nu.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,Eu.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return Hu.or([function(){return Hu.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}(),tp=function(){function e(t){d(this,e),this.serializer=t}return v(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new qu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cs,{unique:!0}),e.createObjectStore("documentMutations")}(e),np(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Hu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),np(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Eu.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cs,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Hu.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.ei(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ti(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ni(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ri(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ii(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Is});t.createIndex("collectionPathOverlayIndex",Es,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ss,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ds});t.createIndex("documentKeyIndex",ps),t.createIndex("collectionGroupIndex",vs)}(e)})).next((function(){return i.si(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.oi(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ws}).createIndex("sequenceNumberIndex",bs,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:As}).createIndex("documentKeyIndex",xs,{unique:!1})}(e)}))),o}},{key:"ti",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=vd(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"ei",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Hu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Hu.forEach(r,(function(r){ou(r.userId===n.userId);var i=Eh(t.serializer,r);return pd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ni",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Tu(n),o=function(e){return[0,as(e)]}(a);r.push(t.get(o).next((function(n){return n?Hu.resolve():function(n){return t.put({targetId:0,path:as(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Hu.waitFor(r)}))}))}},{key:"ri",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ks});var n=t.store("collectionParents"),r=new id,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:as(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Tu(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],ss(r));return i(a.popLast())}))}))}},{key:"ii",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Sh(r),a=Th(t.serializer,i);return n.put(a)}))}},{key:"si",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Nu(Tu.fromString(e.document.name).popFirst(5)):e.noDocument?Nu.fromSegments(e.noDocument.path):e.unknownDocument?Nu.fromSegments(e.unknownDocument.path):au()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Hu.waitFor(r)}))}},{key:"oi",value:function(e,t){var n=this,r=t.store("mutations"),i=Ld(this.serializer),a=new Zd(ep.Jr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Rl();Eh(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Hu.forEach(r,(function(e,r){var o=new Xo(r),u=Lh.Pt(n.serializer,o),s=a.getIndexManager(o),c=md.Pt(o,n.serializer,s,a.referenceDelegate);return new Hd(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Ps(t,ts.ae),e).next()}))}))}}]),e}();function np(e){e.createObjectStore("targetDocuments",{keyPath:gs}).createIndex("documentTargetsIndex",ys,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ms,{unique:!0}),e.createObjectStore("targetGlobal")}var rp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ip=function(e,t){function n(e,t,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,n),this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this._i=a,this.window=o,this.document=u,this.ai=c,this.ui=l,this.ci=f,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=function(e){return Promise.resolve()},!n.C())throw new cu(su.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dd(this,i),this.Ti=t+"main",this.serializer=new wh(s),this.Ei=new Gu(this.Ti,this.ci,new tp(this.serializer)),this.Kr=new Ad(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ld(this.serializer),this.Ur=new Ph,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===l&&nu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return v(n,[{key:"start",value:function(){var e=this;return this.Ri().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new cu(su.FAILED_PRECONDITION,rp);return e.Vi(),e.mi(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Kr.getHighestSequenceNumber(t)}))})).then((function(t){e.qr=new ts(t,e.ai)})).then((function(){e.Qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"gi",value:function(e){var t,n=this;return this.di=function(r){return(t=t||ue(re().mark((function t(r){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)},e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){var t;this.Ei.k((function(n){return(t=t||ue(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ri();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return op(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.pi(t).next((function(t){t||(e.isPrimary=!1,e._i.enqueueRetryable((function(){return e.di(!1)})))}))})).next((function(){return e.yi(t)})).next((function(n){return e.isPrimary&&!n?e.wi(t).next((function(){return!1})):!!n&&e.Si(t).next((function(){return!0}))}))})).catch((function(t){if(Wu(t))return tu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return tu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e._i.enqueueRetryable((function(){return e.di(t)})),e.isPrimary=t}))}},{key:"pi",value:function(e){var t=this;return ap(e).get("owner").next((function(e){return Hu.resolve(t.bi(e))}))}},{key:"Di",value:function(e){return op(e).delete(this.clientId)}},{key:"Ci",value:function(){return(e=e||ue(re().mark((function e(){var t,n,r,i,a=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Ii,18e5)){e.next=6;break}return this.Ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Rs(e,"clientMetadata");return t.G().next((function(e){var n=a.Fi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Hu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ai){n=m(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ai.removeItem(this.Mi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"fi",value:function(){var e=this;this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ri().then((function(){return e.Ci()})).then((function(){return e.fi()}))}))}},{key:"bi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"yi",value:function(e){var t=this;return this.ui?Hu.resolve(!0):ap(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.xi(n.ownerId)){if(t.bi(n)&&t.networkEnabled)return!0;if(!t.bi(n)){if(!n.allowTabSynchronization)throw new cu(su.FAILED_PRECONDITION,rp);return!1}}return!(!t.networkEnabled||!t.inForeground)||op(e).G().next((function(e){return void 0===t.Fi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&tu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){return(t=t||ue(re().mark((function e(){var t=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ps(e,ts.ae);return t.wi(n).next((function(){return t.Di(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Fi",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.xi(e.clientId)}))}},{key:"ki",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return op(t).G().next((function(t){return e.Fi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Qr}},{key:"getMutationQueue",value:function(e,t){return md.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new od(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Lh.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;tu("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Ds:14===e?Ns:13===e?_s:12===e?Cs:11===e?Ts:void au()}(this.ci);return this.Ei.runTransaction(e,a,o,(function(a){return i=new Ps(a,r.qr?r.qr.next():ts.ae),"readwrite-primary"===t?r.pi(i).next((function(e){return!!e||r.yi(i)})).next((function(t){if(!t)throw nu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r._i.enqueueRetryable((function(){return r.di(!1)})),new cu(su.FAILED_PRECONDITION,ju);return n(i)})).next((function(e){return r.Si(i).next((function(){return e}))})):r.qi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"qi",value:function(e){var t=this;return ap(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.xi(e.ownerId)&&!t.bi(e)&&!(t.ui||t.allowTabSynchronization&&e.allowTabSynchronization))throw new cu(su.FAILED_PRECONDITION,rp)}))}},{key:"Si",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ap(e).put("owner",t)}},{key:"wi",value:function(e){var t=this,n=ap(e);return n.get("owner").next((function(e){return t.bi(e)?(tu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Hu.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(nu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Vi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=function(){e._i.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ri()}))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}},{key:"mi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=function(){t.Oi();var e=/(?:Version|Mobile)\/1[456]/;!M()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t._i.enterRestrictedMode(!0),t._i.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.li))}},{key:"Bi",value:function(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}},{key:"xi",value:function(e){var t;try{var n=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return tu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return nu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Oi",value:function(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){nu("Failed to set zombie client id.",e)}}},{key:"Li",value:function(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch(e){}}},{key:"Mi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Gu.C()}}]),n}();function ap(e){return Rs(e,"owner")}function op(e){return Rs(e,"clientMetadata")}function up(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var sp=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return v(e,null,[{key:"$i",value:function(t,n){var r,i=Rl(),a=Rl(),o=m(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),cp=function(){function e(){d(this,e),this._documentReadCount=0}return v(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),lp=function(){function e(){d(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}return v(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new cp;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(eu()<=he.DEBUG&&tu("QueryEngine","SDK will not create cache indexes for query:",gl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Hu.resolve()):(eu()<=he.DEBUG&&tu("QueryEngine","Query:",gl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(eu()<=he.DEBUG&&tu("QueryEngine","The SDK decides to create cache indexes for query:",gl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fl(t))):Hu.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(ol(t))return Hu.resolve(null);var r=fl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=pl(t,null,"F"),r=fl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Rl.apply(void 0,ae(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,pl(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return ol(t)||r.isEqual(Eu.min())?Hu.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?Hu.resolve(null):(eu()<=he.DEBUG&&tu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gl(t)),i.ts(e,o,t,Bu(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new js(wl(e));return t.forEach((function(t,r){yl(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return eu()<=he.DEBUG&&tu("QueryEngine","Using full collection scan to execute query:",gl(t)),this.ji.getDocumentsMatchingQuery(e,t,Mu.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),fp=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new Fs(bu),this.ss=new Al((function(e){return Xc(e)}),Zc),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return v(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hd(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function hp(e,t,n,r){return new fp(e,t,n,r)}function dp(e,t){return(Xa=Xa||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Rl(),s=m(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=m(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){s.e(w)}finally{s.f()}var d,p=m(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var g,y=m(v.mutations);try{for(y.s();!(g=y.n()).done;){var k=g.value;u=u.add(k.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pp(e,t){var n=uu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Hu.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ou(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Rl(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function vp(e){var t=uu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function mp(e,t){var n=uu(e),r=t.snapshotVersion,i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Gs.EMPTY_BYTE_STRING,Eu.min()).withLastLimboFreeSnapshotVersion(Eu.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Kr.updateTargetData(e,c))}}));var u=Il(),s=Rl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(gp(e,a,t.documentUpdates).next((function(e){u=e.ls,s=e.hs}))),!r.isEqual(Eu.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Hu.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.rs=i,e}))}function gp(e,t,n){var r=Rl(),i=Rl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Il();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Eu.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):tu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ls:r,hs:i}}))}function yp(e,t){var n=uu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function kp(e,t){var n=uu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(i){return i?(r=i,Hu.resolve(r)):n.Kr.allocateTargetId(e).next((function(i){return r=new kh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function wp(e,t,n){return(Za=Za||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=uu(t),a=i.rs.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Wu(e.t1)){e.next=12;break}throw e.t1;case 12:tu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.rs=i.rs.remove(n),i.ss.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function bp(e,t,n){var r=uu(e),i=Eu.min(),a=Rl();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=uu(e),i=r.ss.get(n);return void 0!==i?Hu.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,fl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?i:Eu.min(),n?a:Rl())})).next((function(e){return Ip(r,kl(t),e),{documents:e,Ps:a}}))}))}function Ap(e,t){var n=uu(e),r=uu(n.Kr),i=n.rs.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function xp(e,t){var n=uu(e),r=n.os.get(t)||Eu.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n._s.getAllFromCollectionGroup(e,t,Bu(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ip(n,t,e),e}))}function Ip(e,t,n){var r=e.os.get(t)||Eu.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}function Ep(e,t,n,r){return($a=$a||ue(re().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=uu(t),o=Rl(),u=Il(),s=m(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Is(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ds(l)).setReadTime(n.Ts(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a._s.newChangeBuffer({trackRemovals:!0}),e.next=7,kp(a,function(e){return fl(al(Tu.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return gp(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ls,t.hs)})).next((function(){return t.ls}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sp(e,t){return(eo=eo||ue(re().mark((function e(t,n){var r,i,a,o=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Rl(),e.next=3,kp(t,fl(Ch(n.bundledQuery)));case 3:return i=e.sent,a=uu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Kf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ur.saveNamedQuery(e,n);var o=i.withResumeToken(Gs.EMPTY_BYTE_STRING,t);return a.rs=a.rs.insert(o.targetId,o),a.Kr.updateTargetData(e,o).next((function(){return a.Kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ur.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Cp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _p(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Np=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return v(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new cu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(nu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Dp=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return v(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new cu(i.error.code,i.error.message))),a?new e(t,i.state,r):(nu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Pp=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return v(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ll(),o=0;i&&o<r.activeTargetIds.length;++o)i=is(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(nu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Rp=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return v(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(nu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Op=function(){function e(){d(this,e),this.activeTargetIds=Ll()}return v(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Lp=function(e,t){function n(e,t,r,i,a){d(this,n),this.window=e,this._i=t,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new Fs(bu),this.started=!1,this.ws=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ss=Tp(this.persistenceKey,this.fs),this.bs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new Op),this.Ds=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Cs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.vs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Fs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ms=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}return v(n,[{key:"start",value:function(){return(e=e||ue(re().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ki();case 2:t=e.sent,n=m(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.fs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Tp(this.persistenceKey,i)))&&(o=Pp.Es(i,a))&&(this.ys=this.ys.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.xs(),(u=this.storage.getItem(this.Fs))&&(s=this.Os(u))&&this.Ns(s),c=m(this.ws);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ps(f)}catch(d){c.e(d)}finally{c.f()}this.ws=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})))).apply(this,arguments)}},{key:"writeSequenceNumber",value:function(e){this.setItem(this.bs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Bs(this.ys)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ys.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.ks(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_p(this.persistenceKey,e));if(n){var r=Dp.Es(e,n);r&&(t=r.state)}}return this.qs.Rs(e),this.xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.qs.Vs(e),this.xs()}},{key:"isLocalQueryTarget",value:function(e){return this.qs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_p(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ks(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ks(e)}},{key:"notifyBundleLoaded",value:function(e){this.$s(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return tu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){tu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){tu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ps",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(tu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void nu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(ue(re().mark((function e(){var r,i,a,o,u,s,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ds.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Us(n.key),e.abrupt("return",t.Ws(r,null));case 6:if(!(i=t.Gs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ws(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Cs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.zs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.js(a));case 16:e.next=41;break;case 18:if(!t.vs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Hs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Fs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Os(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ns(u));case 30:e.next=41;break;case 32:if(n.key!==t.bs){e.next=37;break}s=function(e){var t=ts.ae;if(null!=e)try{var n=JSON.parse(e);ou("number"==typeof n),t=n}catch(e){nu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ts.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Ms){e.next=41;break}return c=t.Ys(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Zs(e)})));case 41:e.next=44;break;case 43:t.ws.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"qs",get:function(){return this.ys.get(this.fs)}},{key:"xs",value:function(){this.setItem(this.Ss,this.qs.As())}},{key:"Ls",value:function(e,t,n){var r=new Np(this.currentUser,e,t,n),i=Cp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.As())}},{key:"ks",value:function(e){var t=Cp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ks",value:function(e){var t={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(t))}},{key:"Qs",value:function(e,t,n){var r=_p(this.persistenceKey,e),i=new Dp(e,t,n);this.setItem(r,i.As())}},{key:"$s",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}},{key:"Us",value:function(e){var t=this.Ds.exec(e);return t?t[1]:null}},{key:"Gs",value:function(e,t){var n=this.Us(e);return Pp.Es(n,t)}},{key:"zs",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Np.Es(new Xo(i),r,t)}},{key:"Hs",value:function(e,t){var n=this.vs.exec(e),r=Number(n[1]);return Dp.Es(r,t)}},{key:"Os",value:function(e){return Rp.Es(e)}},{key:"Ys",value:function(e){return JSON.parse(e)}},{key:"js",value:function(e){return(t=t||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Xs(t.batchId,t.state,t.error));case 2:tu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Js",value:function(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}},{key:"Ws",value:function(e,t){var n=this,r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),a=this.Bs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.no(o,u).then((function(){n.ys=r}))}},{key:"Ns",value:function(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Bs",value:function(e){var t=Ll();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),n}(),Bp=function(){function e(){d(this,e),this.ro=new Op,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return v(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new Op,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Fp=function(){function e(){d(this,e)}return v(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Mp=function(){function e(){var t=this;d(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return v(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){tu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=m(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){tu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=m(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Up=null;function jp(){return null===Up?Up=268435456+Math.round(2147483648*Math.random()):Up++,"0x"+Up.toString(16)}var Vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},zp=function(){function e(t){d(this,e),this.ho=t.ho,this.Po=t.Po}return v(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),Hp="WebChannelConnection",qp=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return v(n,[{key:"vo",value:function(e,t,n,r){var i=jp();return new Promise((function(a,o){var u=new Ko;u.setWithCredentials(!0),u.listenOnce(Ho.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case zo.NO_ERROR:var t=u.getResponseJson();tu(Hp,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case zo.TIMEOUT:tu(Hp,"RPC '".concat(e,"' ").concat(i," timed out")),o(new cu(su.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:var n=u.getStatus();if(tu(Hp,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(su).indexOf(t)>=0?t:su.UNKNOWN}(s.status);o(new cu(c,s.message))}else o(new cu(su.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new cu(su.UNAVAILABLE,"Connection failed."));break;default:au()}}finally{tu(Hp,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);tu(Hp,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=jp(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jo(),o=Vo(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");tu(Hp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new zp({ho:function(t){h?tu(Hp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(tu(Hp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),tu(Hp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Qo.EventType.OPEN,(function(){h||tu(Hp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Qo.EventType.CLOSE,(function(){h||(h=!0,tu(Hp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.mo())})),p(l,Qo.EventType.ERROR,(function(t){h||(h=!0,ru(Hp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.mo(new cu(su.UNAVAILABLE,"The operation could not be completed")))})),p(l,Qo.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ou(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){tu(Hp,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=df[e];if(void 0!==t)return Af(t)}(u),c=o.message;void 0===s&&(s=su.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.mo(new cu(s,c)),l.close()}else tu(Hp,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.fo(i)}})),p(o,qo.STAT_EVENT,(function(t){t.stat===Go.PROXY?tu(Hp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Go.NOPROXY&&tu(Hp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Vo()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return v(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=jp(),o=this.Do(e,t);tu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,r,i),this.vo(e,o,u,n).then((function(t){return tu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw ru("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=Vp[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function Gp(){return"undefined"!=typeof window?window:null}function Qp(){return"undefined"!=typeof document?document:null}function Kp(e){return new zf(e,!0)}var Wp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return v(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&tu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),Yp=function(e,t,n){function r(e,t,n,i,a,o,u,s){d(this,r),this._i=e,this.Uo=n,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Wp(e,t)}return v(r,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){return(t=t||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(e,t){return(n=n||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===su.RESOURCE_EXHAUSTED?(nu(n.toString()),nu("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===su.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new cu(su.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return tu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(tu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),r}(),Jp=function(e){k(n,e);var t=A(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return v(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:au()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ou(void 0===t||"string"==typeof t),Gs.fromBase64String(t||"")):(ou(void 0===t||t instanceof Uint8Array),Gs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?su.UNKNOWN:Af(e.code);return new cu(t,e.message||"")}(o);n=new Of(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Xf(e,s.document.name),l=Kf(s.document.updateTime),f=s.document.createTime?Kf(s.document.createTime):Eu.min(),h=new Ac({mapValue:{fields:s.document.fields}}),d=Ic.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Pf(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=Xf(e,m.document),y=m.readTime?Kf(m.readTime):Eu.min(),k=Ic.newNoDocument(g,y),w=m.removedTargetIds||[];n=new Pf([],w,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var A=Xf(e,b.document),x=b.removedTargetIds||[];n=new Pf([],x,A,null)}else{if(!("filter"in t))return au();t.filter;var I=t.filter;I.targetId;var E=I.count,S=void 0===E?0:E,T=I.unchangedNames,C=new wf(S,T),_=I.targetId;n=new Rf(_,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Eu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Eu.min():t.readTime?Kf(t.readTime):Eu.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=eh(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=$c(r)?{documents:uh(e,r)}:{query:sh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Gf(e,t.resumeToken);var i=Hf(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Eu.min())>0){n.readTime=qf(e,t.snapshotVersion.toTimestamp());var a=Hf(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return au()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=eh(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}(Yp),Xp=function(e){k(n,e);var t=A(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.P_=!1,s}return v(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,Ft(w(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(ou(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(ou(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Kf(e.updateTime):Kf(t);return n.isEqual(Eu.min())&&(n=Kf(t)),new Zl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Kf(e.commitTime);return this.listener.T_(n,t)}return ou(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=eh(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ah(t.serializer,e)}))};this.n_(n)}}]),n}(Yp),Zp=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return v(n,[{key:"V_",value:function(){if(this.R_)throw new cu(su.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.bo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===su.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new cu(su.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.Fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===su.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new cu(su.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(v((function e(){d(this,e)})));var $p=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return v(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(nu(t),this.p_=!1):tu("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),ev=v((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cv(o),!e.t0){e.next=5;break}return tu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(e){return(t=t||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=uu(t)).F_.add(4),e.next=4,nv(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,tv(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new $p(r,i)}));function tv(e){return(to=to||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cv(t)){e.next=18;break}n=m(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function nv(e){return(no=no||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function rv(e,t){var n=uu(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),sv(n)?uv(n):Tv(n).Yo()&&av(n,t))}function iv(e,t){var n=uu(e),r=Tv(n);n.v_.delete(t),r.Yo()&&ov(n,t),0===n.v_.size&&(r.Yo()?r.e_():cv(n)&&n.O_.set("Unknown"))}function av(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Eu.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tv(e).l_(t)}function ov(e,t){e.N_.Le(t),Tv(e).h_(t)}function uv(e){e.N_=new Bf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),Tv(e).start(),e.O_.y_()}function sv(e){return cv(e)&&!Tv(e).Jo()&&e.v_.size>0}function cv(e){return 0===uu(e).F_.size}function lv(e){e.N_=void 0}function fv(e){return(ro=ro||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){av(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hv(e,t){return(io=io||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lv(t),sv(t)?(t.O_.b_(n),uv(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dv(e,t,n){return(ao=ao||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof Of&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(e,t){return(i=i||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=m(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.v_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.v_.delete(o),t.N_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})))).apply(this,arguments)}(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),tu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Pf?t.N_.Ge(n):n instanceof Rf?t.N_.Xe(n):t.N_.He(n),r.isEqual(Eu.min())){e.next=29;break}return e.prev=14,e.next=17,vp(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(Gs.EMPTY_BYTE_STRING,r.snapshotVersion)),ov(e,t);var i=new kh(r.target,t,n,r.sequenceNumber);av(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),tu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function pv(e,t,n){return(oo=oo||ue(re().mark((function e(t,n,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wu(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,nv(t);case 5:t.O_.set("Offline"),r||(r=function(){return vp(t.localStore)}),t.asyncQueue.enqueueRetryable(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,tv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e,t){return t().catch((function(n){return pv(e,n,t)}))}function mv(e){return(uo=uo||ue(re().mark((function e(t){var n,r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uu(t),r=Cv(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!gv(n)){e.next=19;break}return e.prev=3,e.next=6,yp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,yv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pv(n,e.t0);case 17:e.next=2;break;case 19:kv(n)&&wv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function gv(e){return cv(e)&&e.C_.length<10}function yv(e,t){e.C_.push(t);var n=Cv(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function kv(e){return cv(e)&&!Cv(e).Jo()&&e.C_.length>0}function wv(e){Cv(e).start()}function bv(e){return(so=so||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cv(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Av(e){return(co=co||ue(re().mark((function e(t){var n,r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cv(t),r=m(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xv(e,t,n){return(lo=lo||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=yf.from(i,n,r),e.next=3,vv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mv(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e,t){return(fo=fo||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Cv(t).I_,!e.t0){e.next=4;break}return e.next=4,function(e,t){return(r=r||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return bf(e)&&e!==su.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),Cv(t).Xo(),e.next=5,vv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,mv(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,n);case 4:kv(t)&&wv(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ev(e,t){return(ho=ho||ue(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=uu(t)).asyncQueue.verifyOperationInProgress(),tu("RemoteStore","RemoteStore received new credentials"),i=cv(r),r.F_.add(3),e.next=6,nv(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,tv(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sv(e,t){return(po=po||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,tv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,nv(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tv(e){var t;return e.B_||(e.B_=function(e,t,n){var r=uu(e);return r.V_(),new Jp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:fv.bind(null,e),Eo:hv.bind(null,e),c_:dv.bind(null,e)}),e.M_.push((function(n){return(t=t||ue(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),sv(e)?uv(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:lv(e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.B_}function Cv(e){var t;return e.L_||(e.L_=function(e,t,n){var r=uu(e);return r.V_(),new Xp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:bv.bind(null,e),Eo:Iv.bind(null,e),E_:Av.bind(null,e),T_:xv.bind(null,e)}),e.M_.push((function(n){return(t=t||ue(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,mv(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(tu("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.L_}var _v=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return v(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cu(su.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Nv(e,t){if(nu("AsyncQueue","".concat(t,": ").concat(e)),Wu(e))return new cu(su.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Dv=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Nu.comparator(e.key,n.key)}:function(e,t){return Nu.comparator(e.key,t.key)},this.keyedMap=Sl(),this.sortedSet=new Fs(this.comparator)}return v(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Pv=function(){function e(){d(this,e),this.k_=new Fs(Nu.comparator)}return v(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):au():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Rv=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return v(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Dv.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Ov=v((function e(){d(this,e),this.Q_=void 0,this.listeners=[]})),Lv=v((function e(){d(this,e),this.queries=new Al((function(e){return ml(e)}),vl),this.onlineState="Unknown",this.K_=new Set}));function Bv(e,t){return(vo=vo||ue(re().mark((function e(t,n){var r,i,a,o,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ov),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Nv(e.t0,"Initialization of query '".concat(gl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.U_(r.onlineState),o.Q_&&n.W_(o.Q_)&&jv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Fv(e,t){return(mo=mo||ue(re().mark((function e(t,n){var r,i,a,o,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mv(e,t){var n,r=uu(e),i=!1,a=m(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=m(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&jv(r)}function Uv(e,t,n){var r=uu(e),i=r.queries.get(t);if(i){var a,o=m(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function jv(e){e.K_.forEach((function(e){e.next()}))}var Vv=function(){function e(t,n,r){d(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return v(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=m(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Rv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=Rv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}(),zv=function(){function e(t,n){d(this,e),this.X_=t,this.byteLength=n}return v(e,[{key:"ea",value:function(){return"metadata"in this.X_}}]),e}(),Hv=function(){function e(t){d(this,e),this.serializer=t}return v(e,[{key:"Is",value:function(e){return Xf(this.serializer,e)}},{key:"ds",value:function(e){return e.metadata.exists?rh(this.serializer,e.document,!1):Ic.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return Kf(e)}}]),e}(),qv=function(e){function t(e,n,r){d(this,t),this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gv(e)}return v(t,[{key:"na",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;var n=Tu.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ra",value:function(e){var t,n=new Map,r=new Hv(this.serializer),i=m(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Is(a.metadata.name),s=m(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Rl()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){return(e=e||ue(re().mark((function e(){var t,n,r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ep(this.localStore,new Hv(this.serializer),this.documents,this.ta.id);case 2:t=e.sent,n=this.ra(this.documents),r=m(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Sp(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})))).apply(this,arguments)}}]),t}();function Gv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Qv=v((function e(t){d(this,e),this.key=t})),Kv=v((function e(t){d(this,e),this.key=t})),Wv=function(){function e(t,n){d(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Rl(),this.mutatedKeys=Rl(),this.ua=wl(t),this.ca=new Dv(this.ua)}return v(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new Pv,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yl(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ua(f,s)>0||c&&n.ua(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:u,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var a=e.Pa.q_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return au()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var o=t?this.Ta():[],u=0===this.aa.size&&this.current?1:0,s=u!==this._a;return this._a=u,0!==a.length||s?{snapshot:new Rv(this.query,e.ca,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Pv,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=Rl(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new Kv(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new Qv(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=Rl();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return Rv.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),Yv=v((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),Jv=v((function e(t){d(this,e),this.key=t,this.ma=!1})),Xv=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Al((function(e){return ml(e)}),vl),this.pa=new Map,this.ya=new Set,this.wa=new Fs(Nu.comparator),this.Sa=new Map,this.ba=new Qd,this.Da={},this.Ca=new Map,this.va=bd.Ln(),this.onlineState="Unknown",this.Fa=void 0}return v(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function Zv(e,t){return(go=go||ue(re().mark((function e(t,n){var r,i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tm(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,kp(r.localStore,fl(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,$v(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&rv(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $v(e,t,n,r,i){return(yo=yo||ue(re().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){var i;return function(e,t,n,r){return(i=i||ue(re().mark((function e(t,n,r,i){var a,o,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.es,!e.t0){e.next=6;break}return e.next=5,bp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(hm(t,n.targetId,u.Ea),u.snapshot));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e,n,r)},e.next=3,bp(t.localStore,n,!0);case 3:return o=e.sent,u=new Wv(n,o.Ps),s=u.ha(o.documents),c=Df.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),hm(t,r,l.Ea),f=new Yv(n,r,u),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,t){return(ko=ko||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uu(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!vl(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,wp(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),iv(r.remoteStore,i.targetId),lm(r,i.targetId)})).catch(zu);case 9:e.next=14;break;case 11:return lm(r,i.targetId),e.next=14,wp(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tm(e,t,n){return(wo=wo||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cm(t),e.prev=1,e.next=4,function(e,t){var n,r,i=uu(e),a=Iu.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Rl());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Il(),s=Rl();return i._s.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=m(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=of(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new cf(c.key,l,xc(l.value.mapValue),$l.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Tl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new Fs(bu)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,vm(i,a.changes);case 9:return e.next=11,mv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Nv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function nm(e,t){return(bo=bo||ue(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.prev=1,e.next=4,mp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(ou(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?ou(n.ma):e.removedDocuments.size>0&&(ou(n.ma),n.ma=!1))})),e.next=8,vm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,zu(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function rm(e,t,n){var r=uu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=uu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=m(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&jv(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function im(e,t,n){return(Ao=Ao||ue(re().mark((function e(t,n,r){var i,a,o,u,s,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=uu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Fs(Nu.comparator)).insert(o,Ic.newNoDocument(o,Eu.min())),s=Rl().add(o),c=new Nf(Eu.min(),new Map,new Fs(bu),u,s),e.next=9,nm(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),pm(i),e.next=16;break;case 14:return e.next=16,wp(i.localStore,n,!1).then((function(){return lm(i,n,r)})).catch(zu);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function am(e,t){return(xo=xo||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),i=n.batch.batchId,e.prev=1,e.next=4,pp(r.localStore,n);case 4:return a=e.sent,cm(r,i,null),sm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,vm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function om(e,t,n){return(Io=Io||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uu(t),e.prev=1,e.next=4,function(e,t){var n=uu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ou(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,cm(i,n,r),sm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,vm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zu(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function um(e,t){return(Eo=Eo||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cv((r=uu(t)).remoteStore)||tu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=uu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ca.get(i)||[]).push(n),r.Ca.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Nv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function sm(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function cm(e,t,n){var r=uu(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=m(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||fm(e,t)}))}function fm(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(iv(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),pm(e))}function hm(e,t,n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Qv?(e.ba.addReference(a.key,t),dm(e,a)):a instanceof Kv?(tu("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||fm(e,a.key)):au()}}catch(o){i.e(o)}finally{i.f()}}function dm(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(tu("SyncEngine","New document in limbo: "+n),e.ya.add(r),pm(e))}function pm(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new Nu(Tu.fromString(t)),r=e.va.next();e.Sa.set(r,new Jv(n)),e.wa=e.wa.insert(n,r),rv(e.remoteStore,new kh(fl(al(n.path)),r,"TargetPurposeLimboResolution",ts.ae))}}function vm(e,t,n){return(So=So||ue(re().mark((function e(t,n,r){var i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=uu(t),o=[],u=[],s=[],e.t0=a.ga.isEmpty(),e.t0){e.next=9;break}return a.ga.forEach((function(e,t){s.push(a.Ma(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=sp.$i(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return a.fa.c_(o),e.next=9,function(e,t){return(i=i||ue(re().mark((function e(t,n){var r,i,a,o,u,s,c,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Hu.forEach(n,(function(t){return Hu.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Hu.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Wu(e.t0)){e.next=10;break}throw e.t0;case 10:tu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=m(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.rs.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}(a.localStore,u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mm(e,t){return(To=To||ue(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=uu(t)).currentUser.isEqual(n)){e.next=11;break}return tu("SyncEngine","User change. New user:",n.toKey()),e.next=5,dp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new cu(su.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,vm(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gm(e,t){var n=uu(e),r=n.Sa.get(t);if(r&&r.ma)return Rl().add(r.key);var i=Rl(),a=n.pa.get(t);if(!a)return i;var o,u=m(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ga.get(s);i=i.unionWith(c.view.la)}}catch(l){u.e(l)}finally{u.f()}return i}function ym(e,t){return(Co=Co||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.next=3,bp(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ra(i),e.abrupt("return",(r.isPrimaryClient&&hm(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function km(e,t){return(_o=_o||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),e.abrupt("return",xp(r.localStore,n).then((function(e){return vm(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wm(e,t,n,r){return(No=No||ue(re().mark((function e(t,n,r,i){var a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=uu(t),e.next=3,function(e,t){var n=uu(e),r=uu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Fn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Hu.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mv(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(cm(a,n,i||null),sm(a,n),function(e,t){uu(uu(e).mutationQueue).xn(t)}(a.localStore,n)):au();case 11:return e.next=13,vm(a,o);case 13:e.next=16;break;case 15:tu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bm(e,t){return(Do=Do||ue(re().mark((function e(t,n){var r,i,a,o,u,s,c,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tm(r=uu(t)),Cm(r),!0!==n||!0===r.Fa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Am(r,i.toArray());case 5:return a=e.sent,r.Fa=!0,e.next=9,Sv(r.remoteStore,!0);case 9:o=m(a);try{for(o.s();!(u=o.n()).done;)s=u.value,rv(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Fa){e.next=25;break}return c=[],l=Promise.resolve(),r.pa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return lm(r,t),wp(r.localStore,t,!0)})),iv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Am(r,c);case 21:return function(e){var t=uu(e);t.Sa.forEach((function(e,n){iv(t.remoteStore,n)})),t.ba.gr(),t.Sa=new Map,t.wa=new Fs(Nu.comparator)}(r),r.Fa=!1,e.next=25,Sv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Am(e,t,n){return(Po=Po||ue(re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,g,y;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=uu(t),a=[],o=[],u=m(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.pa.get(c))||0===f.length){e.next=34;break}return e.next=11,kp(i.localStore,fl(f[0]));case 11:l=e.sent,h=m(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ga.get(p),e.next=20,ym(i,v);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ap(i.localStore,c);case 36:return y=e.sent,e.next=39,kp(i.localStore,y);case 39:return l=e.sent,e.next=42,$v(i,xm(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.fa.c_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function xm(e){return il(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Im(e){return function(e){return uu(uu(e).persistence).ki()}(uu(e).localStore)}function Em(e,t,n,r){return(Ro=Ro||ue(re().mark((function e(t,n,r,i){var a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=uu(t)).Fa){e.next=3;break}return e.abrupt("return",void tu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.pa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,xp(a.localStore,kl(o[0]));case 10:return u=e.sent,s=Nf.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Gs.EMPTY_BYTE_STRING),e.next=14,vm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,wp(a.localStore,n,!0);case 17:return lm(a,n,i),e.abrupt("break",20);case 19:au();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sm(e,t,n){return(Oo=Oo||ue(re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Tm(t)).Fa){e.next=45;break}a=m(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.pa.has(u)){e.next=10;break}return tu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ap(i.localStore,u);case 12:return s=e.sent,e.next=15,kp(i.localStore,s);case 15:return c=e.sent,e.next=18,$v(i,xm(s),c.targetId,!1,c.resumeToken);case 18:rv(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=m(r),e.prev=30,h=re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.pa.has(t),!e.t0){e.next=5;break}return e.next=5,wp(i.localStore,t,!1).then((function(){iv(i.remoteStore,t),lm(i,t)})).catch(zu);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function Tm(e){var t=uu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=im.bind(null,t),t.fa.c_=Mv.bind(null,t.eventManager),t.fa.xa=Uv.bind(null,t.eventManager),t}function Cm(e){var t=uu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=am.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=om.bind(null,t),t}function _m(e,t,n){var r,i=uu(e);(function(e,t,n){return(r=r||ue(re().mark((function e(t,n,r){var i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=uu(e),r=Kf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ur.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Gv(i)),a=new qv(i,t.localStore,n.serializer),e.next=15,n.Oa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.na(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Oa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,vm(t,s.sa,void 0);case 31:return e.next=33,function(e,t){var n=uu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ur.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.ia));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ru("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})))).apply(this,arguments)})(i,t,n).then((function(e){i.sharedClientState.notifyBundleLoaded(e)}))}var Nm=function(e,t){function n(){d(this,n),this.synchronizeTabs=!1}return v(n,[{key:"initialize",value:function(t){return(e=e||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Kp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return hp(this.persistence,new lp,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Zd(ep.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Bp}},{key:"terminate",value:function(){return(t=t||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}(),Dm=function(e,t){k(r,e);var n=A(r);function r(e,t,i){var a;return d(this,r),(a=n.call(this)).Na=e,a.cacheSizeBytes=t,a.forceOwnership=i,a.synchronizeTabs=!1,a}return v(r,[{key:"initialize",value:function(e){return(t=t||ue(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(w(r.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Na.initialize(this,t);case 4:return e.next=6,Cm(this.Na.syncEngine);case 6:return e.next=8,mv(this.Na.remoteStore);case 8:return e.next=10,this.persistence.gi((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createLocalStore",value:function(e){return hp(this.persistence,new lp,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Cd(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new es(t,this.persistence);return new $u(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dd.withCacheSize(this.cacheSizeBytes):dd.DEFAULT;return new ip(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gp(),Qp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Bp}}]),r}(Nm),Pm=function(e,t){k(r,e);var n=A(r);function r(e,t){var i;return d(this,r),(i=n.call(this,e,t,!1)).Na=e,i.cacheSizeBytes=t,i.synchronizeTabs=!0,i}return v(r,[{key:"initialize",value:function(e){return(t=t||ue(re().mark((function e(t){var n,i,a=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(w(r.prototype),"initialize",this).call(this,t);case 2:if(i=this.Na.syncEngine,e.t0=this.sharedClientState instanceof Lp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Xs:wm.bind(null,i),eo:Em.bind(null,i),no:Sm.bind(null,i),ki:Im.bind(null,i),Zs:km.bind(null,i)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.gi((function(e){return(n=n||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bm(a.Na.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createSharedClientState",value:function(e){var t=Gp();if(!Lp.C(t))throw new cu(su.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),r}(Dm),Rm=function(e){function t(){d(this,t)}return v(t,[{key:"initialize",value:function(t,n){return(e=e||ue(re().mark((function e(t,n){var r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return rm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mm.bind(null,this.syncEngine),e.next=12,Sv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createEventManager",value:function(e){return new Lv}},{key:"createDatastore",value:function(e){var t=Kp(e.databaseInfo.databaseId),n=function(e){return new qp(e)}(e.databaseInfo);return function(e,t,n,r){return new Zp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new ev(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return rm(t.syncEngine,e,0)}),Mp.C()?new Mp:new Fp)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Xv(e,t,n,r,i,a);return o&&(u.Fa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e;return function(t){return(e=e||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uu(t),tu("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,nv(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.remoteStore)}}]),t}();function Om(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ue(re().mark((function r(){var i;return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Lm=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return v(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):nu("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Bm=function(e,t,n,r,i,a){function o(e,t){var n=this;d(this,o),this.ka=e,this.serializer=t,this.metadata=new lu,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((function(e){e&&e.ea()?n.metadata.resolve(e.X_.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(function(e){return n.metadata.reject(e)}))}return v(o,[{key:"close",value:function(){return this.ka.cancel()}},{key:"getMetadata",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Oa",value:function(){return(t=t||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Qa());case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Qa",value:function(){return(n=n||ue(re().mark((function e(){var t,n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.qa.decode(t),r=Number(n),isNaN(r)&&this.$a("length string (".concat(n,") is not valid number")),e.next=9,this.Ua(r);case 9:return i=e.sent,e.abrupt("return",new zv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Wa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ka",value:function(){return(r=r||ue(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Wa()<0)){e.next=7;break}return e.next=3,this.Ga();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Wa())<0&&this.$a("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Ua",value:function(e){return(i=i||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ga();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.$a("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.qa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"$a",value:function(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ga",value:function(){return(a=a||ue(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),o}(),Fm=function(e,t){function n(e){d(this,n),this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return v(n,[{key:"lookup",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r,i=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new cu(su.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(e,t){return(n=n||ue(re().mark((function e(t,n){var r,i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),i=eh(r.serializer)+"/documents",a={documents:n.map((function(e){return Jf(r.serializer,e)}))},e.next=5,r.Fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=ih(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ou(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.datastore,t);case 4:return r=e.sent,e.abrupt("return",(r.forEach((function(e){return i.recordVersion(e)})),r));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){return(t=t||ue(re().mark((function e(){var t,n,r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return n=this.readVersions,this.mutations.forEach((function(e){n.delete(e.key.toString())})),n.forEach((function(e,t){var n=Nu.fromPath(t);r.mutations.push(new mf(n,r.precondition(n)))})),e.next=7,function(e,n){return(t=t||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uu(t),i=eh(r.serializer)+"/documents",a={writes:n.map((function(e){return ah(r.serializer,e)}))},e.next=3,r.bo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw au();t=Eu.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new cu(su.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Eu.min())?$l.exists(!1):$l.updateTime(t):$l.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Eu.min()))throw new cu(su.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $l.updateTime(t)}return $l.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),n}(),Mm=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.Ho=new Wp(this.asyncQueue,"transaction_retry")}return v(e,[{key:"run",value:function(){this.za-=1,this.ja()}},{key:"ja",value:function(){var e=this;this.Ho.Qo(ue(re().mark((function t(){var n,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Fm(e.datastore),(r=e.Ha(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ja(t)}))}))})).catch((function(t){e.Ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ha",value:function(e){try{var t=this.updateFunction(e);return!ns(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ja",value:function(e){var t=this;this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((function(){return t.ja(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ya",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bf(t)}return!1}}]),e}(),Um=function(e){function t(e,n,r,i){var a,o=this;d(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xo.UNAUTHENTICATED,this.clientId=wu.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,(function(e){return(a=a||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tu("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.appCheckCredentials.start(r,(function(e){return tu("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return v(t,[{key:"getConfiguration",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new cu(su.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new lu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ue(re().mark((function n(){var r;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Nv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),t}();function jm(e,t){return(Lo=Lo||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),tu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return i=e.sent,e.next=6,n.initialize(i);case 6:a=i.initialUser,t.setCredentialChangeListener((function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,dp(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vm(e,t){return(Bo=Bo||ue(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Hm(t);case 3:return r=e.sent,tu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ev(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ev(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(e){return"FirebaseError"===e.name?e.code===su.FAILED_PRECONDITION||e.code===su.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Hm(e){return(Fo=Fo||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return tu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,jm(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),zm(n=e.t0)){e.next=13;break}throw n;case 13:return ru("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,jm(t,new Nm);case 16:e.next=21;break;case 18:return tu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,jm(t,new Nm);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function qm(e){return(Mo=Mo||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return tu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Vm(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return tu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Vm(t,new Rm);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gm(e){return Hm(e).then((function(e){return e.persistence}))}function Qm(e){return Hm(e).then((function(e){return e.localStore}))}function Km(e){return qm(e).then((function(e){return e.remoteStore}))}function Wm(e){return qm(e).then((function(e){return e.syncEngine}))}function Ym(e){return qm(e).then((function(e){return e.datastore}))}function Jm(e){return(Uo=Uo||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Zv.bind(null,n.syncEngine),r.onUnlisten=em.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function i(){return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lm({next:function(a){t.enqueueAndForget((function(){return Fv(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new cu(su.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new cu(su.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vv(al(n.path),a,{includeMetadataChanges:!0,Z_:!0});return Bv(e,o)},i.next=3,Jm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Zm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function i(){return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lm({next:function(n){t.enqueueAndForget((function(){return Fv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new cu(su.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vv(n,a,{includeMetadataChanges:!0,Z_:!0});return Bv(e,o)},i.next=3,Jm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $m(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var eg=new Map;function tg(e,t,n){if(!n)throw new cu(su.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ng(e,t,n,r){if(!0===t&&!0===r)throw new cu(su.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function rg(e){if(!Nu.isDocumentKey(e))throw new cu(su.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ig(e){if(Nu.isDocumentKey(e))throw new cu(su.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ag(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":au()}function og(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new cu(su.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ag(e);throw new cu(su.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function ug(e,t){if(t<=0)throw new cu(su.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var sg=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new cu(su.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new cu(su.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ng("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$m(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new cu(su.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new cu(su.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new cu(su.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return v(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),cg=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sg({}),this._settingsFrozen=!1}return v(e,[{key:"app",get:function(){if(!this._app)throw new cu(su.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new cu(su.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new hu;switch(e.type){case"firstParty":return new mu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new cu(su.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=eg.get(e);t&&(tu("ComponentProvider","Removing Datastore"),eg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function lg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=og(e,cg))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Xo.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[C(JSON.stringify({alg:"none",type:"JWT"})),C(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new cu(su.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Xo(c)}e._authCredentials=new du(new fu(u,s))}}var fg=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return v(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),hg=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return v(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new dg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dg=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,al(i)))._path=i,a.type="collection",a}return v(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hg(this.firestore,null,new Nu(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(fg);function pg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ne(e),tg("collection","path",t),e instanceof cg){var a=Tu.fromString.apply(Tu,[t].concat(r));return ig(a),new dg(e,null,a)}if(!(e instanceof hg||e instanceof dg))throw new cu(su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Tu.fromString.apply(Tu,[t].concat(r)));return ig(o),new dg(e.firestore,null,o)}function vg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ne(e),1===arguments.length&&(t=wu.V()),tg("doc","path",t),e instanceof cg){var a=Tu.fromString.apply(Tu,[t].concat(r));return rg(a),new hg(e,null,new Nu(a))}if(!(e instanceof hg||e instanceof dg))throw new cu(su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Tu.fromString.apply(Tu,[t].concat(r)));return rg(o),new hg(e.firestore,e instanceof dg?e.converter:null,new Nu(o))}function mg(e,t){return e=ne(e),t=ne(t),(e instanceof hg||e instanceof dg)&&(t instanceof hg||t instanceof dg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gg(e,t){return e=ne(e),t=ne(t),e instanceof fg&&t instanceof fg&&e.firestore===t.firestore&&vl(e._query,t._query)&&e.converter===t.converter}var yg=function(e,t){function n(){var e=this;d(this,n),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Wp(this,"async_queue_retry"),this.ou=function(){var t=Qp();t&&tu("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Ho.$o()};var t=Qp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ou)}return v(n,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=Qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new lu;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){return(e=e||ue(re().mark((function e(){var t=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Wu(e.t0)){e.next=12;break}throw e.t0;case 12:tu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw nu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=_v.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&au()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){return(t=t||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"hu",value:function(e){var t,n=m(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=m(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),n}();function kg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=m(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var wg=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new lu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return v(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bg=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new yg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return v(n,[{key:"_terminate",value:function(){return this._firestoreClient||xg(this),this._firestoreClient.terminate()}}]),n}(cg);function Ag(e){return e._firestoreClient||xg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xg(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new $s(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$m(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Um(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Ig(e,t,n){var r=new lu;return e.asyncQueue.enqueue(ue(re().mark((function i(){var a;return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,jm(e,n);case 3:return i.next=5,Vm(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),zm(a=i.t0)){i.next=13;break}throw a;case 13:ru("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Eg(e){return function(e){var t=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=um,n.next=3,Wm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Ag(e=og(e,bg)))}function Sg(e){return function(e){return e.asyncQueue.enqueue(ue(re().mark((function t(){var n,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gm(e);case 2:return n=t.sent,t.next=5,Km(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=uu(e);return t.F_.delete(0),tv(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ag(e=og(e,bg)))}function Tg(e){return function(e){return e.asyncQueue.enqueue(ue(re().mark((function t(){var n,r,i;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gm(e);case 2:return r=t.sent,t.next=5,Km(e);case 5:return i=t.sent,t.abrupt("return",(r.setNetworkEnabled(!1),function(e){return(n=n||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=uu(t)).F_.add(0),e.next=4,nv(n);case 4:n.O_.set("Offline");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(i)));case 7:case"end":return t.stop()}}),t)}))))}(Ag(e=og(e,bg)))}function Cg(e,t){var n=Ag(e=og(e,bg)),r=new wg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Bm(e,t)}(function(e,t){if(e instanceof Uint8Array)return Om(e,t);if(e instanceof ArrayBuffer)return Om(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?If().encode(e):e),t)}(n,Kp(t));e.asyncQueue.enqueueAndForget(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_m,t.next=3,Wm(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function _g(e,t){return function(e,t){return e.asyncQueue.enqueue(ue(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=uu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ur.getNamedQuery(e,t)}))},n.next=3,Qm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Ag(e=og(e,bg)),t).then((function(t){return t?new fg(e,null,t.query):null}))}function Ng(e){if(e._initialized||e._terminated)throw new cu(su.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Dg=function(){function e(t){d(this,e),this._byteString=t}return v(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Gs.fromBase64String(t))}catch(t){throw new cu(su.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Gs.fromUint8Array(t))}}]),e}(),Pg=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new cu(su.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _u(n)}return v(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Rg=v((function e(t){d(this,e),this._methodName=t})),Og=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new cu(su.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new cu(su.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return v(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return bu(this._lat,e._lat)||bu(this._long,e._long)}}]),e}(),Lg=/^__.*__$/,Bg=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new cf(e,this.data,this.fieldMask,t,this.fieldTransforms):new sf(e,this.data,t,this.fieldTransforms)}}]),e}(),Fg=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return v(e,[{key:"toMutation",value:function(e,t){return new cf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Mg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw au()}}var Ug=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return v(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return ay(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(Mg(this.Tu)&&Lg.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),jg=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(t)}return v(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ug({Tu:e,methodName:t,yu:n,path:_u.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Vg(e){var t=e._freezeSettings(),n=Kp(e._databaseId);return new jg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);ty("Data must be an object, but it was:",o,r);var u,s,c=$g(r,o);if(a.merge)u=new Hs(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=m(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=ny(t,l.value,n);if(!o.contains(d))throw new cu(su.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));oy(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Hs(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Bg(new Ac(c),u,s)}var Hg=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.gu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rg);function qg(e,t,n){return new Ug({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Gg=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_toFieldTransform",value:function(e){return new Xl(e.path,new Hl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rg),Qg=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Su=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=qg(this,e,!0),n=this.Su.map((function(e){return Zg(e,t)})),r=new ql(n);return new Xl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rg),Kg=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Su=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=qg(this,e,!0),n=this.Su.map((function(e){return Zg(e,t)})),r=new Ql(n);return new Xl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rg),Wg=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).bu=r,i}return v(n,[{key:"_toFieldTransform",value:function(e){var t=new Wl(e.serializer,Ml(e.serializer,this.bu));return new Xl(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rg);function Yg(e,t,n,r){var i=e.wu(1,t,n);ty("Data must be an object, but it was:",i,r);var a=[],o=Ac.empty();Ls(r,(function(e,r){var u=iy(t,e,n);r=ne(r);var s=i.mu(u);if(r instanceof Hg)a.push(u);else{var c=Zg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Hs(a);return new Fg(o,u,i.fieldTransforms)}function Jg(e,t,n,r,i,a){var o=e.wu(1,t,n),u=[ny(t,r,n)],s=[i];if(a.length%2!=0)throw new cu(su.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ny(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ac.empty(),h=u.length-1;h>=0;--h)if(!oy(l,u[h])){var d=u[h],p=s[h];p=ne(p);var v=o.mu(d);if(p instanceof Hg)l.push(d);else{var m=Zg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Hs(l);return new Fg(f,g,o.fieldTransforms)}function Xg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Zg(n,e.wu(r?4:3,t))}function Zg(e,t){if(ey(e=ne(e)))return ty("Unsupported field value:",t,e),$g(e,t);if(e instanceof Rg)return function(e,t){if(!Mg(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=m(e);try{for(a.s();!(n=a.n()).done;){var o=Zg(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ne(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ml(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Iu.fromDate(e);return{timestampValue:qf(t.serializer,n)}}if(e instanceof Iu){var r=new Iu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qf(t.serializer,r)}}if(e instanceof Og)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dg)return{bytesValue:Gf(t.serializer,e._byteString)};if(e instanceof hg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Wf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(ag(e)))}(e,t)}function $g(e,t){var n={};return Bs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(e,(function(e,r){var i=Zg(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ey(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Iu||e instanceof Og||e instanceof Dg||e instanceof hg||e instanceof Rg)}function ty(e,t,n){if(!ey(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ag(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function ny(e,t,n){if((t=ne(t))instanceof Pg)return t._internalPath;if("string"==typeof t)return iy(e,t);throw ay("Field path arguments must be of type string or ",e,!1,void 0,n)}var ry=new RegExp("[~\\*/\\[\\]]");function iy(e,t,n){if(t.search(ry)>=0)throw ay("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(Pg,ae(t.split(".")))._internalPath}catch(Xt){throw ay("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ay(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new cu(su.INVALID_ARGUMENT,u+e+s)}function oy(e,t){return e.some((function(e){return e.isEqual(t)}))}var uy=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return v(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sy=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){return Ft(w(n.prototype),"data",this).call(this)}}]),n}(uy);function cy(e,t){return"string"==typeof t?iy(e,t):t instanceof Pg?t._internalPath:t._delegate._internalPath}function ly(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new cu(su.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fy=v((function e(){d(this,e)})),hy=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(fy);function dy(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof fy&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof vy})).length,n=e.filter((function(e){return e instanceof py})).length;if(t>1||t>0&&n>0)throw new cu(su.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=m(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var py=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return v(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Ty(e._query,t),new fg(e.firestore,e.converter,dl(e._query,t))}},{key:"_parse",value:function(e){var t=Vg(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new cu(su.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Sy(o,a);var s,c=[],l=m(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Ey(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Ey(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Sy(o,a),u=Xg(n,t,o,"in"===a||"not-in"===a);return Dc.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hy);var vy=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return v(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Pc.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=m(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Ty(r,a),r=dl(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new fg(e.firestore,e.converter,dl(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(fy);var my=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return v(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new cu(su.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new cu(su.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cc(t,n);return function(e,t){if(null===ul(e)){var n=sl(e);null!==n&&Cy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new fg(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new rl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hy);var gy=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return v(n,[{key:"_apply",value:function(e){return new fg(e.firestore,e.converter,pl(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hy);var yy=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return v(n,[{key:"_apply",value:function(e){var t=Iy(e,this.type,this._docOrFields,this._inclusive);return new fg(e.firestore,e.converter,function(e,t){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hy);function ky(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yy._create("startAt",t,!0)}function wy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yy._create("startAfter",t,!1)}var by=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return v(n,[{key:"_apply",value:function(e){var t=Iy(e,this.type,this._docOrFields,this._inclusive);return new fg(e.firestore,e.converter,function(e,t){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(hy);function Ay(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return by._create("endBefore",t,!1)}function xy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return by._create("endAt",t,!0)}function Iy(e,t,n,r){if(n[0]=ne(n[0]),n[0]instanceof uy)return function(e,t,n,r,i){if(!r)throw new cu(su.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=m(ll(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(lc(t,r.key));else{var c=r.data.field(s.field);if(Js(c))throw new cu(su.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new cu(su.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ec(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Vg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new cu(su.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new cu(su.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!cl(e)&&-1!==c.indexOf("/"))throw new cu(su.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Tu.fromString(c));if(!Nu.isDocumentKey(l))throw new cu(su.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Nu(l);u.push(lc(t,f))}else{var h=Xg(n,r,c);u.push(h)}}return new Ec(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ey(e,t,n){if("string"==typeof(n=ne(n))){if(""===n)throw new cu(su.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cl(t)&&-1!==n.indexOf("/"))throw new cu(su.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Tu.fromString(n));if(!Nu.isDocumentKey(r))throw new cu(su.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return lc(e,new Nu(r))}if(n instanceof hg)return lc(e,n._key);throw new cu(su.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ag(n),"."))}function Sy(e,t){if(!Array.isArray(e)||0===e.length)throw new cu(su.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ty(e,t){if(t.isInequality()){var n=sl(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new cu(su.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ul(e);null!==i&&Cy(e,r,i)}var a=function(e,t){var n,r=m(e);try{for(r.s();!(n=r.n()).done;){var i,a=m(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new cu(su.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new cu(su.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Cy(e,t,n){if(!n.isEqual(t))throw new cu(su.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var _y=function(){function e(){d(this,e)}return v(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw au()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Ls(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Og(Ws(e.latitude),Ws(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Xs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ks(e);return new Iu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Tu.fromString(e);ou(yh(n));var r=new ec(n.get(1),n.get(3)),i=new Nu(n.popFirst(5));return r.isEqual(t)||nu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Ny(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Dy=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new Dg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hg(this.firestore,null,t)}}]),n}(_y);var Py=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return v(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ry=function(e){k(n,e);var t=A(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return v(n,[{key:"exists",value:function(){return Ft(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Oy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(uy),Oy=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ft(w(n.prototype),"data",this).call(this,e)}}]),n}(Ry),Ly=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Py(i.hasPendingWrites,i.fromCache),this.query=r}return v(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Oy(n._firestore,n._userDataWriter,r.key,r,new Py(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new cu(su.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Oy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Py(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Oy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Py(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:By(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function By(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return au()}}function Fy(e,t){return e instanceof Ry&&t instanceof Ry?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ly&&t instanceof Ly&&e._firestore===t._firestore&&gg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var My=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new Dg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hg(this.firestore,null,t)}}]),n}(_y);function Uy(e){e=og(e,hg);var t=og(e.firestore,bg),n=Ag(t),r=new My(t);return function(e,t){var n=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function r(){var i;return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(e,t,n){return(i=i||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=uu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new cu(su.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Nv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},r.next=3,Qm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ry(t,r,e._key,n,new Py(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function jy(e){e=og(e,fg);var t=og(e.firestore,bg),n=Ag(t),r=new My(t);return ly(e._query),Zm(n,e._query).then((function(n){return new Ly(t,r,e,n)}))}function Vy(e){e=og(e,fg);var t=og(e.firestore,bg),n=Ag(t),r=new My(t);return function(e,t){var n=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function r(){var i;return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(e,t,n){return(i=i||ue(re().mark((function e(t,n,r){var i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bp(t,n,!0);case 3:i=e.sent,a=new Wv(n,i.Ps),o=a.ha(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Nv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)},r.next=3,Qm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ly(t,r,e,n)}))}function zy(e){e=og(e,fg);var t=og(e.firestore,bg),n=Ag(t),r=new My(t);return Zm(n,e._query,{source:"server"}).then((function(n){return new Ly(t,r,e,n)}))}function Hy(e,t,n){e=og(e,hg);var r=og(e.firestore,bg),i=Ny(e.converter,t,n);return Ky(r,[zg(Vg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,$l.none())])}function qy(e,t,n){e=og(e,hg);for(var r=og(e.firestore,bg),i=Vg(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Ky(r,[("string"==typeof(t=ne(t))||t instanceof Pg?Jg(i,"updateDoc",e._key,t,n,o):Yg(i,"updateDoc",e._key,t)).toMutation(e._key,$l.exists(!0))])}function Gy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ne(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||kg(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(kg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof hg)l=og(e.firestore,bg),f=al(e._key.path),c={next:function(t){n[s]&&n[s](Wy(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=og(e,fg);l=og(p.firestore,bg),f=p._query;var v=new My(l);c={next:function(e){n[s]&&n[s](new Ly(l,v,p,e))},error:n[s+1],complete:n[s+2]},ly(e._query)}return function(e,t,n,r){var i=new Lm(r),a=new Vv(t,i,n);return e.asyncQueue.enqueueAndForget(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bv,t.next=3,Jm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.La(),e.asyncQueue.enqueueAndForget(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Fv,t.next=3,Jm(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ag(l),f,h,c)}function Qy(e,t){return function(e,t){var n=new Lm(t);return e.asyncQueue.enqueueAndForget(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){uu(e).K_.add(t),t.next()},t.next=3,Jm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.La(),e.asyncQueue.enqueueAndForget(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){uu(e).K_.delete(t)},t.next=3,Jm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ag(e=og(e,bg)),kg(t)?t:{next:t})}function Ky(e,t){return function(e,t){var n=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function r(){return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=tm,r.next=3,Wm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ag(e),t)}function Wy(e,t,n){var r=n.docs.get(t._key),i=new My(e);return new Ry(e,i,t._key,r,new Py(n.hasPendingWrites,n.fromCache),t.converter)}var Yy={maxAttempts:5},Jy=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vg(t)}return v(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Xy(e,this._firestore),i=Ny(r.converter,t,n),a=zg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,$l.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Xy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ne(t))||t instanceof Pg?Jg(this._dataReader,"WriteBatch.update",i._key,t,n,o):Yg(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,$l.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Xy(e,this._firestore);return this._mutations=this._mutations.concat(new vf(t._key,$l.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new cu(su.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Xy(e,t){if((e=ne(e)).firestore!==t)throw new cu(su.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Zy=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return v(n,[{key:"get",value:function(e){var t=this,r=Xy(e,this._firestore),i=new My(this._firestore);return Ft(w(n.prototype),"get",this).call(this,e).then((function(e){return new Ry(t._firestore,i,r._key,e._document,new Py(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=Vg(t)}return v(e,[{key:"get",value:function(e){var t=this,n=Xy(e,this._firestore),r=new Dy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return au();var i=e[0];if(i.isFoundDocument())return new uy(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new uy(t._firestore,r,n._key,null,n.converter);throw au()}))}},{key:"set",value:function(e,t,n){var r=Xy(e,this._firestore),i=Ny(r.converter,t,n),a=zg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Xy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ne(t))||t instanceof Pg?Jg(this._dataReader,"Transaction.update",i._key,t,n,o):Yg(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Xy(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function $y(e,t,n){e=og(e,bg);var r=Object.assign(Object.assign({},Yy),n);return function(e){if(e.maxAttempts<1)throw new cu(su.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new lu;return e.asyncQueue.enqueueAndForget(ue(re().mark((function i(){var a;return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ym(e);case 2:a=i.sent,new Mm(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Ag(e),(function(n){return t(new Zy(e,n))}),r)}function ek(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qg("arrayUnion",t)}function tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kg("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zo=e}(ut),et(new se("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new bg(new pu(e.getProvider("auth-internal")),new yu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new cu(su.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ht(Jo,"4.1.3",e),ht(Jo,"4.1.3","esm2017")}();function nk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new cu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function rk(){if("undefined"===typeof Uint8Array)throw new cu("unimplemented","Uint8Arrays are not available in this environment.")}function ik(){if("undefined"==typeof atob)throw new cu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ak=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"toBase64",value:function(){return ik(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return rk(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ik(),new e(Dg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return rk(),new e(Dg.fromUint8Array(t))}}]),e}();function ok(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=m(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uk=function(){function e(){d(this,e)}return v(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Ng(e=og(e,bg));var n=Ag(e);if(n._uninitializedComponentsProvider)throw new cu(su.FAILED_PRECONDITION,"SDK cache is already specified.");ru("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Rm;return Ig(n,i,new Dm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Ng(e=og(e,bg));var t=Ag(e);if(t._uninitializedComponentsProvider)throw new cu(su.FAILED_PRECONDITION,"SDK cache is already specified.");ru("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Rm;return Ig(t,r,new Pm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new cu(su.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new lu;return e._queue.enqueueAndForgetEvenWhileRestricted(ue(re().mark((function n(){var r;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(e){return(r=r||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gu.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Gu.delete(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(up(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),sk=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ec||(this._appCompat=t)}return v(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ru("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lg(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Sg(this._delegate)}},{key:"disableNetwork",value:function(){return Tg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ng("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Eg(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Qy(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new cu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Ak(this,pg(this._delegate,e))}catch(t){throw pk(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new dk(this,vg(this._delegate,e))}catch(t){throw pk(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new kk(this,function(e,t){if(e=og(e,cg),tg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new cu(su.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new fg(e,null,function(e){return new rl(Tu.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw pk(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return $y(this._delegate,(function(n){return e(new lk(t,n))}))}},{key:"batch",value:function(){var e=this;return Ag(this._delegate),new fk(new Jy(this._delegate,(function(t){return Ky(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Cg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return _g(this._delegate,e).then((function(e){return e?new kk(t,e):null}))}}]),e}(),ck=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return v(n,[{key:"convertBytes",value:function(e){return new ak(new Dg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return dk.forKey(t,this.firestore,null)}}]),n}(_y);var lk=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ck(t)}return v(e,[{key:"get",value:function(e){var t=this,n=xk(e);return this._delegate.get(n).then((function(e){return new gk(t._firestore,new Ry(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=xk(e);return n?(nk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xk(e);return this._delegate.delete(t),this}}]),e}(),fk=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"set",value:function(e,t,n){var r=xk(e);return n?(nk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xk(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),hk=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return v(e,[{key:"fromFirestore",value:function(e,t){var n=new Oy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yk(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ck(t),n),i.set(n,a)),a}}]),e}();hk.INSTANCES=new WeakMap;var dk=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ck(t)}return v(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Ak(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Ak(this.firestore,pg(this._delegate,e))}catch(t){throw pk(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ne(e))instanceof hg&&mg(this._delegate,e)}},{key:"set",value:function(e,t){t=nk("DocumentReference.set",t);try{return t?Hy(this._delegate,e,t):Hy(this._delegate,e)}catch(n){throw pk(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?qy(this._delegate,e):qy.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw pk(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Ky(og((e=this._delegate).firestore,bg),[new vf(e._key,$l.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vk(n),a=mk(n,(function(t){return new gk(e.firestore,new Ry(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Gy(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Uy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=og(e,hg);var t=og(e.firestore,bg);return Xm(Ag(t),e._key,{source:"server"}).then((function(n){return Wy(t,e,n)}))}(this._delegate):function(e){e=og(e,hg);var t=og(e.firestore,bg);return Xm(Ag(t),e._key).then((function(n){return Wy(t,e,n)}))}(this._delegate)).then((function(e){return new gk(t.firestore,new Ry(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new cu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new hg(n._delegate,r,new Nu(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new hg(n._delegate,r,t))}}]),e}();function pk(e,t,n){return e.message=e.message.replace(t,n),e}function vk(e){var t,n=m(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!ok(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function mk(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ok(e[0])?e[0]:ok(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gk=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"ref",get:function(){return new dk(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Fy(this._delegate,e._delegate)}}]),e}(),yk=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||au(),t}}]),n}(gk),kk=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ck(t)}return v(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,dy(this._delegate,function(e,t,n){var r=t,i=cy("where",e);return py._create(i,r,n)}(t,n,r)))}catch(i){throw pk(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,dy(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cy("orderBy",e);return my._create(n,t)}(t,n)))}catch(r){throw pk(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,dy(this._delegate,(ug("limit",n=t),gy._create("limit",n,"F"))))}catch(n){throw pk(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,dy(this._delegate,(ug("limitToLast",n=t),gy._create("limitToLast",n,"L"))))}catch(n){throw pk(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,dy(this._delegate,ky.apply(void 0,arguments)))}catch(t){throw pk(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,dy(this._delegate,wy.apply(void 0,arguments)))}catch(t){throw pk(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,dy(this._delegate,Ay.apply(void 0,arguments)))}catch(t){throw pk(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,dy(this._delegate,xy.apply(void 0,arguments)))}catch(t){throw pk(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return gg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Vy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?zy(this._delegate):jy(this._delegate)).then((function(e){return new bk(t.firestore,new Ly(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vk(n),a=mk(n,(function(t){return new bk(e.firestore,new Ly(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Gy(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),wk=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new yk(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),bk=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return v(e,[{key:"query",get:function(){return new kk(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new yk(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wk(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yk(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Fy(this._delegate,e._delegate)}}]),e}(),Ak=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return v(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new dk(this.firestore,e):null}},{key:"doc",value:function(e){try{return new dk(this.firestore,void 0===e?vg(this._delegate):vg(this._delegate,e))}catch(t){throw pk(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=og(e.firestore,bg),r=vg(e),i=Ny(e.converter,t);return Ky(n,[zg(Vg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,$l.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new dk(t.firestore,e)}))}},{key:"isEqual",value:function(e){return mg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(hk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(kk);function xk(e){return og(e,hg)}var Ik,Ek=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(Pg,n)}return v(e,[{key:"isEqual",value:function(e){return(e=ne(e))instanceof Pg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(_u.keyField().canonicalString())}}]),e}(),Sk=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Gg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Hg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ek.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=tk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new Wg("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Tk={Firestore:sk,GeoPoint:Og,Timestamp:Iu,Blob:ak,Transaction:lk,WriteBatch:fk,DocumentReference:dk,DocumentSnapshot:gk,Query:kk,QueryDocumentSnapshot:yk,QuerySnapshot:bk,CollectionReference:Ak,FieldPath:Ek,FieldValue:Sk,setLogLevel:function(e){var t;t=e,$o.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Ck(e){return a(e)||ie(e)||u(e)||s()}(function(e,t){e.INTERNAL.registerComponent(new se("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Tk)))})(Ik=Bt,(function(e,t){return new sk(e,t,new uk)})),Ik.registerVersion("@firebase/firestore-compat","0.3.17");function _k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Nk,Dk,Pk,Rk,Ok,Lk,Bk,Fk,Mk,Uk,jk,Vk,zk,Hk,qk,Gk,Qk,Kk,Wk,Yk,Jk,Xk,Zk,$k,ew,tw,nw,rw,iw,aw,ow,uw,sw,cw,lw,fw,hw,dw,pw,vw,mw,gw,yw,kw,ww,bw,Aw,xw,Iw,Ew,Sw,Tw,Cw,_w,Nw,Dw,Pw,Rw,Ow,Lw,Bw,Fw,Mw,Uw,jw,Vw,zw,Hw,qw,Gw,Qw,Kw,Ww,Yw,Jw,Xw,Zw,$w,eb,tb,nb,rb,ib,ab,ob={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ub="EMAIL_SIGNIN",sb="PASSWORD_RESET",cb="RECOVER_EMAIL",lb="REVERT_SECOND_FACTOR_ADDITION",fb="VERIFY_AND_CHANGE_EMAIL",hb="VERIFY_EMAIL";function db(e){return void 0!==e&&void 0!==e.getResponse}function pb(e){return void 0!==e&&void 0!==e.enterprise}var vb=v((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function mb(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var gb=function(){var e;return h(e={},"admin-restricted-operation","This operation is restricted to administrators only."),h(e,"argument-error",""),h(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),h(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),h(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),h(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),h(e,"cordova-not-ready","Cordova framework is not ready."),h(e,"cors-unsupported","This browser is not supported."),h(e,"credential-already-in-use","This credential is already associated with a different user account."),h(e,"custom-token-mismatch","The custom token corresponds to a different audience."),h(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),h(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),h(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),h(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),h(e,"email-already-in-use","The email address is already in use by another account."),h(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),h(e,"expired-action-code","The action code has expired."),h(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),h(e,"internal-error","An internal AuthError has occurred."),h(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),h(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),h(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),h(e,"invalid-auth-event","An internal AuthError has occurred."),h(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),h(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),h(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),h(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),h(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),h(e,"invalid-email","The email address is badly formatted."),h(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),h(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),h(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),h(e,"invalid-credential","The supplied auth credential is malformed or has expired."),h(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),h(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),h(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),h(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),h(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),h(e,"wrong-password","The password is invalid or the user does not have a password."),h(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),h(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),h(e,"invalid-provider-id","The specified provider ID is invalid."),h(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),h(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),h(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),h(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),h(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),h(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),h(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),h(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),h(e,"missing-continue-uri","A continue URL must be provided in the request."),h(e,"missing-iframe-start","An internal AuthError has occurred."),h(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),h(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),h(e,"missing-password","A non-empty password must be provided"),h(e,"missing-multi-factor-info","No second factor identifier is provided."),h(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),h(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),h(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),h(e,"app-deleted","This instance of FirebaseApp has been deleted."),h(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),h(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),h(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),h(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),h(e,"no-auth-event","An internal AuthError has occurred."),h(e,"no-such-provider","User was not linked to an account with the given provider."),h(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),h(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),h(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),h(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),h(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),h(e,"provider-already-linked","User can only be linked to one identity for the given provider."),h(e,"quota-exceeded","The project's quota for this operation has been exceeded."),h(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),h(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),h(e,"rejected-credential","The request contains malformed or mismatching credentials."),h(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),h(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),h(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),h(e,"timeout","The operation has timed out."),h(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),h(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),h(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),h(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),h(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),h(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),h(e,"unverified-email","The operation requires a verified email."),h(e,"user-cancelled","The user did not grant your application the permissions it requested."),h(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),h(e,"user-disabled","The user account has been disabled by an administrator."),h(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),h(e,"user-signed-out",""),h(e,"weak-password","The password must be 6 characters long or more."),h(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),h(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),h(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),h(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),h(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),h(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),h(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),h(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),h(e,"invalid-req-type","Invalid request parameters."),h(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),h(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),h(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},yb=mb,kb=new q("auth","Firebase",mb()),wb=new ke("@firebase/auth");function bb(e){if(wb.logLevel<=he.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wb.warn.apply(wb,["Auth (".concat(ut,"): ").concat(e)].concat(n))}}function Ab(e){if(wb.logLevel<=he.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wb.error.apply(wb,["Auth (".concat(ut,"): ").concat(e)].concat(n))}}function xb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tb.apply(void 0,[e].concat(n))}function Ib(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tb.apply(void 0,[e].concat(n))}function Eb(e,t,n){var r=Object.assign(Object.assign({},yb()),h({},t,n));return new q("auth","Firebase",r).create(t,{appName:e.name})}function Sb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xb(e,"argument-error"),Eb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Tb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ae(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ae(o)))}return kb.create.apply(kb,[e].concat(n))}function Cb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tb.apply(void 0,[t].concat(r))}}function _b(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ab(t),new Error(t)}function Nb(e,t){e||_b(t)}function Db(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pb(){return"http:"===Rb()||"https:"===Rb()}function Rb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ob=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,Nb(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())||j()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pb()||U()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Lb(e,t){Nb(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bb=function(){function e(){d(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Fb=(h(Nk={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(Nk,"MISSING_CUSTOM_TOKEN","internal-error"),h(Nk,"INVALID_IDENTIFIER","invalid-email"),h(Nk,"MISSING_CONTINUE_URI","internal-error"),h(Nk,"INVALID_PASSWORD","wrong-password"),h(Nk,"MISSING_PASSWORD","missing-password"),h(Nk,"EMAIL_EXISTS","email-already-in-use"),h(Nk,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(Nk,"INVALID_IDP_RESPONSE","invalid-credential"),h(Nk,"INVALID_PENDING_TOKEN","invalid-credential"),h(Nk,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(Nk,"MISSING_REQ_TYPE","internal-error"),h(Nk,"EMAIL_NOT_FOUND","user-not-found"),h(Nk,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(Nk,"EXPIRED_OOB_CODE","expired-action-code"),h(Nk,"INVALID_OOB_CODE","invalid-action-code"),h(Nk,"MISSING_OOB_CODE","internal-error"),h(Nk,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(Nk,"INVALID_ID_TOKEN","invalid-user-token"),h(Nk,"TOKEN_EXPIRED","user-token-expired"),h(Nk,"USER_NOT_FOUND","user-token-expired"),h(Nk,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(Nk,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),h(Nk,"INVALID_CODE","invalid-verification-code"),h(Nk,"INVALID_SESSION_INFO","invalid-verification-id"),h(Nk,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(Nk,"MISSING_SESSION_INFO","missing-verification-id"),h(Nk,"SESSION_EXPIRED","code-expired"),h(Nk,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(Nk,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(Nk,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(Nk,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(Nk,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(Nk,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(Nk,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(Nk,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(Nk,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(Nk,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(Nk,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),h(Nk,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),h(Nk,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),h(Nk,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),h(Nk,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),h(Nk,"MISSING_CLIENT_TYPE","missing-client-type"),h(Nk,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),h(Nk,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),h(Nk,"INVALID_REQ_TYPE","invalid-req-type"),Nk),Mb=new Ob(3e4,6e4);function Ub(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function jb(e,t,n,r){return(Dk=Dk||ue(re().mark((function e(t,n,r,i){var a,o=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Vb(t,a,ue(re().mark((function e(){var a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=J(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bb.fetch()(Hb(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vb(e,t,n){return(Pk=Pk||ue(re().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Fb),n),e.prev=2,a=new qb(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Gb(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Gb(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Gb(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Gb(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Eb(t,p,d);case 34:xb(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof H)){e.next=41;break}throw e.t0;case 41:xb(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function zb(e,t,n,r){return(Rk=Rk||ue(re().mark((function e(t,n,r,i){var a,o,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,jb(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&xb(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hb(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Lb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var qb=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ib(n.auth,"network-request-failed"))}),Mb.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ib(e,t,r);return i.customData._tokenResponse=n,i}function Qb(e){return(Ok=Ok||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jb(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kb(e,t){return(Lk=Lk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"GET","/v2/recaptchaConfig",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wb(e,t){return(Bk=Bk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yb(e,t){return(Fk=Fk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jb(e,t){return(Mk=Mk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xb(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Zb(e){return 1e3*Number(e)}function $b(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ab("JWT malformed, contained fewer than 3 sections"),null;try{var a=_(r);return a?JSON.parse(a):(Ab("Failed to decode base64 JWT payload"),null)}catch(o){return Ab("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function eA(e,t){return(jk=jk||ue(re().mark((function e(t,n){var r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof H&&tA(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function tA(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var nA=function(e){function t(e){d(this,t),this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}}]),t}(),rA=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Xb(this.lastLoginAt),this.creationTime=Xb(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function iA(e){return(Vk=Vk||ue(re().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,eA(t,Jb(r,{idToken:i}));case 6:Cb(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=_k(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=aA(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new rA(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aA(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ae(n),ae(t))}function oA(e,t){return(Hk=Hk||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vb(t,{},ue(re().mark((function e(){var r,i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=J({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Hb(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bb.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uA=function(e,t){function n(){d(this,n),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(n,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Cb(e.idToken,"internal-error"),Cb("undefined"!==typeof e.idToken,"internal-error"),Cb("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$b(e);return Cb(t,"internal-error"),Cb("undefined"!==typeof t.exp,"internal-error"),Cb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Cb(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,n){return(t=t||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oA(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new n,this.toJSON())}},{key:"_performRefresh",value:function(){return _b("not implemented")}}],[{key:"fromJSON",value:function(e,t){var r=t.refreshToken,i=t.accessToken,a=t.expirationTime,o=new n;return r&&(Cb("string"===typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(Cb("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),a&&(Cb("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}}]),n}();function sA(e,t){Cb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var cA=function(e,t,n,r){function i(e){d(this,i);var t=e.uid,n=e.auth,r=e.stsTokenManager,a=_k(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ae(a.providerData):[],this.metadata=new rA(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(i,[{key:"getIdToken",value:function(t){return(e=e||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eA(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Cb(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getIdTokenResult",value:function(e){return function(e){return(Uk=Uk||ue(re().mark((function e(t){var n,r,i,a,o,u,s=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ne(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Cb((a=$b(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Xb(Zb(a.auth_time)),issuedAtTime:Xb(Zb(a.iat)),expirationTime:Xb(Zb(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return(zk=zk||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ne(t),e.next=3,iA(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Cb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){var t=new i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}},{key:"_onReload",value:function(e){Cb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){return(t=t||ue(re().mark((function e(t){var n,r,i=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,iA(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){return(n=n||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,eA(this,Wb(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,t){var n,r,a,o,u,s,c,l,f=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,v=null!==(u=t.tenantId)&&void 0!==u?u:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,k=t.uid,w=t.emailVerified,b=t.isAnonymous,A=t.providerData,x=t.stsTokenManager;Cb(k&&x,e,"internal-error");var I=uA.fromJSON(this.name,x);Cb("string"===typeof k,e,"internal-error"),sA(f,e.name),sA(h,e.name),Cb("boolean"===typeof w,e,"internal-error"),Cb("boolean"===typeof b,e,"internal-error"),sA(d,e.name),sA(p,e.name),sA(v,e.name),sA(m,e.name),sA(g,e.name),sA(y,e.name);var E=new i({uid:k,auth:e,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return A&&Array.isArray(A)&&(E.providerData=A.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(e,t){return(r=r||ue(re().mark((function e(t,n){var r,a,o,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],(a=new uA).updateFromServerResponse(n),o=new i({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r}),e.next=6,iA(o);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),i}(),lA=new Map;function fA(e){Nb(e instanceof Function,"Expected a class definition");var t=lA.get(e);return t?(Nb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lA.set(e,t),t)}var hA=function(e,t,n,r){function i(){d(this,i),this.type="NONE",this.storage={}}return v(i,[{key:"_isAvailable",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_set",value:function(e,n){return(t=t||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),i}();hA.type="NONE";var dA=hA;function pA(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var vA=function(e,t,n){function r(e,t,n){d(this,r),this.persistence=e,this.auth=t,this.userKey=n;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=pA(this.userKey,a.apiKey,o),this.fullPersistenceKey=pA("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(r,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){return(e=e||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?cA._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){return(t=t||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(e,t){return(n=n||ue(re().mark((function e(t,n){var i,a,o,u,s,c,l,f,h,d,p,v,g,y=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=y.length>2&&void 0!==y[2]?y[2]:"authUser",n.length){e.next=3;break}return e.abrupt("return",new r(fA(dA),t,o));case 3:return e.next=5,Promise.all(n.map((function(e){return(i=i||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 5:u=e.sent.filter((function(e){return e})),s=u[0]||fA(dA),c=pA(o,t.config.apiKey,t.name),l=null,f=m(n),e.prev=10,f.s();case 12:if((h=f.n()).done){e.next=29;break}return d=h.value,e.prev=14,e.next=17,d._get(c);case 17:if(!(p=e.sent)){e.next=23;break}return v=cA._fromJSON(t,p),d!==s&&(l=v),s=d,e.abrupt("break",29);case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(10),f.e(e.t1);case 34:return e.prev=34,f.f(),e.finish(34);case 37:if(g=u.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&g.length){e.next=40;break}return e.abrupt("return",new r(s,t,o));case 40:if(s=g[0],!l){e.next=44;break}return e.next=44,s._set(c,l.toJSON());case 44:return e.next=46,Promise.all(n.map((function(e){return(a=a||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)})));case 46:return e.abrupt("return",new r(s,t,o));case 47:case"end":return e.stop()}}),e,null,[[10,31,34,37],[14,25]])})))).apply(this,arguments)}}]),r}();function mA(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AA(t))return"Blackberry";if(xA(t))return"Webos";if(yA(t))return"Safari";if((t.includes("chrome/")||kA(t))&&!t.includes("edge/"))return"Chrome";if(bA(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function gA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/firefox\//i.test(e)}function yA(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:F()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/crios\//i.test(e)}function wA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/iemobile/i.test(e)}function bA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/android/i.test(e)}function AA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/blackberry/i.test(e)}function xA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/webos/i.test(e)}function IA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function EA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return IA(e)||bA(e)||xA(e)||AA(e)||/windows phone/i.test(e)||wA(e)}function SA(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=mA(F());break;case"Worker":t="".concat(mA(F()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ut,"/").concat(r)}var TA=function(e){function t(e){d(this,t),this.auth=e,this.queue=[]}return v(t,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r,i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=m(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=m(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})))).apply(this,arguments)}}]),t}();function CA(e){return(qk=qk||ue(re().mark((function e(t){var n,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",jb(t,"GET","/v2/passwordPolicy",Ub(t,n)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _A=function(){function e(t){var n,r,i,a;d(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return v(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),NA=function(e,t,n,r,i,a,o,u,s,c,l,f,p,m,g,y,k){function w(e,t,n,r){d(this,w),this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PA(this),this.idTokenSubscription=new PA(this),this.beforeStateQueue=new TA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}return v(w,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=fA(t)),this._initializationPromise=this.queue(ue(re().mark((function r(){var i,a;return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,vA.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){return(e=e||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeCurrentUser",value:function(e){return(t=t||ue(re().mark((function e(t){var n,r,i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Cb(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})))).apply(this,arguments)}},{key:"tryRedirectSignIn",value:function(e){return(n=n||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iA(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){return(i=i||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return(a=a||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ne(t):null)&&Cb(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_updateCurrentUser",value:function(e){return(o=o||ue(re().mark((function e(t){var n,r=this,i=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Cb(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signOut",value:function(){return(u=u||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setPersistence",value:function(e){var t=this;return this.queue(ue(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(fA(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(e){return(s=s||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){return(c=c||ue(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CA(this);case 2:t=e.sent,n=new _A(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new q("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){return(l=l||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getOrInitRedirectPersistenceManager",value:function(e){return(f=f||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Cb(n=t&&fA(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,vA.create(this,[fA(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_redirectUserForId",value:function(e){return(p=p||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_persistUserIfCurrent",value:function(e){return(m=m||ue(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cb(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(e){return(g=g||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Cb(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){return(y=y||ue(re().mark((function e(){var t,n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getAppCheckToken",value:function(){return(k=k||ue(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&bb("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),w}();function DA(e){return ne(e)}var PA=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=$((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return Cb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function RA(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ib("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function OA(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var LA=function(e){function t(e){d(this,t),this.type="recaptcha-enterprise",this.auth=DA(e)}return v(t,[{key:"verify",value:function(){return(e=e||ue(re().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,r){var i=window.grecaptcha;pb(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:n}).then((function(e){t(e)})).catch((function(){t("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(e){return(t=t||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise((function(e,r){return(n=n||ue(re().mark((function e(n,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kb(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new vb(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=u.length>0&&void 0!==u[0]?u[0]:"verify",r=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){i(o.auth).then((function(n){if(!r&&pb(window.grecaptcha))a(n,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));RA("https://www.google.com/recaptcha/enterprise.js?render="+n).then((function(){a(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function BA(e,t,n){return(Gk=Gk||ue(re().mark((function e(t,n,r){var i,a,o,u,s=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new LA(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function FA(e,t,n){var r=DA(e);Cb(r._canInitEmulator,r,"emulator-config-failed"),Cb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=MA(t),o=function(e){var t=MA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:UA(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:UA(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function MA(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function UA(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var jA=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return _b("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return _b("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return _b("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return _b("not implemented")}}]),e}();function VA(e,t){return(Qk=Qk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:resetPassword",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zA(e,t){return(Kk=Kk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HA(e,t){return(Wk=Wk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:update",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(e,t){return(Yk=Yk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithPassword",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GA(e,t){return(Jk=Jk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:sendOobCode",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QA(e,t){return(Xk=Xk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GA(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KA(e,t){return(Zk=Zk||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GA(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WA(e,t){return($k=$k||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GA(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YA(e,t){return(ew=ew||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GA(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JA(e,t){return(tw=tw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithEmailLink",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XA(e,t){return(nw=nw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithEmailLink",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZA=function(e,t,n){k(i,e);var r=A(i);function i(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,i),(a=r.call(this,"password",n))._email=e,a._password=t,a._tenantId=o,a}return v(i,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){return(t=t||ue(re().mark((function e(t){var n,r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,BA(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",qA(t,i));case 11:return e.abrupt("return",qA(t,r).catch((function(e){return(a=a||ue(re().mark((function e(n){var i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,BA(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",qA(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 12:return e.abrupt("return",JA(t,{email:this._email,oobCode:this._password}));case 13:xb(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_linkToIdToken",value:function(e,t){return(n=n||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zA(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",XA(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:xb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new i(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new i(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),i}(jA);function $A(e,t){return(rw=rw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithIdp",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ex=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $A(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$A(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$A(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=J(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xb("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=_k(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(jA);function tx(e,t){return(iw=iw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:sendVerificationCode",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nx=h({},"USER_NOT_FOUND","user-not-found");var rx=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return(aw=aw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return(ow=ow||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ub(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return(uw=uw||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ub(t,r),nx));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(jA);var ix=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=X(Z(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Cb(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=X(Z(e)).link,n=t?X(Z(t)).deep_link_id:null,r=X(Z(e)).deep_link_id;return(r?X(Z(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var ax=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return ZA._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ix.parseLink(t);return Cb(n,"argument-error"),ZA._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ax.PROVIDER_ID="password",ax.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ax.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ox=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ux=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ae(this.scopes)}}]),n}(ox),sx=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Cb(e.idToken||e.accessToken,"argument-error"),ex._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Cb("providerId"in t&&"signInMethod"in t,"argument-error"),ex._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ux),cx=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return ex._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ux);cx.FACEBOOK_SIGN_IN_METHOD="facebook.com",cx.PROVIDER_ID="facebook.com";var lx=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return ex._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ux);lx.GOOGLE_SIGN_IN_METHOD="google.com",lx.PROVIDER_ID="google.com";var fx=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return ex._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ux);fx.GITHUB_SIGN_IN_METHOD="github.com",fx.PROVIDER_ID="github.com";var hx=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return $A(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$A(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$A(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(jA),dx=function(e){k(n,e);var t=A(n);function n(e){return d(this,n),Cb(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=hx.fromJSON(e);return Cb(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return hx._create(r,n)}catch(i){return null}}}]),n}(ox),px=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return ex._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ux);function vx(e,t){return(sw=sw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signUp",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}px.TWITTER_SIGN_IN_METHOD="twitter.com",px.PROVIDER_ID="twitter.com";var mx=function(e,t){function n(e){d(this,n),this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return v(n,null,[{key:"_fromIdTokenResponse",value:function(t,r,i){return(e=e||ue(re().mark((function e(t,r,i){var a,o,u,s,c=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],e.next=3,cA._fromIdTokenResponse(t,i,a);case 3:return o=e.sent,u=gx(i),s=new n({user:o,providerId:u,_tokenResponse:i,operationType:r}),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_forOperation",value:function(e,r,i){return(t=t||ue(re().mark((function e(t,r,i){var a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._updateTokensIfNecessary(i,!0);case 2:return a=gx(i),e.abrupt("return",new n({user:t,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),n}();function gx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var yx=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(H);function kx(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yx._fromErrorAndOperation(e,n,t,r);throw n}))}function wx(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function bx(e,t){return(lw=lw||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne(t),e.next=3,xx(!0,r,n);case 3:return e.t0=Yb,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=wx(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ax(e,t){return(fw=fw||ue(re().mark((function e(t,n){var r,i,a=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=eA,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mx._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xx(e,t,n){return(hw=hw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iA(n);case 2:i=wx(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Cb(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ix(e,t){return(dw=dw||ue(re().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,eA(t,kx(i,a,n,t),r);case 6:return Cb((o=e.sent).idToken,i,"internal-error"),Cb(u=$b(o.idToken),i,"internal-error"),s=u.sub,Cb(t.uid===s,i,"user-mismatch"),e.abrupt("return",mx._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&xb(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function Ex(e,t){return(pw=pw||ue(re().mark((function e(t,n){var r,i,a,o,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,kx(t,i,n);case 4:return a=e.sent,e.next=7,mx._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sx(e,t){return(vw=vw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ex(DA(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tx(e,t){return(mw=mw||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne(t),e.next=3,xx(!1,r,n.providerId);case 3:return e.abrupt("return",Ax(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cx(e,t){return(gw=gw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(ne(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _x(e,t){return(yw=yw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zb(t,"POST","/v1/accounts:signInWithCustomToken",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nx=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Dx._fromServerResponse(e,t):"totpInfo"in t?Px._fromServerResponse(e,t):xb(e,"internal-error")}}]),e}(),Dx=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Nx),Px=function(e){k(n,e);var t=A(n);function n(e){return d(this,n),t.call(this,"totp",e)}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Nx);function Rx(e,t,n){var r;Cb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Cb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Cb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Cb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ox(e){return(ww=ww||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=DA(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lx(e,t){return(Iw=Iw||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne(t),e.next=3,VA(r,{oobCode:n});case 3:i=e.sent,Cb(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Cb(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Cb(i.mfaInfo,r,"internal-error");case 13:Cb(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Nx._fromServerResponse(DA(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bx(e,t,n){return(Sw=Sw||ue(re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=DA(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,BA(a,o,"signUpPassword");case 5:s=e.sent,u=vx(a,s),e.next=10;break;case 9:u=vx(a,o).catch((function(e){return(c=c||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,BA(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",vx(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Ox(t),e}));case 12:return l=e.sent,e.next=15,mx._fromIdTokenResponse(a,"signIn",l);case 15:return f=e.sent,e.next=18,a._updateCurrentUser(f.user);case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fx(e,t,n){var r;return Sx(ne(e),ax.credential(t,n)).catch((function(t){return(r=r||ue(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Ox(e),n;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))}function Mx(e,t){return(_w=_w||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:createAuthUri",Ub(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ux(e,t){return(Rw=Rw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jx(e,t,n){return(Lw=Lw||ue(re().mark((function e(t,n,r){var i,a,o,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,eA(t,zA(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vx=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),zx=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(Vx),Hx=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(Vx),qx=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(zx),Gx=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return v(n)}(Vx),Qx=function(e){k(n,e);var t=A(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(zx);function Kx(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$b(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Vx(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Hx(a,i);case"github.com":return new qx(a,i);case"google.com":return new Gx(a,i);case"twitter.com":return new Qx(a,i,e.screenName||null);case"custom":case"anonymous":return new Vx(a,null);default:return new Vx(a,r,i)}}(n)}var Wx=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:h({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Yx=function(e){function t(e,n,r){d(this,t),this.session=e,this.hints=n,this.signInResolver=r}return v(t,[{key:"resolveSignIn",value:function(t){return(e=e||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromError",value:function(e,n){var r,i=DA(e),a=n.customData._serverResponse,o=(a.mfaInfo||[]).map((function(e){return Nx._fromServerResponse(i,e)}));Cb(a.mfaPendingCredential,i,"internal-error");var u=Wx._fromMfaPendingCredential(a.mfaPendingCredential);return new t(u,o,(function(e){return(r=r||ue(re().mark((function e(t){var r,o,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(i,u);case 2:r=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,o=Object.assign(Object.assign({},a),{idToken:r.idToken,refreshToken:r.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,mx._fromIdTokenResponse(i,n.operationType,o);case 11:return s=e.sent,e.next=14,i._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Cb(n.user,i,"internal-error"),e.abrupt("return",mx._forOperation(n.user,n.operationType,o));case 17:xb(i,"internal-error");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))}}]),t}();function Jx(e,t){return jb(e,"POST","/v2/accounts/mfaEnrollment:start",Ub(e,t))}function Xx(e,t){return jb(e,"POST","/v2/accounts/mfaEnrollment:start",Ub(e,t))}function Zx(e,t){return jb(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ub(e,t))}function $x(e,t){return jb(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ub(e,t))}var eI=function(e,t,n){function r(e){var t=this;d(this,r),this.user=e,this.enrolledFactors=[],e._onReload((function(n){n.mfaInfo&&(t.enrolledFactors=n.mfaInfo.map((function(t){return Nx._fromServerResponse(e.auth,t)})))}))}return v(r,[{key:"getSession",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Wx,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"enroll",value:function(e,n){return(t=t||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,eA(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"unenroll",value:function(e){return(n=n||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,eA(this.user,$x(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})))).apply(this,arguments)}}],[{key:"_fromUser",value:function(e){return new r(e)}}]),r}(),tI=new WeakMap;var nI="__sak",rI=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(nI,"1"),this.storage.removeItem(nI),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var iI=function(e,t,n,r){k(a,e);var i=A(a);function a(){var e;return d(this,a),(e=i.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=F();return yA(e)||IA(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=EA(),e._shouldAllowMigration=!0,e}return v(a,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);V()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,n){return(t=t||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(w(a.prototype),"_set",this).call(this,t,n);case 2:this.localCache[t]=JSON.stringify(n);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(w(a.prototype),"_get",this).call(this,t);case 2:return n=e.sent,this.localCache[t]=JSON.stringify(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(w(a.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),a}(rI);iI.type="LOCAL";var aI=iI,oI=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rI);oI.type="SESSION";var uI=oI;function sI(e){var t;return Promise.all(e.map((function(e){return(t=t||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)})))}var cI=function(e){function t(e){d(this,t),this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r,i,a,o,u,s,c,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t).data,a=i.eventId,o=i.eventType,u=i.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(s).map((function(e){return(n=n||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,u));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),e.next=9,sI(c);case 9:l=e.sent,r.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var n=this.receivers.find((function(t){return t.isListeningto(e)}));if(n)return n;var r=new t(e);return this.receivers.push(r),r}}]),t}();function lI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cI.receivers=[];var fI=function(e){function t(e){d(this,t),this.target=e,this.handlers=new Set}return v(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,n){return(e=e||ue(re().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=lI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function hI(){return window}function dI(e){hI().location.href=e}function pI(){return"undefined"!==typeof hI().WorkerGlobalScope&&"function"===typeof hI().importScripts}function vI(){return(Bw=Bw||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function mI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gI="firebaseLocalStorageDb",yI="firebaseLocalStorage",kI="fbase_key",wI=function(){function e(t){d(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function bI(e,t){return e.transaction([yI],t?"readwrite":"readonly").objectStore(yI)}function AI(){var e=indexedDB.deleteDatabase(gI);return new wI(e).toPromise()}function xI(){var e=indexedDB.open(gI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(yI,{keyPath:kI})}catch(r){n(r)}})),e.addEventListener("success",ue(re().mark((function n(){var r;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(yI)){n.next=12;break}return r.close(),n.next=5,AI();case 5:return n.t0=t,n.next=8,xI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function II(e,t,n){return(Fw=Fw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bI(t,!0).put((h(i={},kI,n),h(i,"value",r),i)),e.abrupt("return",new wI(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EI(e,t){return(Mw=Mw||ue(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bI(t,!1).get(n),e.next=3,new wI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SI(e,t){var n=bI(e,!0).delete(t);return new wI(n).toPromise()}var TI=function(e,t,n,r,i,a,o,u,s,c,l,f){function h(){d(this,h),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(h,[{key:"_openDb",value:function(){return(e=e||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,xI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_withRetries",value:function(e){return(t=t||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})))).apply(this,arguments)}},{key:"initializeServiceWorkerMessaging",value:function(){return(n=n||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeReceiver",value:function(){return(r=r||ue(re().mark((function e(){var t,n,r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cI._getInstance(pI()?self:null),this.receiver._subscribe("keyChanged",(function(e,n){return(t=t||ue(re().mark((function e(t,n){var i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(n.key)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.receiver._subscribe("ping",(function(e,t){return(n=n||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeSender",value:function(){return(i=i||ue(re().mark((function e(){var t,n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyServiceWorker",value:function(e){return(a=a||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&mI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})))).apply(this,arguments)}},{key:"_isAvailable",value:function(){return(o=o||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,xI();case 5:return t=e.sent,e.next=8,II(t,nI,"1");case 8:return e.next=10,SI(t,nI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}},{key:"_withPendingWrite",value:function(e){return(u=u||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})))).apply(this,arguments)}},{key:"_set",value:function(e,t){return(s=s||ue(re().mark((function e(t,n){var r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return II(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(c=c||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return EI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(l=l||ue(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return SI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_poll",value:function(){return(f=f||ue(re().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=bI(e,!1).getAll();return new wI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=m(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ue(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),h}();TI.type="LOCAL";var CI=TI;function _I(e,t){return jb(e,"POST","/v2/accounts/mfaSignIn:start",Ub(e,t))}function NI(e,t){return jb(e,"POST","/v2/accounts/mfaSignIn:finalize",Ub(e,t))}var DI=1e12,PI=function(e){function t(e){d(this,t),this.auth=e,this.counter=DI,this._widgets=new Map}return v(t,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new RI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||DI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||DI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||DI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),t}(),RI=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Cb(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var OI=OA("rcb"),LI=new Ob(3e4,6e4),BI=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hI().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Cb(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&db(hI().grecaptcha)?Promise.resolve(hI().grecaptcha):new Promise((function(r,i){var a=hI().setTimeout((function(){i(Ib(e,"network-request-failed"))}),LI.get());hI()[OI]=function(){hI().clearTimeout(a),delete hI()[OI];var o=hI().grecaptcha;if(o&&db(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ib(e,"internal-error"))},RA("".concat("https://www.google.com/recaptcha/api.js?","?").concat(J({onload:OI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ib(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hI().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var FI=function(e){function t(){d(this,t)}return v(t,[{key:"load",value:function(t){return(e=e||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new PI(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"clearedOneInstance",value:function(){}}]),t}(),MI="recaptcha",UI={theme:"light",type:"image"},jI=function(e,t,n){function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},UI);d(this,r),this.parameters=n,this.type=MI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=DA(e),this.isInvisible="invisible"===this.parameters.size,Cb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Cb(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FI:new BI,this.validateStartingState()}return v(r,[{key:"verify",value:function(){return(e=e||ue(re().mark((function e(){var t,n,r,i=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Cb(!this.parameters.sitekey,this.auth,"argument-error"),Cb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Cb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Cb(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){return(t=t||ue(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"init",value:function(){return(n=n||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cb(Pb()&&!pI(),this.auth,"internal-error"),e.next=3,VI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Qb(this.auth);case 8:Cb(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getAssertedRecaptcha",value:function(){return Cb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),r}();function VI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var zI=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=rx._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function HI(e,t,n){return(jw=jw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ne(t),e.next=3,xx(!1,i,"phone");case 3:return e.next=5,qI(i.auth,n,ne(r));case 5:return a=e.sent,e.abrupt("return",new zI(a,(function(e){return Tx(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qI(e,t,n){return(zw=zw||ue(re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Cb("string"===typeof a,t,"argument-error"),Cb(r.type===MI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Cb("enroll"===u.type,t,"internal-error"),e.next=13,Jx(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Cb("signin"===u.type,t,"internal-error"),Cb(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_I(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,tx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var GI=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=DA(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return qI(this.auth,e,ne(t))}}],[{key:"credential",value:function(e,t){return rx._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?rx._fromTokenResponse(n,r):null}}]),e}();function QI(e,t){return t?fA(t):(Cb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}GI.PROVIDER_ID="phone",GI.PHONE_SIGN_IN_METHOD="phone";var KI=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return $A(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $A(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $A(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(jA);function WI(e){return Ex(e.auth,new KI(e),e.bypassAuthState)}function YI(e){var t=e.auth,n=e.user;return Cb(n,t,"internal-error"),Ix(n,new KI(e),e.bypassAuthState)}function JI(e){return(qw=qw||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Cb(r=t.user,n,"internal-error"),e.abrupt("return",Ax(r,new KI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var XI=function(e){function t(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,t),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(t,[{key:"execute",value:function(){var e,t=this;return new Promise((function(n,r){return(e=e||ue(re().mark((function e(n,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r,i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})))).apply(this,arguments)}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:xb(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Nb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Nb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),ZI=new Ob(2e3,1e4);function $I(e,t,n){return(Gw=Gw||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DA(t),Sb(t,n,ox),a=QI(i,r),o=new tE(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eE(e,t,n){return(Kw=Kw||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sb((i=ne(t)).auth,n,ox),a=QI(i.auth,r),o=new tE(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tE=function(e,t,n){k(i,e);var r=A(i);function i(e,t,n,a,o){var u;return d(this,i),(u=r.call(this,e,t,a,o)).provider=n,u.authWindow=null,u.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=g(u),u}return v(i,[{key:"executeNotNull",value:function(){return(t=t||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Cb(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(n=n||ue(re().mark((function e(){var t,n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nb(1===this.filter.length,"Popup operations only handle one event"),t=lI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ib(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ib(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ib(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ZI.get())}()}}]),i}(XI);tE.currentPopupAction=null;var nE="pendingRedirect",rE=new Map,iE=function(e,t,n,r){k(a,e);var i=A(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,a),(n=i.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r)).eventId=null,n}return v(a,[{key:"execute",value:function(){return(t=t||ue(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rE.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,aE(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ft(w(a.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:n=e.t0,t=function(){return Promise.resolve(n)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rE.set(this.auth._key(),t);case 21:return this.bypassAuthState||rE.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})))).apply(this,arguments)}},{key:"onAuthEvent",value:function(e){return(n=n||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ft(w(a.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return this.user=n,e.abrupt("return",Ft(w(a.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(r=r||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"cleanUp",value:function(){}}]),a}(XI);function aE(e,t){return(Ww=Ww||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cE(n),i=sE(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oE(e,t){return(Yw=Yw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sE(t)._set(cE(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uE(e,t){rE.set(e._key(),t)}function sE(e){return fA(e._redirectPersistence)}function cE(e){return pA(nE,e.config.apiKey,e.name)}function lE(e,t,n){return function(e,t,n){return(Jw=Jw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DA(t),Sb(t,n,ox),e.next=4,i._initializationPromise;case 4:return a=QI(i,r),e.next=7,oE(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function fE(e,t,n){return function(e,t,n){return(Xw=Xw||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sb((i=ne(t)).auth,n,ox),e.next=4,i.auth._initializationPromise;case 4:return a=QI(i.auth,r),e.next=7,oE(a,i.auth);case 7:return e.next=9,vE(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function hE(e,t,n){return function(e,t,n){return(Zw=Zw||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sb((i=ne(t)).auth,n,ox),e.next=4,i.auth._initializationPromise;case 4:return a=QI(i.auth,r),e.next=7,xx(!1,i,n.providerId);case 7:return e.next=9,oE(a,i.auth);case 9:return e.next=11,vE(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function dE(e,t){return($w=$w||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DA(t)._initializationPromise;case 2:return e.abrupt("return",pE(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pE(e,t){return(eb=eb||ue(re().mark((function e(t,n){var r,i,a,o,u,s=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=DA(t),a=QI(i,n),o=new iE(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vE(e){return(tb=tb||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mE=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!yE(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ib(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function gE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function yE(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function kE(e){return(nb=nb||ue(re().mark((function e(t){var n,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",jb(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bE=/^https?/;function AE(e){var t=Db(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!bE.test(r))return!1;if(wE.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xE=new Ob(3e4,6e4);function IE(){var e=hI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ae(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var EE=null;function SE(e){return EE=EE||function(e){return new Promise((function(t,n){var r,i,a;function o(){IE(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){IE(),n(Ib(e,"network-request-failed"))},timeout:xE.get()})}if(null===(i=null===(r=hI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hI().gapi)||void 0===a?void 0:a.load)){var u=OA("iframefcb");return hI()[u]=function(){gapi.load?o():n(Ib(e,"network-request-failed"))},RA("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw EE=null,e}))}(e),EE}var TE=new Ob(5e3,15e3),CE="__/auth/iframe",_E="emulator/auth/iframe",NE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PE(e){var t=e.config;Cb(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Lb(t,_E):"https://".concat(e.config.authDomain,"/").concat(CE),r={apiKey:t.apiKey,appName:e.name,v:ut},i=DE.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(J(r).slice(1))}function RE(e){return(ib=ib||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SE(t);case 2:return n=e.sent,Cb(r=hI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:PE(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NE,dontclear:!0},(function(e){var n;return new Promise((function(r,i){return(n=n||ue(re().mark((function n(r,i){var a,o,u;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){hI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ib(t,"network-request-failed"),o=hI().setTimeout((function(){i(a)}),TE.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LE=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function BE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},OE),{width:r.toString(),height:i.toString(),top:a,left:o}),l=F().toLowerCase();n&&(u=kA(l)?"_blank":n),gA(l)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return IA(arguments.length>0&&void 0!==arguments[0]?arguments[0]:F())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new LE(null);var h=window.open(t||"",u,f);Cb(h,e,"popup-blocked");try{h.focus()}catch(d){}return new LE(h)}var FE="__/auth/handler",ME="emulator/auth/handler",UE=encodeURIComponent("fac");function jE(e,t,n,r,i,a){return(ab=ab||ue(re().mark((function e(t,n,r,i,a,o){var u,s,l,f,h,d,p,v,m,g,y,k,w;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cb(t.config.authDomain,t,"auth-domain-config-required"),Cb(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ut,eventId:a},n instanceof ox)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",K(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)f=c(l[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof ux&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,w=k?"#".concat(UE,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(VE(t),"?").concat(J(v).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VE(e){var t=e.config;return t.emulator?Lb(t,ME):"https://".concat(t.authDomain,"/").concat(FE)}var zE="webStorageSupport",HE=function(e,t,n){function r(){d(this,r),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=pE,this._overrideRedirectResult=uE}return v(r,[{key:"_openPopup",value:function(t,n,r,i){return(e=e||ue(re().mark((function e(t,n,r,i){var a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nb(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,jE(t,n,r,Db(),i);case 3:return o=e.sent,e.abrupt("return",BE(t,o,lI()));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||ue(re().mark((function e(t,n,r,i){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,jE(t,n,r,Db(),i);case 4:return dI(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Nb(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(e){return(n=n||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RE(t);case 2:return n=e.sent,r=new mE(t),n.register("authEvent",(function(e){return Cb(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zE,{type:zE},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[zE];void 0!==i&&t(!!i),xb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(rb=rb||ue(re().mark((function e(t){var n,r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kE(t);case 4:n=e.sent,r=n.authorizedDomains,i=m(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!AE(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:xb(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return EA()||yA()||IA()}}]),r}(),qE=HE,GE=function(){function e(t){d(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _b("unexpected MultiFactorSessionType")}}}]),e}(),QE=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return jb(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ub(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return jb(e,"POST","/v2/accounts/mfaSignIn:finalize",Ub(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(GE),KE=function(){function e(){d(this,e)}return v(e,null,[{key:"assertion",value:function(e){return QE._fromCredential(e)}}]),e}();KE.FACTOR_ID="phone";var WE=function(e){function t(){d(this,t)}return v(t,null,[{key:"assertionForEnrollment",value:function(e,t){return YE._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return YE._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cb("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Xx(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",JE._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();WE.FACTOR_ID="totp";var YE=function(e,t,n){k(i,e);var r=A(i);function i(e,t,n){var a;return d(this,i),(a=r.call(this,"totp")).otp=e,a.enrollmentId=t,a.secret=n,a}return v(i,[{key:"_finalizeEnroll",value:function(e,n,r){return(t=t||ue(re().mark((function e(t,n,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cb("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Zx(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_finalizeSignIn",value:function(e,t){return(n=n||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cb(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",NI(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromSecret",value:function(e,t){return new i(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new i(t,e)}}]),i}(GE),JE=function(){function e(t,n,r,i,a,o,u){d(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return v(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(XE(e)||XE(t))&&(r=!0),r&&(XE(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),XE(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function XE(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ZE="@firebase/auth",$E="1.3.0",eS=function(e){function t(e){d(this,t),this.auth=e,this.internalListeners=new Map}return v(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){return(e=e||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Cb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();var tS,nS,rS,iS,aS,oS,uS=L("authIdTokenMaxAge")||300,sS=null,cS=function(e){var t;return function(n){return(t=t||ue(re().mark((function t(n){var r,i,a;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>uS)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,sS!==a){t.next=12;break}return t.abrupt("return");case 12:return sS=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}};function lS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct(),t=tt(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=tt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(W(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;xb(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:qE,persistence:[CI,aI,uI]}),r=L("authTokenSyncURL");if(r){var i=cS(r);!function(e,t,n){ne(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){ne(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=R("auth");return a&&FA(n,"http://".concat(a)),n}function fS(){return window}tS="Browser",et(new se("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Cb(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:tS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(tS)},l=new NA(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fA);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),et(new se("auth-internal",(function(e){return function(e){return new eS(e)}(DA(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ht(ZE,$E,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(tS)),ht(ZE,$E,"esm2017");function hS(e,t,n){return(nS=nS||ue(re().mark((function e(t,n,r){var i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fS(),o=a.BuildInfo,Nb(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,mS(n.sessionId);case 4:return u=e.sent,s={},IA()?s.ibi=o.packageName:bA()?s.apn=o.packageName:xb(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",jE(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dS(e){var t=fS().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function pS(e,t,n){return(iS=iS||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fS(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ib(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),bA()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function vS(e){var t,n,r,i,a,o,u,s,c,l,f=fS();Cb("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Cb("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Cb("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Cb("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Cb("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mS(e){return(aS=aS||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gS(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gS(e){if(Nb(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var yS=20,kS=function(e,t){k(r,e);var n=A(r);function r(){var e;return d(this,r),(e=n.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(r,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ft(w(r.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){return(t=t||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),r}(mE);function wS(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:IS(),postBody:null,tenantId:e.tenantId,error:Ib(e,"no-auth-event")}}function bS(e,t){return ES()._set(SS(e),t)}function AS(e){return(oS=oS||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ES()._get(SS(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ES()._remove(SS(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xS(e,t){var n,r,i=function(e){var t=TS(e),n=t.link?decodeURIComponent(t.link):void 0,r=TS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return TS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=TS(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ib(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function IS(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<yS;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function ES(){return fA(aI)}function SS(e){return pA("authEvent",e.config.apiKey,e.name)}function TS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Ck(e.split("?"));t[0];return X(t.slice(1).join("?"))}var CS,_S,NS,DS=function(e,t){function n(){d(this,n),this._redirectPersistence=uI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pE,this._overrideRedirectResult=uE}return v(n,[{key:"_initialize",value:function(t){return(e=e||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new kS(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openPopup",value:function(e){xb(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||ue(re().mark((function e(t,n,r,i){var a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vS(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),rE.clear(),e.next=10,this._originValidation(t);case 10:return o=wS(t,r,i),e.next=13,bS(t,o);case 13:return e.next=15,hS(t,o,n);case 15:return u=e.sent,e.next=18,dS(u);case 18:return s=e.sent,e.abrupt("return",pS(t,a,s));case 20:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(rS=rS||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fS(),r=n.BuildInfo,i={},IA()?i.iosBundleId=r.packageName:bA()?i.androidPackageName=r.packageName:xb(t,"operation-not-supported-in-this-environment"),e.next=5,kE(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n,r,i=fS(),a=i.universalLinks,o=i.handleOpenURL,u=i.BuildInfo,s=setTimeout(ue(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,AS(e);case 2:t.onEvent(RS());case 3:case"end":return n.stop()}}),n)}))),500),c=function(r){return(n=n||ue(re().mark((function n(r){var i,a;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(s),n.next=3,AS(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=xS(i,r.url)),t.onEvent(a||RS());case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)};"undefined"!==typeof a&&"function"===typeof a.subscribe&&a.subscribe(null,c);var l=o,f="".concat(u.packageName.toLowerCase(),"://");fS().handleOpenURL=function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]),n}(),PS=DS;function RS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ib("no-auth-event")}}function OS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function LS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return!("file:"!==OS()&&"ionic:"!==OS()&&"capacitor:"!==OS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function BS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return V()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return/Edge\/\d+/.test(e)}(e)}function FS(){try{var e=self.localStorage,t=lI();if(e)return e.setItem(t,"1"),e.removeItem(t),!BS()||z()}catch(n){return MS()&&z()}return!1}function MS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function US(){return("http:"===OS()||"https:"===OS()||U()||LS())&&!(j()||M())&&FS()&&!MS()}function jS(){return LS()&&"undefined"!==typeof document}function VS(){return(CS=CS||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zS={LOCAL:"local",NONE:"none",SESSION:"session"},HS=Cb,qS="persistence";function GS(e,t){HS(Object.values(zS).includes(t),e,"invalid-persistence-type"),j()?HS(t!==zS.SESSION,e,"unsupported-persistence-type"):M()?HS(t===zS.NONE,e,"unsupported-persistence-type"):MS()?HS(t===zS.NONE||t===zS.LOCAL&&z(),e,"unsupported-persistence-type"):HS(t===zS.NONE||FS(),e,"unsupported-persistence-type")}function QS(e){return(_S=_S||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=KS(),r=pA(qS,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var WS=Cb,YS=function(e,t,n,r){function i(){d(this,i),this.browserResolver=fA(qE),this.cordovaResolver=fA(PS),this.underlyingResolver=null,this._redirectPersistence=uI,this._completeRedirectFn=pE,this._overrideRedirectResult=uE}return v(i,[{key:"_initialize",value:function(t){return(e=e||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openPopup",value:function(e,n,r,i){return(t=t||ue(re().mark((function e(t,n,r,i){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,t,r,i){return(n=n||ue(re().mark((function e(t,n,r,i){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return jS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return WS(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){return(r=r||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,VS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function JS(e){return e.unwrap()}function XS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new tT(e,function(e,t){var n,r=ne(e),i=t;return Cb(t.customData.operationType,r,"argument-error"),Cb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Yx._fromError(r,i)}(e,t));else if(r){var i=ZS(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ZS(e){var t=(e instanceof H?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof H)&&"temporaryProof"in t&&"phoneNumber"in t)return GI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ob.PASSWORD)return null;switch(r){case ob.GOOGLE:n=lx;break;case ob.FACEBOOK:n=cx;break;case ob.GITHUB:n=fx;break;case ob.TWITTER:n=px;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?hx._create(r,u):ex._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new sx(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof H?n.credentialFromError(e):n.credentialFromResult(e)}function $S(e,t){return t.catch((function(t){throw t instanceof H&&XS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ZS(t)),additionalUserInfo:Kx(e),user:nT.getOrCreate(r)}}))}function eT(e,t){return(NS=NS||ue(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return $S(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tT=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return $S(JS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),nT=function(e,t,n,r,i,a,o){function u(e){d(this,u),this._delegate=e,this.multiFactor=function(e){var t=ne(e);return tI.has(t)||tI.set(t,eI._fromUser(t)),tI.get(t)}(e)}return v(u,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(t){return(e=e||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$S(this.auth,Tx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithPhoneNumber",value:function(e,n){return(t=t||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eT(this.auth,HI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithPopup",value:function(e){return(n=n||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$S(this.auth,eE(this._delegate,t,YS)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithRedirect",value:function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QS(DA(this.auth));case 2:return e.abrupt("return",hE(this._delegate,t,YS));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(e){return(i=i||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$S(this.auth,Cx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return eT(this.auth,function(e,t,n){return(Vw=Vw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ne(t),e.next=3,qI(i.auth,n,ne(r));case 3:return a=e.sent,e.abrupt("return",new zI(a,(function(e){return Cx(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return $S(this.auth,function(e,t,n){return(Qw=Qw||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sb((i=ne(t)).auth,n,ox),a=QI(i.auth,r),o=new tE(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,YS))}},{key:"reauthenticateWithRedirect",value:function(e){return(a=a||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QS(DA(this.auth));case 2:return e.abrupt("return",fE(this._delegate,t,YS));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"sendEmailVerification",value:function(e){return function(e,t){return(Dw=Dw||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Rx(r.auth,a,n),e.next=8,QA(r.auth,a);case 8:if(e.sent.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(e){return(o=o||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bx(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateEmail",value:function(e){return function(e,t){return jx(ne(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return jx(ne(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return(Hw=Hw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(ne(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return(Ow=Ow||ue(re().mark((function e(t,n){var r,i,a,o,u,s,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ne(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,eA(a,Ux(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return(Pw=Pw||ue(re().mark((function e(t,n,r){var i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ne(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Rx(i.auth,o,r),e.next=8,YA(i.auth,o);case 8:if(e.sent.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(e){return u.USER_MAP.has(e)||u.USER_MAP.set(e,new u(e)),u.USER_MAP.get(e)}}]),u}();nT.USER_MAP=new WeakMap;var rT=Cb,iT=function(e,t,n,r,i){function a(e,t){if(d(this,a),this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();var n=e.options.apiKey;rT(n,"invalid-api-key",{appName:e.name}),rT(n,"invalid-api-key",{appName:e.name});var r="undefined"!==typeof window?YS:void 0;this._delegate=t.initialize({options:{persistence:oT(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(gb),this.linkUnderlyingAuth()}return v(a,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?nT.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){FA(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return(xw=xw||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HA(ne(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Lx(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return(Aw=Aw||ue(re().mark((function e(t,n,r){var i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VA(ne(t),{oobCode:n,newPassword:r}).catch((function(e){return(i=i||ue(re().mark((function e(n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Ox(t),n;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(t,n){return(e=e||ue(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$S(this._delegate,Bx(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return(Nw=Nw||ue(re().mark((function e(t,n){var r,i,a,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb()?Db():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Mx(ne(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ix.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){return(t=t||ue(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rT(US(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dE(this._delegate,YS);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",$S(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addFrameworkForLogging",value:function(e){!function(e,t){DA(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=aT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=aT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return(Tw=Tw||ue(re().mark((function e(t,n,r){var i,a,o,u,s,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Cb(t.handleCodeInApp,a,"argument-error"),t&&Rx(a,e,t)},a=DA(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,BA(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,WA(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,WA(a,o).catch((function(e){return(c=c||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,BA(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,WA(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return(bw=bw||ue(re().mark((function e(t,n,r){var i,a,o,u,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=DA(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,BA(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&Rx(a,u,r),e.next=9,KA(a,u);case 9:e.next=14;break;case 11:return r&&Rx(a,o,r),e.next=14,KA(a,o).catch((function(e){return(s=s||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,BA(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Rx(a,n,r),e.next=8,KA(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(e){return(n=n||ue(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GS(this._delegate,t),e.t0=t,e.next=e.t0===zS.SESSION?4:e.t0===zS.LOCAL?6:e.t0===zS.NONE?11:13;break;case 4:return n=uI,e.abrupt("break",14);case 6:return e.next=8,fA(CI)._isAvailable();case 8:return r=e.sent,n=r?CI:aI,e.abrupt("break",14);case 11:return n=dA,e.abrupt("break",14);case 13:return e.abrupt("return",xb("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return $S(this._delegate,function(e){return(cw=cw||ue(re().mark((function e(t){var n,r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DA(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new mx({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,vx(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,mx._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return $S(this._delegate,Sx(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return $S(this._delegate,function(e,t){return(kw=kw||ue(re().mark((function e(t,n){var r,i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DA(t),e.next=3,_x(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,mx._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return $S(this._delegate,Fx(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return $S(this._delegate,function(e,t,n){return(Cw=Cw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ne(t),Cb((a=ax.credentialWithLink(n,r||Db()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Sx(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return eT(this._delegate,function(e,t,n){return(Uw=Uw||ue(re().mark((function e(t,n,r){var i,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DA(t),e.next=3,qI(i,n,ne(r));case 3:return a=e.sent,e.abrupt("return",new zI(a,(function(e){return Sx(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(e){return(r=r||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rT(US(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",$S(this._delegate,$I(this._delegate,t,YS)));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signInWithRedirect",value:function(e){return(i=i||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rT(US(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,QS(this._delegate);case 3:return e.abrupt("return",lE(this._delegate,t,YS));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return(Ew=Ew||ue(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lx(ne(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),a}();function aT(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&nT.getOrCreate(e))},error:t,complete:n}}function oT(e,t){var n=function(e,t){var n=KS();if(!n)return[];var r=pA(qS,e,t);switch(n.getItem(r)){case zS.NONE:return[dA];case zS.LOCAL:return[CI,uI];case zS.SESSION:return[uI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(CI)||n.push(CI),"undefined"!==typeof window)for(var r=0,i=[aI,uI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(dA)||n.push(dA),n}iT.Persistence=zS;var uT=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new GI(JS(Bt.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return GI.credential(e,t)}}]),e}();uT.PHONE_SIGN_IN_METHOD=GI.PHONE_SIGN_IN_METHOD,uT.PROVIDER_ID=GI.PROVIDER_ID;var sT=Cb,cT=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt.app();d(this,e),sT(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new jI(i.auth(),t,n),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new se("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new iT(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ub,PASSWORD_RESET:sb,RECOVER_EMAIL:cb,REVERT_SECOND_FACTOR_ADDITION:lb,VERIFY_AND_CHANGE_EMAIL:fb,VERIFY_EMAIL:hb}},EmailAuthProvider:ax,FacebookAuthProvider:cx,GithubAuthProvider:fx,GoogleAuthProvider:lx,OAuthProvider:sx,SAMLAuthProvider:dx,PhoneAuthProvider:uT,PhoneMultiFactorGenerator:KE,RecaptchaVerifier:cT,TwitterAuthProvider:px,Auth:iT,AuthCredential:jA,Error:H}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.6")}(Bt);var lT=function(){return lT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lT.apply(this,arguments)},fT=function(e){return{loading:void 0===e||null===e,value:e}},hT=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return lT(lT({},e),{error:t.error,loading:!1,value:void 0});case"reset":return fT(t.defaultValue);case"value":return lT(lT({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),fT(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},dT=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},pT=function(e,t){var n=!e&&!t,r=!!e&&!!t&&gg(e,t);return n||r},vT=function(e,t){return dT(e,pT,t)},mT=function(e,n){var r=function(e,n){var r=hT(),i=r.error,a=r.loading,o=r.reset,u=r.setError,s=r.setValue,c=r.value,l=vT(e,o);return(0,t.useEffect)((function(){if(l.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?Gy(l.current,n.snapshotListenOptions,s,u):Gy(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]),[c,a,i]}(e,n),i=r[0],a=r[1],o=r[2];return[gT(i,null===n||void 0===n?void 0:n.snapshotOptions,null===n||void 0===n?void 0:n.initialValue),a,o,i]},gT=function(e,n,r){return(0,t.useMemo)((function(){var t;return null!==(t=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)})))&&void 0!==t?t:r}),[e,n])},yT=n(184);Bt.initializeApp({apiKey:"AIzaSyC8uBfhDOx-bsQ3hnjb4tsmaaT7jCpkrjc",authDomain:"linkmap-d3486.firebaseapp.com",projectId:"linkmap-d3486",storageBucket:"linkmap-d3486.appspot.com",messagingSenderId:"953472080061",appId:"1:953472080061:web:5edb32309e438aeb4affd4",measurementId:"G-2975V448LB"});Bt.auth(),Bt.firestore();var kT,wT="data:image/png;base64,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",bT="data:image/png;base64,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";function AT(){return AT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AT.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(kT||(kT={}));var xT,IT="popstate";function ET(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ST(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function TT(e,t){return{usr:e.state,key:e.key,idx:t}}function CT(e,t,n,r){return void 0===n&&(n=null),AT({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?NT(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function _T(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function NT(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DT(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=kT.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=kT.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:_T(e);return ET(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(AT({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(IT,p),f=e,function(){o.removeEventListener(IT,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=kT.Push;var r=CT(m.location,e,t);n&&n(r,e);var i=TT(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=kT.Replace;var r=CT(m.location,e,t);n&&n(r,e);var i=TT(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(xT||(xT={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function PT(e,t,n){void 0===n&&(n="/");var r=QT(("string"===typeof t?NT(t):t).pathname||"/",n);if(null==r)return null;var i=RT(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=HT(i[o],GT(r));return a}function RT(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ET(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=JT([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(ET(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),RT(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:zT(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=m(OT(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function OT(e){var t=e.split("/");if(0===t.length)return[];var n=Ck(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=OT(i.join("/")),s=[];return s.push.apply(s,ae(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,ae(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var LT=/^:\w+$/,BT=3,FT=2,MT=1,UT=10,jT=-2,VT=function(e){return"*"===e};function zT(e,t){var n=e.split("/"),r=n.length;return n.some(VT)&&(r+=jT),t&&(r+=FT),n.filter((function(e){return!VT(e)})).reduce((function(e,t){return e+(LT.test(t)?BT:""===t?MT:UT)}),r)}function HT(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=qT({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:JT([i,l.pathname]),pathnameBase:XT(JT([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=JT([i,l.pathnameBase]))}return a}function qT(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ST("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ST(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function GT(e){try{return decodeURI(e)}catch(t){return ST(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function QT(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function KT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function WT(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function YT(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=NT(e):(ET(!(i=AT({},e)).pathname||!i.pathname.includes("?"),KT("?","pathname","search",i)),ET(!i.pathname||!i.pathname.includes("#"),KT("#","pathname","hash",i)),ET(!i.search||!i.search.includes("#"),KT("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?NT(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ZT(a),hash:$T(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var JT=function(e){return e.join("/").replace(/\/\/+/g,"/")},XT=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ZT=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},$T=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},eC=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(I(Error));function tC(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var nC=["post","put","patch","delete"],rC=(new Set(nC),["get"].concat(nC));new Set(rC),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iC.apply(this,arguments)}var aC=t.createContext(null);var oC=t.createContext(null);var uC=t.createContext(null);var sC=t.createContext(null);var cC=t.createContext(null);var lC=t.createContext({outlet:null,matches:[],isDataRoute:!1});var fC=t.createContext(null);function hC(){return null!=t.useContext(cC)}function dC(){return hC()||ET(!1),t.useContext(cC).location}function pC(e){t.useContext(sC).static||t.useLayoutEffect(e)}function vC(){return t.useContext(lC).isDataRoute?function(){var e=EC(xC.UseNavigateStable).router,n=TC(IC.UseNavigateStable),r=t.useRef(!1);pC((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,iC({fromRouteId:n},i)))}),[e,n]);return i}():function(){hC()||ET(!1);var e=t.useContext(aC),n=t.useContext(sC),r=n.basename,i=n.navigator,a=t.useContext(lC).matches,o=dC().pathname,u=JSON.stringify(WT(a).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return pC((function(){s.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var a=YT(t,JSON.parse(u),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:JT([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,u,o,e])}()}function mC(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(lC).matches,a=dC().pathname,o=JSON.stringify(WT(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return YT(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function gC(e,n,r){hC()||ET(!1);var i,a=t.useContext(sC).navigator,o=t.useContext(lC).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,dC());if(n){var f,h="string"===typeof n?NT(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||ET(!1),i=h}else i=l;var d=i.pathname||"/",p=PT(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=AC(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:JT([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:JT([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(cC.Provider,{value:{location:iC({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:kT.Pop}},v):v}function yC(){var e=function(){var e,n=t.useContext(fC),r=SC(IC.UseRouteError),i=TC(IC.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=tC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var kC=t.createElement(yC,null),wC=function(e){k(r,e);var n=A(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return v(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(lC.Provider,{value:this.props.routeContext},t.createElement(fC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function bC(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(aC);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(lC.Provider,{value:n},i)}function AC(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||ET(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||kC);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(bC,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(wC,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var xC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xC||{}),IC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(IC||{});function EC(e){var n=t.useContext(aC);return n||ET(!1),n}function SC(e){var n=t.useContext(oC);return n||ET(!1),n}function TC(e){var n=function(e){var n=t.useContext(lC);return n||ET(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ET(!1),r.route.id}r.startTransition;function CC(e){ET(!1)}function _C(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?kT.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;hC()&&ET(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=NT(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,k=p.hash,w=void 0===k?"":k,b=p.state,A=void 0===b?null:b,x=p.key,I=void 0===x?"default":x,E=t.useMemo((function(){var e=QT(m,h);return null==e?null:{location:{pathname:e,search:y,hash:w,state:A,key:I},navigationType:s}}),[h,m,y,w,A,I,s]);return null==E?null:t.createElement(sC.Provider,{value:d},t.createElement(cC.Provider,{children:a,value:E}))}function NC(e){var t=e.children,n=e.location;return gC(RC(t),n)}var DC=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(DC||{}),PC=new Promise((function(){}));t.Component;function RC(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(ae(n),[i]);if(e.type!==t.Fragment){e.type!==CC&&ET(!1),e.props.index&&e.props.children&&ET(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=RC(e.props.children,a)),r.push(o)}else r.push.apply(r,RC(e.props.children,a))}})),r}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}function LC(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var BC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var FC=r.startTransition;function MC(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),DT((function(e,t){var n=e.location;return CT("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:_T(t)}),null,n)));var s=u.current,l=c(t.useState({action:s.action,location:s.location}),2),f=l[0],h=l[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&FC?FC((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return s.listen(p)}),[s,p]),t.createElement(_C,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:s})}var UC="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,jC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VC=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=LC(e,BC),d=t.useContext(sC).basename,p=!1;if("string"===typeof l&&jC.test(l)&&(r=l,UC))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=QT(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(w){}var y=function(e,n){var r=(void 0===n?{}:n).relative;hC()||ET(!1);var i=t.useContext(sC),a=i.basename,o=i.navigator,u=mC(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:JT([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=vC(),l=dC(),f=mC(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:_T(l)===_T(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",OC({},h,{href:r||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var zC,HC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(zC||(zC={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(HC||(HC={}));function qC(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function GC(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var QC=function(){return QC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},QC.apply(this,arguments)},KC=function(e){return{loading:void 0===e||null===e,value:e}},WC=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return QC(QC({},e),{error:t.error,loading:!1,value:void 0});case"reset":return KC(t.defaultValue);case"value":return QC(QC({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),KC(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},YC=function(e,n){var r=WC((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,u=r.setValue,s=r.value;return(0,t.useEffect)((function(){var t=function(e,t,n,r){return ne(e).onAuthStateChanged(t,n,r)}(e,(function(e){return qC(void 0,void 0,void 0,(function(){var t;return GC(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){t()}}),[e]),[s,a,i]},JC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB8QAAAfEBnrltZwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAS7SURBVHiczZtNaBxlGMd/z7uJSDbZqj2kiCJ6sBXBg/kS42GTWLXWYhVEsSiIHizWgwU9eBFPHoo9+Ik38YtejLUXlWaTFExtsgl4lEI9qIitUttkJ2KTnceDO22abJKdmWc+/rfMzvu87++3M+z7zjsRmmR+qHd7QdxLKjoIUgT5GdEjxeWOL2RycrlZm7xEy+U2r7C4D+RJ0NtAPVGZqgvvlSozp1efL6sPeMP9L6rwDtC+pjicEmRvZ2X6bELjj5XayEA3ol+jDDT5eEng5WJl5qOVB68SULu//xWUw5v0c1pc+1Dx+NTvcQdsmdrIQDdoBbhz4zPl9c7K9FuX/7pSoP8g8HaL/eVKQuvwQa5IEICF4f4DIrwbqleVn/D9oc7J6h/hhmubWrlvG85NILojTDtFDnRVpt8Xb/ieu1X8GaAQuveMJUSFb2RZ1A04FX2NKPAAojtwbqJW7tsWqX2MxIQHaFOpv+pAh2KNJAMJBvCNSNkB18UeUYoS7OABuN4J/GpQKBUJxvAAvzhFjhoVS1RCAvCAHHPAIeCcXU17CcnAcw445Dor02cd7AUWzEobSkgCXqDmqz7WYIeOyswPvupDWEsoyAlv5+CNUUvURga6KciY8Tfv+eL2lMarJ2HVWmB+uO9eJ/It0GXYYaRpc/jpbUvxVNwjXWOnJoMDa1aDeZCQFjw0EQDZSkgTHtYRANlISBseNhAA6UrIAh42EQDpSMgKHloQAMlKUH+5nhU8tCgAkpEgcEZhGdhuVZMQ8I0xtJ6ErgTLhIKHkAIg1xJCw0MEAZBLCZHgIaIAyJWEyPAQQwDkQkIseIgpADKVEBseDARAJhJM4MFIAKQqwQweDAVAKhJM4cFYAPwvoSDynUKncelFFbfbEh7AWRYDcOLOqPCndV3gvJPCmv39uDEVcHlVp9xqWbeRm9RfmojzjLFZzG6BhJa0zWK6NW8iIEX4IGYSYgvIAD6IiYRYAjKEDxJbQmQBOYAPEktCJAE5gg8SWUJoATmEDxJJQigBOYYPElpCyxOhZODlHxEW7epxe9jJUksCkntuLw/Xfd2J5a50SAmb3gJpbFpkuRe5oYA0d2yykrCugCy2q7KQ0FRAlnt1aUtYIyBL+CBpSrj6dfkcwAdJS8KK1+UTgne6u+t49USUxmlIEEjsPbwF3/d3lSZmp+IUmR/qHXTOfYOlhBVvuYuWy9d6bYvfo/SYdWAEHyQRCTBbvOb8fc5rW9yfZ3iA0sTslO/7u7CdMfZ6/27d71CeMSxqDh8kEQmi+xxgdd8nBh8kAQl3OOCSQaHE4YOYShAuOZTZmGU8dbonDfggpYnZKaN3m6tOnX4Qo8CC7/sPRv2dj5PSePVk3CtBlA9d11h1FOHTCO1Tu+zXS8zb4ZNiZeaoAyj+XX9e4asQjVO/7NdLlNtBVEaLF+ovQOOJkMzNLXXecMsToEdaaB9reptESuPVk61KEJXRjovLT8nc3BKsWgxpT0+7t6XwMcLT67T/y1d9NPhng7ylsXY4Bmxd55TPixfqzwXw0GQ5rCDeSP+zwEHgrsbhi8CXri5vdExO/2Y9cMssPtB3s+/zJiqPA1sah39E5XBxfPozAV15/n/A7xrE0UXtTwAAAABJRU5ErkJggg==",XC="data:image/png;base64,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",ZC="data:image/png;base64,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",$C="data:image/png;base64,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",e_="data:image/png;base64,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",t_="data:image/png;base64,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",n_="data:image/png;base64,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",r_="data:image/png;base64,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",i_="data:image/png;base64,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",a_="data:image/png;base64,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",o_="data:image/png;base64,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",u_="data:image/png;base64,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",s_="data:image/png;base64,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",c_="data:image/png;base64,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";Bt.initializeApp({apiKey:"AIzaSyC8uBfhDOx-bsQ3hnjb4tsmaaT7jCpkrjc",authDomain:"linkmap-d3486.firebaseapp.com",projectId:"linkmap-d3486",storageBucket:"linkmap-d3486.appspot.com",messagingSenderId:"953472080061",appId:"1:953472080061:web:5edb32309e438aeb4affd4",measurementId:"G-2975V448LB"});var l_=Bt.auth(),f_=Bt.firestore();function h_(e){e.signoo;var t=c(YC(l_),1)[0];return(0,yT.jsx)(yT.Fragment,{children:t?(0,yT.jsx)(p_,{}):(0,yT.jsx)(d_,{})})}function d_(){return(0,yT.jsx)("div",{className:"AuthScreen",children:(0,yT.jsxs)("div",{className:"AuthBox",children:[(0,yT.jsxs)("div",{className:"welcome-content",children:[(0,yT.jsx)("img",{className:"icon",src:wT,alt:"LinkMap Logo"}),(0,yT.jsx)("h2",{className:"welcome",children:"Welcome to the LinkMap,"}),(0,yT.jsx)("p",{className:"sub-search",children:"Sign Up or Sign In to continue...."})]}),(0,yT.jsxs)("div",{className:"home-buttons",children:[(0,yT.jsx)(VC,{to:"/signup",children:(0,yT.jsx)("button",{className:"home-button",children:"Sign Up"})}),(0,yT.jsx)(VC,{to:"/signin",children:(0,yT.jsx)("button",{className:"home-button",children:"Sign In"})})]})]})})}function p_(){var e,n,r=vC(),i=c((0,t.useState)(""),2),a=i[0],o=i[1],u=c((0,t.useState)(!1),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],g=c((0,t.useState)(null),2),y=g[0],k=g[1],w=f_.collection("users"),b=c(mT(w),1)[0],A=c((0,t.useState)(!1),2),x=A[0],I=A[1],E=f_.collection("users").doc(null===(e=l_.currentUser)||void 0===e?void 0:e.uid).collection("links").orderBy("createdAt","desc"),S=c(mT(E),1)[0],T=function(){o(""),m(""),I(!1),d(""),document.getElementById("usernameBlock").style.display="flex"};return(0,yT.jsxs)(yT.Fragment,{children:[(0,yT.jsx)("div",{id:"usernameBlock",className:"username-block",children:(0,yT.jsxs)("form",{className:"username",onSubmit:function(e){return(n=n||ue(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!x){e.next=4;break}return alert("Cannot add link due to error. Please fix them first"),e.abrupt("return");case 4:return n=f_.collection("users").doc(l_.currentUser.uid).collection("links"),r=n.doc().id,i="",i=s?h:a,e.prev=8,document.getElementById("usernameBlock").style.display="none",e.next=12,n.doc(r).set({name:i,url:v,lid:r,image:y,createdAt:Bt.firestore.FieldValue.serverTimestamp()});case 12:l(!1),o(""),d(""),m(""),i="",I(!1),document.getElementById("usernameBlock").style.display="none",e.next=23;break;case 21:e.prev=21,e.t0=e.catch(8);case 23:case"end":return e.stop()}}),e,null,[[8,21]])})))).apply(this,arguments)},children:[(0,yT.jsxs)("div",{className:"add-link-head",children:[(0,yT.jsx)("h2",{className:"your-links",children:"Add link"}),(0,yT.jsx)("img",{className:"close-box",onClick:function(){o(""),m(""),I(!1),d(""),document.getElementById("usernameBlock").style.display="none"},src:JC,alt:"Close"})]}),(0,yT.jsxs)("select",{value:a,onChange:function(e){var t=e.target.value;l("Other"==t),o(t);var n="";switch(t){case"Facebook":n=$C;break;case"Twitter":n=c_;break;case"Behance":n=XC;break;case"Discord":n=ZC;break;case"GitHub":n=e_;break;case"Instagram":n=t_;break;case"LinkedIn":n=n_;break;case"Pinterest":n=r_;break;case"Snapchat":n=i_;break;case"Spotify":n=a_;break;case"Telegram":n=o_;break;case"WhatsApp":n=u_;break;default:n=s_}k(n)},className:"title-select",required:!0,children:[(0,yT.jsx)("option",{value:"",children:"Select..."}),(0,yT.jsx)("option",{value:"GitHub",children:"GitHub"}),(0,yT.jsx)("option",{value:"Instagram",children:"Instagram"}),(0,yT.jsx)("option",{value:"LinkedIn",children:"LinkedIn"}),(0,yT.jsx)("option",{value:"Discord",children:"Discord"}),(0,yT.jsx)("option",{value:"Facebook",children:"Facebook"}),(0,yT.jsx)("option",{value:"Snapchat",children:"Snapchat"}),(0,yT.jsx)("option",{value:"Twitter (X)",children:"Twitter (X)"}),(0,yT.jsx)("option",{value:"WhatsApp",children:"WhatsApp"}),(0,yT.jsx)("option",{value:"Pinterest",children:"Pinterest"}),(0,yT.jsx)("option",{value:"Spotify",children:"Spotify"}),(0,yT.jsx)("option",{value:"Telegram",children:"Telegram"}),(0,yT.jsx)("option",{value:"Behance",children:"Behance"}),(0,yT.jsx)("option",{value:"Other",children:"Other"})]}),s?(0,yT.jsx)("input",{type:"text",value:h,onChange:function(e){d(e.target.value)},placeholder:"Enter link title",className:"title-input",required:!0}):null,(0,yT.jsx)("input",{type:"text",value:v,onChange:function(e){var t=e.target.value;m(t),t.startsWith("https://")||t.startsWith("http://")?I(!1):I(!0)},placeholder:"Enter link URL",className:"url-input",required:!0}),x?(0,yT.jsx)("p",{className:"incorrect-chatpass",children:'Your link must starts with "https" or "http"'}):null,(0,yT.jsx)("input",{type:"submit",className:"done-link",value:"Done"})]})}),(0,yT.jsxs)("div",{className:"HomeContent",children:[(0,yT.jsx)("div",{className:"logout-div",children:(0,yT.jsx)("img",{onClick:function(){l_.signOut(),r("/"),window.location.reload()},className:"logout-icon",src:bT})}),(0,yT.jsx)("div",{className:"main-home",children:b&&b.map((function(e){return e.uid==l_.currentUser.uid?(0,yT.jsxs)(yT.Fragment,{children:[(0,yT.jsxs)("h1",{className:"user-name",children:["Hi ",e.name,","]}),(0,yT.jsx)("h2",{className:"user-guides",children:"Welcome to your LinkMap portal. Here you can add links how much you want to add and then share via the link given below."}),(0,yT.jsx)("div",{className:"share-link-box",children:(0,yT.jsx)("a",{target:"blank",className:"share-link",href:"https://linkmap.vercel.app/".concat(e.username),children:"https://linkmap.vercel.app/".concat(e.username)})}),(0,yT.jsx)("br",{}),(0,yT.jsx)("br",{}),(0,yT.jsxs)("div",{className:"head-home",children:[(0,yT.jsx)("h2",{className:"your-links",children:"Your links:-"}),(0,yT.jsx)("button",{className:"add-links",onClick:T,children:"Add link"})]}),0==S?(0,yT.jsx)("p",{children:"Currently no link is there. Please add some links."}):(0,yT.jsx)("div",{className:"links-container",children:(0,yT.jsx)("div",{className:"links",children:S&&S.map((function(e){return(0,yT.jsxs)("div",{className:"link-box",children:[(0,yT.jsx)("img",{className:"linkImg",src:e.image}),(0,yT.jsx)("a",{className:"linkName",target:"blank",href:e.url,children:e.name}),(0,yT.jsx)("img",{id:"deleteNote",onClick:function(){!function(e){f_.collection("users").doc(l_.currentUser.uid).collection("links").doc(e).delete()}(e.lid)},className:"deleteLink",src:JC})]})}))})})]}):null}))})]})]})}var v_=(0,t.memo)(h_);Bt.initializeApp({apiKey:"AIzaSyC8uBfhDOx-bsQ3hnjb4tsmaaT7jCpkrjc",authDomain:"linkmap-d3486.firebaseapp.com",projectId:"linkmap-d3486",storageBucket:"linkmap-d3486.appspot.com",messagingSenderId:"953472080061",appId:"1:953472080061:web:5edb32309e438aeb4affd4",measurementId:"G-2975V448LB"});var m_=Bt.auth(),g_=Bt.firestore();function y_(){var e,n=g_.collection("users"),r=(c(mT(n),1)[0],g_.collection("users")),i=c(mT(r),1)[0],a=c((0,t.useState)(""),2),o=a[0],u=a[1],s=c((0,t.useState)(""),2),l=s[0],f=s[1],h=c((0,t.useState)(""),2),d=h[0],p=h[1],v=c((0,t.useState)(""),2),m=v[0],g=v[1],y=vC(),k=c((0,t.useState)(!1),2),w=k[0],b=k[1],A=c((0,t.useState)(!1),2),x=A[0],I=A[1],E=c((0,t.useState)(!1),2),S=E[0],T=E[1],C=c((0,t.useState)(!1),2),_=C[0],N=C[1],D=c((0,t.useState)(!1),2),P=D[0],R=D[1],O=c((0,t.useState)(!1),2),L=O[0],B=O[1],F=c((0,t.useState)(!1),2),M=F[0],U=F[1],j=c((0,t.useState)(!1),2),V=j[0],z=j[1],H=0;d.split("@")[1];return m_.currentUser&&y("/"),(0,yT.jsx)("div",{className:"SignUp",children:(0,yT.jsxs)("div",{className:"signup-box",children:[(0,yT.jsx)(VC,{to:"/",children:(0,yT.jsx)("img",{src:"data:image/png;base64,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",className:"signup-logo"})}),(0,yT.jsxs)("form",{className:"signup-form",onSubmit:function(t){return(e=e||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(P||L||w||M||S||x||_||V)){e.next=4;break}return alert("Cannot submit form due to error. Please fix them first"),e.abrupt("return");case 4:if(e.prev=4,i&&i.map((function(e){return o==e.username?H=1:console.log()})),0!=H){e.next=16;break}return e.next=9,m_.createUserWithEmailAndPassword(d,m);case 9:g_.collection("users").doc(m_.currentUser.uid).set({username:o,name:l,uid:m_.currentUser.uid,createdAt:Bt.firestore.FieldValue.serverTimestamp(),email:d}),u(""),f(""),p(""),g(""),e.next=18;break;case 16:R(!0),document.getElementById("usernameExist").style.display="block";case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),"auth/email-already-in-use"===e.t0.code?(B(!0),document.getElementById("emailExist").style.display="block"):"auth/weak-password"===e.t0.code?(z(!0),document.getElementById("invalidPass").style.display="block"):"auth/invalid-email"===e.t0.code&&(U(!0),document.getElementById("invalidEmail").style.display="block"),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,20]])})))).apply(this,arguments)},children:[(0,yT.jsx)("input",{type:"text",value:o,onKeyDown:function(e){"Backspace"===e.key&&(document.getElementById("capitalUsername").style.display="none",document.getElementById("usernameExist").style.display="none",document.getElementById("twoDots").style.display="none",document.getElementById("whitespaceFound").style.display="none",document.getElementById("otherThanUnderscore").style.display="none")},onChange:function(e){var t=e.target.value;u(t);var n=/[A-Z]/.test(t),r=/\s/.test(t),i=/\.{2}/.test(t);/[^.\w\s_]/.test(t)?(N(!0),document.getElementById("otherThanUnderscore").style.display="block"):n?(b(!0),document.getElementById("capitalUsername").style.display="block"):r?(I(!0),document.getElementById("whitespaceFound").style.display="block"):i?(T(!0),document.getElementById("twoDots").style.display="block"):1==H?(R(!0),document.getElementById("usernameExist").style.display="block"):""==t?(R(!1),b(!1),N(!1),I(!1),T(!1)):(document.getElementById("capitalUsername").style.display="none",document.getElementById("twoDots").style.display="none",document.getElementById("whitespaceFound").style.display="none",document.getElementById("otherThanUnderscore").style.display="none",document.getElementById("usernameExist").style.display="none",R(!1),b(!1),N(!1),I(!1),T(!1))},className:"signup-input",placeholder:"Username",required:!0}),(0,yT.jsx)("p",{id:"capitalUsername",className:"incorrect-chatpass",children:"You cannot use capital letters"}),(0,yT.jsx)("p",{id:"otherThanUnderscore",className:"incorrect-chatpass",children:"You cannot use special characters other than underscore"}),(0,yT.jsx)("p",{id:"twoDots",className:"incorrect-chatpass",children:"You cannot use two dots in a row"}),(0,yT.jsx)("p",{id:"whitespaceFound",className:"incorrect-chatpass",children:"You cannot use whitespace"}),(0,yT.jsx)("p",{id:"usernameExist",className:"incorrect-chatpass",children:"Username already exist"}),(0,yT.jsx)("input",{type:"text",value:l,onChange:function(e){return f(e.target.value)},className:"signup-input",placeholder:"Name",required:!0}),(0,yT.jsx)("input",{type:"email",value:d,onKeyDown:function(e){"Backspace"===e.key&&(B(!1),U(!1),document.getElementById("emailExist").style.display="none",document.getElementById("invalidEmail").style.display="none")},onChange:function(e){var t=e.target.value;p(t),L?document.getElementById("emailExist").style.display="block":""==t?(B(!1),U(!1)):M?document.getElementById("invalidEmail").style.display="block":(B(!1),U(!1),document.getElementById("emailExist").style.display="none",document.getElementById("invalidEmail").style.display="none"),B(!1),U(!1),document.getElementById("emailExist").style.display="none",document.getElementById("invalidEmail").style.display="none"},className:"signup-input",placeholder:"E-mail address",required:!0}),(0,yT.jsx)("p",{id:"emailExist",className:"incorrect-chatpass",children:"E-mail already in use"}),(0,yT.jsx)("p",{id:"invalidEmail",className:"incorrect-chatpass",children:"Invalid e-mail"}),(0,yT.jsx)("input",{type:"password",value:m,onKeyDown:function(e){"Backspace"===e.key&&(z(!1),document.getElementById("invalidPass").style.display="none")},onChange:function(e){var t=e.target.value;g(t),V?document.getElementById("invalidPass").style.display="block":""==t?z(!1):(z(!1),document.getElementById("invalidPass").style.display="none"),z(!1),document.getElementById("invalidPass").style.display="none"},className:"signup-input",placeholder:"Password",required:!0}),(0,yT.jsx)("p",{id:"invalidPass",className:"incorrect-chatpass",children:"Password must be of atleast 6 characters"}),(0,yT.jsx)("input",{type:"submit",className:"signup-submit ".concat(L||M||P||w||x||S||_?"disabled-signup-button":""),disabled:P||L||w||M||S||x||_||V})]}),(0,yT.jsxs)("p",{className:"signup-signin",children:["Do you have an account? ",(0,yT.jsx)(VC,{to:"/signin",children:"Sign In"})," "]})]})})}var k_=(0,t.memo)(y_);Bt.initializeApp({apiKey:"AIzaSyC8uBfhDOx-bsQ3hnjb4tsmaaT7jCpkrjc",authDomain:"linkmap-d3486.firebaseapp.com",projectId:"linkmap-d3486",storageBucket:"linkmap-d3486.appspot.com",messagingSenderId:"953472080061",appId:"1:953472080061:web:5edb32309e438aeb4affd4",measurementId:"G-2975V448LB"});var w_=Bt.auth(),b_=Bt.firestore();function A_(){var e,n,r=b_.collection("users"),i=(c(mT(r),1)[0],c((0,t.useState)(""),2)),a=i[0],o=i[1],u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(!1),2),h=f[0],d=f[1],p=c((0,t.useState)(!1),2),v=p[0],m=p[1],g=c((0,t.useState)(!1),2),y=g[0],k=g[1],w=vC(),b=c((0,t.useState)(!1),2),A=b[0],x=b[1];return w_.currentUser&&w("/"),(0,yT.jsx)("div",{className:"SignUp",children:(0,yT.jsxs)("div",{className:"signup-box",children:[(0,yT.jsx)(VC,{to:"/",children:(0,yT.jsx)("img",{src:"data:image/png;base64,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",className:"signup-logo"})}),(0,yT.jsxs)("form",{className:"signup-form",onSubmit:function(t){return(e=e||ue(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!h&&!v){e.next=4;break}return alert("Cannot sign in due to some errors. Please fix them first"),e.abrupt("return");case 4:return e.prev=4,n=lS(),e.next=8,Fx(n,a,s);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),"auth/user-not-found"==e.t0.code||"auth/wrong-password"===e.t0.code?(d(!0),document.getElementById("invalidCred").style.display="block"):"auth/too-many-requests"===e.t0.code&&(m(!0),document.getElementById("manyAttempts").style.display="block");case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)},children:[(0,yT.jsx)("input",{type:"email",value:a,onKeyDown:function(e){"Backspace"===e.key&&(d(!1),m(!1),x(!1),k(!1),document.getElementById("invalidCred").style.display="none",document.getElementById("noUser").style.display="none",document.getElementById("resetPass").style.display="none",document.getElementById("manyAttempts").style.display="none")},onChange:function(e){var t=e.target.value;o(t),""==t?(d(!1),m(!1),x(!1),k(!1),document.getElementById("invalidCred").style.display="none",document.getElementById("noUser").style.display="none",document.getElementById("resetPass").style.display="none",document.getElementById("manyAttempts").style.display="none"):h?document.getElementById("invalidCred").style.display="block":v?document.getElementById("manyAttempts").style.display="block":y?document.getElementById("noUser").style.display="block":A&&(document.getElementById("resetPass").style.display="block"),d(!1),m(!1),x(!1),k(!1),document.getElementById("noUser").style.display="none",document.getElementById("resetPass").style.display="none",document.getElementById("invalidCred").style.display="none",document.getElementById("manyAttempts").style.display="none"},className:"signup-input",placeholder:"E-mail address",required:!0}),(0,yT.jsx)("p",{id:"noUser",className:"incorrect-chatpass",children:"User not found"}),(0,yT.jsx)("input",{type:"password",value:s,onKeyDown:function(e){"Backspace"===e.key&&(d(!1),m(!1),x(!1),k(!1),document.getElementById("invalidCred").style.display="none",document.getElementById("noUser").style.display="none",document.getElementById("resetPass").style.display="none",document.getElementById("manyAttempts").style.display="none")},onChange:function(e){var t=e.target.value;l(t),""==t?(d(!1),m(!1),x(!1),k(!1),document.getElementById("invalidCred").style.display="none",document.getElementById("noUser").style.display="none",document.getElementById("resetPass").style.display="none",document.getElementById("manyAttempts").style.display="none"):h?document.getElementById("invalidCred").style.display="block":v?document.getElementById("manyAttempts").style.display="block":y?document.getElementById("noUser").style.display="block":A&&(document.getElementById("resetPass").style.display="block"),d(!1),m(!1),x(!1),k(!1),document.getElementById("invalidCred").style.display="none",document.getElementById("noUser").style.display="none",document.getElementById("resetPass").style.display="none",document.getElementById("manyAttempts").style.display="none"},className:"signup-input",placeholder:"Password",required:!0}),(0,yT.jsx)("p",{id:"invalidCred",className:"incorrect-chatpass",children:"Invalid credentials"}),(0,yT.jsx)("p",{id:"manyAttempts",className:"incorrect-chatpass",children:"Too many attemps. Try after some time or change your password."}),(0,yT.jsx)("input",{type:"submit",className:"signup-submit ".concat(h||v?"disabled-signup-button":""),disabled:h||v})]}),(0,yT.jsx)("p",{onClick:function(){return(n=n||ue(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!=a){e.next=5;break}alert("Please enter your email to reset password."),e.next=9;break;case 5:return e.next=7,Bt.auth().sendPasswordResetEmail(a);case 7:x(!0),document.getElementById("resetPass").style.display="block";case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"auth/user-not-found"==e.t0.code&&(k(!0),document.getElementById("noUser").style.display="block");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)},style:{cursor:"pointer"},className:"signup-signin",children:"Forgot password?"}),(0,yT.jsx)("p",{id:"resetPass",className:"correct-chatpass",children:"Email sent. Check inbox."}),(0,yT.jsxs)("p",{className:"signup-signin",children:[(0,yT.jsx)(VC,{to:"/signup",children:"Create account"})," "]})]})})}var x_=(0,t.memo)(A_);Bt.initializeApp({apiKey:"AIzaSyC8uBfhDOx-bsQ3hnjb4tsmaaT7jCpkrjc",authDomain:"linkmap-d3486.firebaseapp.com",projectId:"linkmap-d3486",storageBucket:"linkmap-d3486.appspot.com",messagingSenderId:"953472080061",appId:"1:953472080061:web:5edb32309e438aeb4affd4",measurementId:"G-2975V448LB"});Bt.auth();var I_=Bt.firestore();var E_=function(){var e,n=function(){var e=t.useContext(lC).matches,n=e[e.length-1];return n?n.params:{}}().userId,r=I_.collection("users"),i=c(mT(r),1)[0],a="sadasd",o="";i&&i.map((function(t){return(e=e||ue(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.username==n?(a=t.uid,o=t.name):null);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));var u=I_.collection("users").doc(a).collection("links"),s=c(mT(u),1)[0];return(0,yT.jsx)("div",{className:"LinkPage",children:0==s?(0,yT.jsx)(yT.Fragment,{children:""!=o?(0,yT.jsxs)("div",{className:"linkpage-box",children:[(0,yT.jsx)("p",{children:o}),(0,yT.jsx)("p",{children:"Currently no link is there"})]}):(0,yT.jsx)("p",{children:"Currently no link is there"})}):(0,yT.jsxs)(yT.Fragment,{children:[(0,yT.jsx)("h1",{className:"user-name",children:o}),(0,yT.jsxs)("h2",{className:"your-links head-linkPage",children:["Links of ",o," :-"]}),(0,yT.jsx)("div",{className:"links-container",children:(0,yT.jsx)("div",{className:"links",children:s&&s.map((function(e){return(0,yT.jsx)("a",{style:{textDecoration:"none"},target:"blank",href:e.url,children:(0,yT.jsxs)("div",{className:"link-box",children:[(0,yT.jsx)("img",{className:"linkImg",src:e.image}),(0,yT.jsx)("a",{className:"linkName",target:"blank",href:e.url,children:e.name}),(0,yT.jsx)("p",{})]})})}))})}),(0,yT.jsx)("br",{})]})})};Bt.initializeApp({apiKey:"AIzaSyC8uBfhDOx-bsQ3hnjb4tsmaaT7jCpkrjc",authDomain:"linkmap-d3486.firebaseapp.com",projectId:"linkmap-d3486",storageBucket:"linkmap-d3486.appspot.com",messagingSenderId:"953472080061",appId:"1:953472080061:web:5edb32309e438aeb4affd4",measurementId:"G-2975V448LB"});var S_=Bt.auth();Bt.firestore();var T_=function(){return c(YC(S_),1)[0],(0,yT.jsx)("div",{className:"App",children:(0,yT.jsxs)(NC,{children:[(0,yT.jsx)(CC,{path:"/",element:(0,yT.jsx)(v_,{})}),(0,yT.jsx)(CC,{path:"/signup",element:(0,yT.jsx)(k_,{})}),(0,yT.jsx)(CC,{path:"/signin",element:(0,yT.jsx)(x_,{})}),(0,yT.jsx)(CC,{path:"/:userId",element:(0,yT.jsx)(E_,{})})]})})},C_=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,yT.jsx)(t.StrictMode,{children:(0,yT.jsx)(MC,{children:(0,yT.jsx)(T_,{})})})),C_()}()}();
//# sourceMappingURL=main.f214ee19.js.map